{"title":"「SCOI2016」美味","time_limit":3000,"memory_limit":256,"tags":["2016","SCOI","线段树","异或"],"operation":{"submit":"https://loj.ac/problem/2016#submit_code","submissions":"https://loj.ac/submissions?problem_id=2016","statistics":"https://loj.ac/problem/2016/statistics/fastest","testdata":"https://loj.ac/problem/2016/testdata","discussion":"https://loj.ac/discussion/problem/2016"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一家餐厅有 $ n $ 道菜，编号 $ 1 \\ldots n $，大家对第 $ i $ 道菜的评价值为 $ a_i \\:( 1 \\leq i \\leq n ) \\:$。有 $ m $ 位顾客，第 $ i $ 位顾客的期望值为 $ b_i $，而他的偏好值为 $ x_i $。因此，第 $ i $ 位顾客认为第 $ j $ 道菜的美味度为 $ b_i \\mathbin{\\text{xor}} (a_j + x_i) $（$ \\text{xor} $ 表示异或运算）。  \r\n第 $ i $ 位顾客希望从这些菜中挑出他认为最美味的菜，即美味值最大的菜，但由于价格等因素，他只能从第 $ l_i $ 道到第 $ r_i $ 道中选择。请你帮助他们找出最美味的菜。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，两个整数，$ n, m $，表示菜品数和顾客数。  \r\n第二行，$ n $ 个整数，$ a_1, a_2, \\ldots, a_n $，表示每道菜的评价值。  \r\n第三至 $ m + 2 $ 行，每行 $ 4 $ 个整数，$ b, x, l, r $，表示该位顾客的期望值，偏好值，和可以选择菜品区间。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":" 输出 $ m $ 行，每行一个整数表示该位顾客选择的最美味的菜的美味值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 4\r\n1 2 3 4\r\n1 4 1 4\r\n2 3 2 3\r\n3 2 3 3\r\n4 1 2 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n9\r\n7\r\n6\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 1 \\leq n \\leq 2 \\times 10 ^ 5, 0 \\leq a_i, b_i, x_i < 10 ^ 5, 1 \\leq l_i \\leq r_i \\leq n(1 \\leq i \\leq m), 1 \\leq m \\leq 10 ^ 5 $"}]}