{"title":"「CEOI2011」Matching","time_limit":2000,"memory_limit":64,"tags":["2011","CEOI"],"operation":{"submit":"https://loj.ac/problem/2507#submit_code","submissions":"https://loj.ac/submissions?problem_id=2507","statistics":"https://loj.ac/problem/2507/statistics/fastest","testdata":"https://loj.ac/problem/2507/testdata","discussion":"https://loj.ac/discussion/problem/2507"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"对于整数序列 $(a_1,a_2,\\cdots,a_n)$ 和 $1\\sim n$ 的排列 $(p_1,p_2,\\cdots,p_n)$，称 $(a_1,a_2,\\cdots,a_n)$ 符合 $(p_1,p_2,\\cdots,p_n)$，当且仅当：\r\n\r\n* $\\{a\\}$ 中任意两个数字互不相同；\r\n* 将 $(a_1,a_2,\\cdots,a_n)$ 从小到大排序后，将会得到 $(a_{p_1},a_{p_2},\\cdots,a_{p_n})$。\r\n\r\n现在给出 $1\\sim n$ 的排列 $\\{p\\}$ 和序列 $h_1,h_2,\\cdots,h_m$，请你求出哪些 $\\{h\\}$ 的子串符合排列 $\\{p\\}$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个空格隔开的正整数 $n,m$。  \r\n第二行 $n$ 个空格隔开的正整数，表示排列 $p$。  \r\n第三行 $m$ 个空格隔开的正整数，表示序列 $h$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $k$，表示符合 $\\{p\\}$ 的子串个数。  \r\n第二行 $k$ 个空格隔开的正整数，表示这些子串的起始位置（编号从 $1$ 开始）。请将这些位置按照从小到大的顺序输出。特别地，若 $k=0$，那么你也应当输出一个空行。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 10\r\n2 1 5 3 4\r\n5 6 3 8 12 7 1 10 11 9\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n2\r\n2 6\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $35\\%$ 的数据，有 $n\\le 5\\ 000;m\\le 20\\ 000$。  \r\n对于 $60\\%$ 的数据，有 $n\\le 50\\ 000;m\\le 200\\ 000$。  \r\n对于 $100\\%$ 的数据，有 $2\\le n\\le m\\le 1\\ 000\\ 000;1\\le h_i\\le 10^9;1\\le p_i\\le n$，保证 $\\{h\\}$ 中的元素互不相同，且 $\\{p\\}$ 是一个排列。"}]}