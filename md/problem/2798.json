{"title":"「CCC 2016」合并饭团","time_limit":1000,"memory_limit":256,"tags":["2016","CCC"],"operation":{"submit":"https://loj.ac/problem/2798#submit_code","submissions":"https://loj.ac/submissions?problem_id=2798","statistics":"https://loj.ac/problem/2798/statistics/fastest","testdata":"https://loj.ac/problem/2798/testdata","discussion":"https://loj.ac/discussion/problem/2798"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [CCC2016](https://cemc.math.uwaterloo.ca/contests/computing/2016/index.html) Senior T4.** ***[Combining Riceballs](https://cemc.math.uwaterloo.ca/contests/computing/2016/stage%201/seniorEn.pdf)***\r\n\r\nAlphonse 有 $N$ 个美味的饭团，它们大小不一，摆放成一行。他想把最大的饭团让给自己的基友。他可以执行以下操作：\r\n\r\n - 如果两个**相邻的**饭团大小相同，Alphonse 可以把它们合并成一个新的饭团。新饭团的大小是两个原饭团大小之和。它将占据两个原饭团先前占据的位置。\r\n\r\n - 如果两个饭团大小相同，且它们之间只有一个饭团，Alphonse 也可以把它们合并成一个新的饭团。（中间的饭团大小没有规定。）新饭团的大小是三个原饭团大小之和，并占据三个原饭团先前的位置。\r\n\r\nAlphonse 可以按照他的意愿执行任意次操作。\r\n\r\n在执行 0 或更多次操作后，确定他应该把哪个饭团让给基友。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，一个整数 $N(1 \\le N \\le 400)$。\r\n\r\n第二行，$N$ 个以空格分隔的整数，表示每个饭团的大小，按照从左到右的顺序给出。每个整数的上界为 $1\\ 000\\ 000$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 Alphonse 可以得到的最大的饭团大小。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n7\r\n47 12 12 3 9 9 3\r\n```\r\n#### 样例输出 1\r\n```plain\r\n48\r\n```\r\n#### 样例解释 1\r\n有一种可能的合并方案为：合并大小同为 $12$ 的两个饭团，得到一个大小为 $24$ 的饭团。然后合并大小同为 $9$ 的两个饭团，得到一个大小为 $18$。接着合并大小为 $3,18$ 和 $3$ 的三个饭团，得到一个大小为 $24$ 的饭团。最后合并大小同为 $24$ 的两个饭团，得到一个大小为 $48$ 的饭团。\r\n\r\n#### 样例输入 2\r\n```plain\r\n4\r\n1 2 3 1\r\n```\r\n#### 样例输出 2\r\n```plain\r\n3\r\n```\r\n#### 样例解释 2\r\n我们无法进行操作，所以答案为 $3$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $\\frac1{15}$ 的数据，$N = 4$。\r\n\r\n对于另外 $\\frac2{15}$ 的数据，$N \\le 10$。\r\n\r\n对于另外 $\\frac5{15}$ 的数据，$N \\le 50$。"}]}