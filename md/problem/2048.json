{"title":"「HNOI2016」最小公倍数","time_limit":3000,"memory_limit":256,"tags":["2016","HNOI","并查集","离线","分块及按大小分类","数据结构"],"operation":{"submit":"https://loj.ac/problem/2048#submit_code","submissions":"https://loj.ac/submissions?problem_id=2048","statistics":"https://loj.ac/problem/2048/statistics/fastest","testdata":"https://loj.ac/problem/2048/testdata","discussion":"https://loj.ac/discussion/problem/2048"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一张 $ N $ 个顶点 $ M $ 条边的无向图（顶点编号为 $ 1,2, \\cdots ,n $），每条边上带有权值。所有权值都可以分解成 $ 2^a \\cdot 3^b $ 的形式。\r\n\r\n现在有 $ q $ 个询问，每次询问给定四个参数 $ u $、$ v $、$ a $ 和 $ b $，请你求出是否存在一条顶点 $ u $ 到 $ v $ 之间的路径，使得路径依次经过的边上的权值的最小公倍数为 $ 2^a \\cdot 3^b $ 。\r\n\r\n**注意**：路径可以不是简单路径。\r\n\r\n\r\n下面是一些可能有用的定义：  \r\n最小公倍数： $ k $ 个数 $ a_1 , a_2, \\cdots , a_k $ 的最小公倍数是能被每个 $a_i$ 整除的最小正整数。  \r\n路径：路径 $ P \\colon P_1,P_2,…,P_k $ 是顶点序列，满足对于任意 $ 1 \\leq i < k $ ，节点 $ P_i $ 和 $ P_{i+1} $ 之间都有边相连。  \r\n简单路径：如果路径 $ P \\colon P_1,P_2,…,P_k $ 中，对于任意 $ 1 \\leq s \\neq t \\leq k $ 都有 $ P_s \\neq P_t $ ，那么称路径为简单路径。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件的第一行包含两个整数 $ N $ 和 $ M $ ，分别代表图的顶点数和边数。  \r\n接下来 $ M $ 行，每行包含四个整数 $ u $、$ v $、$ a $、$ b $ 代表一条顶点 $ u $ 和 $ v $ 之间、权值为 $ 2^a \\cdot 3^b $ 的边。  \r\n接下来一行包含一个整数 $ q $ ，代表询问数。  \r\n接下来 $ q $ 行，每行包含四个整数 $ u $ 、$ v $ 、$ a $  和 $ b $，代表一次询问。  \r\n询问内容请参见问题描述。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每次询问，如果存在满足条件的路径，则输出一行 ``Yes``，否则输出一行 ``No``\r\n\r\n（**注意**：第一个字母大写，其余字母小写） 。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 5 \r\n1 2 1 3 \r\n1 3 1 2 \r\n1 4 2 1 \r\n2 4 3 2 \r\n3 4 2 2 \r\n5 \r\n1 4 3 3 \r\n4 2 2 3 \r\n1 3 2 2 \r\n2 3 2 2 \r\n1 3 4 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nYes \r\nYes \r\nYes \r\nNo \r\nNo\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有的数据，$1 \\leq n,q \\leq 50000,\\ 1 \\leq m \\leq 100000,\\ 0 \\leq a,b \\leq 10^9 $。"}]}