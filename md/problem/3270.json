{"title":"「COCI 2020.3」Trener","time_limit":2000,"memory_limit":512,"tags":["COCI","2020"],"operation":{"submit":"https://loj.ac/problem/3270#submit_code","submissions":"https://loj.ac/submissions?problem_id=3270","statistics":"https://loj.ac/problem/3270/statistics/fastest","testdata":"https://loj.ac/problem/3270/testdata","discussion":"https://loj.ac/discussion/problem/3270"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [COCI 2019/2020 Contest #6](https://hsin.hr/coci/archive/2019_2020/) T5.** ***[Trener](https://hsin.hr/coci/archive/2019_2020/contest6_tasks.pdf)***\r\n\r\n我们已经知道了学生们喜欢睡觉。Patrik 是这一记录的保持者。在最后一个梦中，他发现自己成为了他最喜欢的球队的队长。\r\n\r\n为了参加一场比赛，他把自己的所有球员分为 $N$ 组，每组 $K$ 名球员，对于第 $i$ 组的球员，他们的姓氏长度都为 $i$。\r\n\r\n现在，他要开始规划上场的球员组合了。一个组合有 $N$ 名球员，并且组委会对上场的球队还有有以下要求：\r\n\r\n- 所有球员的姓氏长度必须不同。\r\n- 所有球员的姓氏必须为其他姓氏比他长一个字符的球员的连续子串。\r\n\r\nPatrik 想知道，自己最多能把这些球员分为多少支可以上场的队伍。答案对 $10^9+7$ 取模。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入第一行为两个整数 $N,K$。\r\n\r\n接下来的 $N$ 行，每行 $K$ 个字符串，为球员的姓氏，保证第 $i$ 行的字符串长度为 $i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数为最多分出的队伍支数，答案对 $10^9+7$ 取模。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 2\r\na b\r\nab bd\r\nabc abd\r\n```\r\n#### 样例输出 1\r\n```plain\r\n5\r\n```\r\n#### 样例说明 1\r\n可以分为如下队伍：`(a, ab, abc), (a, ab, abd), (b, ab, abc), (b, ab, abd), (b, bd, abd)`。\r\n#### 样例输入 2\r\n```plain\r\n3 3\r\na b c\r\naa ab ac\r\naaa aab aca\r\n```\r\n#### 样例输出 2\r\n```plain\r\n6\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n3 1\r\na\r\nbc\r\ndef\r\n```\r\n#### 样例输出 3\r\n```plain\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1\\le N\\le 50$，$1\\leq K\\leq 1500$。\r\n\r\n|任务编号|特殊限制|分值|\r\n|:-:|:-:|:-:|:-:|\r\n|$1$|$N=5,K=10$|$20$|\r\n|$2$|$N=50,K=100$|$30$|\r\n|$3$|无特殊限制|$50$|"}]}