{"title":"「JOISC 2020 Day1」汉堡肉","time_limit":3000,"memory_limit":1024,"tags":["JOISC","2020","2-SAT","数据结构","构造","随机化"],"operation":{"submit":"https://loj.ac/problem/3272#submit_code","submissions":"https://loj.ac/submissions?problem_id=3272","statistics":"https://loj.ac/problem/3272/statistics/fastest","testdata":"https://loj.ac/problem/3272/testdata","discussion":"https://loj.ac/discussion/problem/3272"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2020](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/index.html) Day1 T2「[美味しい美味しいハンバーグ](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day1/hamburg.pdf) / [Hamburg Steak](https://www.ioi-jp.org/camp/2020/2020-sp-tasks/day1/hamburg-en.pdf)」**\r\n\r\n你听说过奇异物品公司<!--沙雕发明公司-->（Just Odd Inventions, Ltd.）吗？这家公司以生产奇异物品出名。在本题中，我们简称它为 JOI 公司。\r\n\r\nJOI 公司将要举办一场盛大的年会，主厨正在一块由 $10^9\\times 10^9$ 个网格组成的超大的网格形烤架上烤着 $N$ 块汉堡肉。为了方便，我们用 $(x,~y)$ 表示从左往右数第 $x$ 列，从下往上数第 $y$ 行的网格。\r\n\r\n我们将汉堡肉编号为 $1\\ldots N$，其中第 $i$ 块汉堡覆盖了左下角 $(L_i,~D_i)$ 到右上角 $(R_i,~U_i)$ 的矩形区域，注意这些区域可能重叠。\r\n\r\n你是 JOI 公司的萌新，现在你有 $K$ 根竹签，你只要把竹签插到一个格子里就可以知道那格的肉有没有熟，你的任务是检查所有的肉是否已经煮熟。你可以把竹签插到一个没有肉的格子里，也可以把几根竹签插到同一格里。\r\n\r\n形式化地说，你的任务是寻找一个由 $K$ 个二元组 $(x_1,y_1),\\ldots,(x_n,y_n)$ 组成的 $K$ 元组（其中元素可以重复），使得：\r\n- 对于任意 $i\\in[1,N]$，存在 $j$ 使得 $L_i\\le x_j\\le R_i$ 且 $D_i\\le y_j\\le U_i$ 成立。\r\n- 对于任意 $j\\in[1,K]$，有 $1\\le x_j,~y_j \\le 10^9$。\r\n\r\n编写一个程序，给出汉堡肉覆盖的区域和竹签的数量，找出一个插竹签的方法。数据保证有解。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个空格分隔的整数 $N,~K$，含义见题面描述。\r\n\r\n接下来 $N$ 行每行四个空格分隔的整数 $L_i,~D_i,~R_i,~U_i$，描述一块汉堡肉。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $K$ 行，每行输出以空格分隔的两个整数 $x_j,~y_j$。如果有多解，输出任意一个。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 2\r\n2 1 3 3 \r\n1 2 4 3 \r\n6 1 7 4\r\n5 3 7 5\r\n```\r\n#### 样例输出 1\r\n```plain\r\n2 2\r\n7 4\r\n```\r\n#### 样例解释 1\r\n在 $(2,~2)$ 处插一根竹签，可以确定汉堡肉 $1$ 和 $2$ 的煮熟情况，在 $(7,~4)$ 处插一根竹签，可以确定汉堡肉 $(3,4)$ 的煮熟情况。\r\n\r\n另一种可行方案是，在 $(3,~3)$ 和 $(6,~4)$ 处分别插一根竹签。\r\n\r\n#### 样例输入 2\r\n```plain\r\n3 3\r\n1 1 1 1\r\n1 2 1 2\r\n1 3 1 3\r\n```\r\n#### 样例输出 2\r\n```plain\r\n1 1\r\n1 2\r\n1 3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，有 $1\\le N\\le 2\\times 10^5,~$$1\\le K\\le 4,~$$1\\le L_i\\le R_i\\le 10^9~(1\\le i\\le N),~$$1\\le D_i\\le U_i\\le 10^9~(1\\le i\\le N)$，且数据保证有解。\r\n\r\n各子任务限制如下：\r\n\r\n|子任务编号|分值|附加限制|\r\n|:-:|:-:|:-:|\r\n|1|<div>1</div>|$N\\le 2000,~K=1$|\r\n|2|1|$N\\le 2000,~K=2$|\r\n|3|<div>3</div>|$N\\le 2000,~K=3$|\r\n|4|6|$N\\le 2000,~K=4$|\r\n|5|1|$K=1$|\r\n|6|3|$K=2$|\r\n|7|6|$K=3$|\r\n|8|79|$K=4$|"}]}