{"title":"无聊的数对","time_limit":1000,"memory_limit":256,"tags":["线段树","容斥原理","数学"],"operation":{"submit":"https://loj.ac/problem/6540#submit_code","submissions":"https://loj.ac/submissions?problem_id=6540","statistics":"https://loj.ac/problem/6540/statistics/fastest","testdata":"https://loj.ac/problem/6540/testdata","discussion":"https://loj.ac/discussion/problem/6540"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"如果一个数对 $ (x,y) $ 是无聊的，当且仅当 $ x\\leq y$，且 $ x~ \\mathrm{xor}~y$ 的二进制表示下有奇数个 $ 1$。\r\n\r\n如果让你求 $[1,n]$ 内的所有无聊的数对，那实在是太简单辣！\r\n\r\n所以为了使得题目毒瘤一点，给出 $n$ 个区间 $[l_i,r_i]$，你需要数出有几对无聊的数 $(x,y)$ 满足 $x$ 和 $y$ 都在 $ [l_1,r_1] \\cup [l_2,r_2]... \\cup [l_i,r_i]$，即两个数都在前 $ i $ 个区间的并里。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $ n$；\r\n\r\n接下来 $ n$ 行每行两个整数 $ [l_i,r_i]$，表示第 $ i$ 个区间，保证 $ l_i\\leq r_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出$ n$ 行，第$ i$ 行一个整数表示有几对无聊的数 $ (x,y)$ 满足 $ x,y$ 都在前 $ i $ 个区间的并里。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5\r\n1 7\r\n3 10\r\n5 7\r\n4 111\r\n222 12838\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n12\r\n25\r\n25\r\n3080\r\n40500496\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 30\\%$ 的数据，有 $ 1\\leq n\\leq 100$, $1\\leq l_i\\leq r_i \\leq 100$；\r\n\r\n对于 $ 50\\%$ 的数据，有 $1\\leq n\\leq 1000$，$1\\leq l_i \\leq r_i \\leq 2^{32}-1$；\r\n\r\n对于 $ 100\\%$ 的数据，有 $1\\leq n \\leq 10^5$, $1\\leq l_i \\leq r_i \\leq 2^{32}-1$。"}]}