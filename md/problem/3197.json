{"title":"「eJOI2019」T 形覆盖","time_limit":1000,"memory_limit":100,"tags":["eJOI","2019","并查集"],"operation":{"submit":"https://loj.ac/problem/3197#submit_code","submissions":"https://loj.ac/submissions?problem_id=3197","statistics":"https://loj.ac/problem/3197/statistics/fastest","testdata":"https://loj.ac/problem/3197/testdata","discussion":"https://loj.ac/discussion/problem/3197"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**本题译自 [eJOI2019](http://ejoi2019.si/) Problem C.** ***[T - Covering](https://www.ejoi2019.si/static/media/uploads/tasks/covering-isc(1).pdf)***\r\n\r\n如果你玩过俄罗斯方块，应该见过如下图形：\r\n\r\n![img](https://loj-img.upyun.menci.memset0.cn/2019/09/04/5d6f9b74ab8c6.png)\r\n\r\n我们称它为一个 *T 形四格拼板*。其中心被标记为 $\\times$。\r\n\r\nManca 画了一个 $m$ 行 $n$ 列的长方形网格，行从 $0$ 至 $m-1$ 编号，列从 $0$ 至 $n-1$ 编号。其中每个格子上填有一个数。她将其中一些格子标记为*特殊格子*，接下来她向你询问一种在格子中放入 T 形四格拼板的方案，需满足：\r\n\r\n- 每个标记的格子恰是一个 T 形四格拼板的中心，其他位置不许放置拼板。\r\n- T 形四格拼板之间不能有重叠部分。\r\n- 所有拼板的部分均在网格内。\r\n\r\n注意，T 形四格拼板有四种摆放方式：$\\top, \\bot, \\vdash, \\dashv$。\r\n\r\n如果方案不存在，输出 `No`，否则请找出一种方案使得被拼板覆盖的数总和最大。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入两个正整数 $m, n$，表示行数和列数。\r\n\r\n接下来 $m$ 行，每行输入 $n$ 个整数，第 $i$ 行第 $j$ 个数（从 $0$ 开始编号）表示对应 $i$ 行 $j$ 列上的数 $a_{ij}$。\r\n\r\n接下来一行输入一个正整数 $k$，表示被标记的格子数量。\r\n\r\n接下来 $k$ 行，每行两个整数 $r_i, c_i$ 表示第 $i$ 个被标记的格子，保证坐标互不相同。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果有方案，输出可能的被覆盖的格子内数总和的最大值，否则输出 `No`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n5 6\r\n7 3 8 1 0 9\r\n4 6 2 5 8 3\r\n1 9 7 3 9 5\r\n2 6 8 4 5 7\r\n3 8 2 7 3 6\r\n3\r\n1 1\r\n2 2\r\n3 4\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n67\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n为了使总和最大，一种方案是这样的：\r\n- $(1, 1)$ 位置放置方向为 $\\dashv$。\r\n- $(2, 2)$ 位置放置方向为 $\\vdash$。\r\n- $(3, 4)$ 位置放置方向为 $\\bot$。\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n5 6\r\n7 3 8 1 0 9\r\n4 6 2 5 8 3\r\n1 9 7 3 9 5\r\n2 6 8 4 5 7\r\n3 8 2 7 3 6\r\n3\r\n1 1\r\n2 2\r\n3 3\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\nNo\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，保证 $1\\le k\\le nm \\le 10^6, 0\\le a_{ij}\\le 10^3$。\r\n\r\n| 子任务编号 | $k$ | 特殊限制 | 分值 |\r\n| :-: | :-: | :-: | :-: |\r\n| $1$ | $\\le 10^3$ | 保证对于 $i\\neq j$，$\\max(\\vert r_i - r_j\\vert, \\vert c_i - c_j\\vert) > 2$ | $5$ |\r\n| $2$ | $\\le 10^3$ | 保证对于 $i\\neq j$，若 $\\max(\\vert r_i - r_j\\vert, \\vert c_i - c_j\\vert)\\le 2$，则 $(r_i, c_i)$ 与 $(r_j, c_j)$ 有相邻边 | $10$ |\r\n| $3$ | $\\le 10^3$ | 保证对于 $i\\neq j$，$\\max(\\vert r_i - r_j\\vert, \\vert c_i - c_j\\vert) \\neq 2$ | $10 $ |\r\n| $4$ | $\\le 10^3$ | 所有特殊格子在同一行 | $10$ |\r\n| $5$ | $\\le 10$ | | $15$ |\r\n| $6$ | $\\le 10^3$ || $20$ |\r\n| $7$ | || $30$ |\r\n\r\n"}]}