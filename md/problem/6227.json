{"title":"「网络流 24 题」最长 k 可重线段集问题","time_limit":1000,"memory_limit":256,"tags":["网络流 24 题","网络流"],"operation":{"submit":"https://loj.ac/problem/6227#submit_code","submissions":"https://loj.ac/submissions?problem_id=6227","statistics":"https://loj.ac/problem/6227/statistics/fastest","testdata":"https://loj.ac/problem/6227/testdata","discussion":"https://loj.ac/discussion/problem/6227"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定平面 $\\text{xoy}$上 $n$ 个开线段组成的集合 $\\text{I}$，和一个正整数 $k$,试设计一个算法。\r\n\r\n从开线段集合 $\\text{I}$ 中选取出开线段集合 $\\text{S}\\in \\text{I}$,\r\n\r\n使得在x轴上的任何一点 $\\text{p}$ ， $\\text{S}$ 中与直线 $\\text{x}=\\text{p}$ 相交的开线段个数不超过 $\\text{k}$ ，\r\n\r\n且 $\\sum_{\\text{z} \\in \\text{S}}|z|$ 达到最大。\r\n\r\n这样的集合 $\\text{S}$ 称为开线段集合 $\\text{I}$ 的最长 $\\text{k}$ 可重线段集的长度。\r\n\r\n对于任何开线段 $\\text{z}$，设其端点坐标为 $( x_0 , y_0 )$ 和 $( x_1 , y_1 )$，\r\n\r\n则开线段 $\\text{z}$ 的长度 $|\\text{z}|$ 定义为： $|z| = \\lfloor \\sqrt{ ( x_1 - x_0 ) ^ 2 + ( y_1 - y_0 )^2 } \\rfloor$\r\n\r\n对于给定的开线段集合 $\\text{I}$ 和正整数 $\\text{k}$ ，计算开线段集合 $\\text{I}$ 的最长 $\\text{k}$ 可重线段集的长度。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"文件的第一 行有二 个正整数 $\\text{n}$ 和 $\\text{k}$ ，分别表示开线段的 个数和开线段的可重迭数。接下来的 $\\text{n}$ 行，每行有 4 个整数，表示开线段的 2 个端点坐标。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"程序运行结束时，输出计算出的最长 $k$ 可重线段集的长度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n4 2\r\n1 2 7 3\r\n6 5 8 3\r\n7 8 10 5\r\n9 6 13 9\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n17\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1\\leq n\\leq500,$ $1 \\leq k \\leq 13$."}]}