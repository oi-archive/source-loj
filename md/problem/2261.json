{"title":"「CTSC2017」密钥","time_limit":1000,"memory_limit":512,"tags":["2017","CTSC","数学","Special Judge"],"operation":{"submit":"https://loj.ac/problem/2261#submit_code","submissions":"https://loj.ac/submissions?problem_id=2261","statistics":"https://loj.ac/problem/2261/statistics/fastest","testdata":"https://loj.ac/problem/2261/testdata","discussion":"https://loj.ac/discussion/problem/2261"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一个密钥是一个长度为 $n = 2k + 1$ 的字符串，它包含 $1$ 个字母 $X$、$k$ 个字母 $A$ 和 $k$ 个字母 $B$。例如 $k = 3$ 时，$BAXABAB$ 就是一个密钥。  \r\n如下图所示，可以按顺时针顺序把这 $2k+1$ 个字母排成一个圈：\r\n\r\n![BAXABAB](https://ooo.0o0.ooo/2017/05/08/591081706babc.png)\r\n\r\n在 $k$ 个字母 $A$ 中，有一部分可以定义为「**强的**」。具体来说，从 $X$ 出发顺时针走到某个 $A$ 时，如果途中 $A$ 的数目**严格多于** $B$ 的数目，则称此字母 $A$ 为强的。  \r\n对于上面的例子来说，顺时针方向从字母 $X$ 数起第 $1$ 个和第 $2$ 个字母 $A$ 是强的，而第 $3$ 个字母 $A$ 不是强的。  \r\n一个密钥的**特征值**就是其中包含的强的字母 $A$ 的个数。\r\n\r\n天才小朋友 KT 给出了一个结论：  \r\n假设 $k$ 个字母 $A$ 所在的位置已经固定，但是剩下的 $k$ 个 $B$ 和 $1$ 个 $X$ 的位置是未知的。（注意，满足这样要求的密钥一共有 $k + 1$ 个，因为字母 $X$ 还剩下 $k + 1$ 个可能的位置。）  \r\n可以证明：所有这 $k + 1$ 个可能的密钥的特征值是各不相同的，它们恰好为 $0,1,2,...,k$。  \r\n下页的图是一个具体的示例，从左到右的四个子图中分别有 $3$ 个，$2$ 个，$1$ 个，$0$ 个字母 $A$ 是强的。\r\n\r\n![](https://ooo.0o0.ooo/2017/05/08/5910838f4f448.png)\r\n\r\n类似地，如果固定 $k$ 个字母 $B$ 的位置，那满足条件的所有 $k + 1$ 个密钥的特征值也各不相同，恰好为 $0,1,...,k$。\r\n\r\n现在你需要解决以下三个问题：\r\n\r\n1. 给定密钥中所有 $A$ 的位置，当密钥的特征值为 $0$ 时，请问 $X$ 在哪个位置。\r\n1. 给定密钥中所有 $A$ 的位置，当密钥的特征值为 $S$ 时，请问 $X$ 在哪个位置。\r\n1. 给定密钥中所有 $B$ 的位置，当密钥的特征值为 $S$ 时，请问 $X$ 在哪个位置。\r\n\r\n注意：字符串的 $2k + 1$ 个字母的位置由 $1$ 到 $2k + 1$ 编号。\r\n\r\n#### 例子 1\r\n假定 $k = 3,S = 2$。那么：  \r\n当 $A$ 的位置是 $\\{2,4,6\\}$ 且特征值为 $0$ 时，$X$ 的位置在 $7$；  \r\n当 $A$ 的位置是 $\\{2,4,6\\}$ 且特征值为 $2$ 时，$X$ 的位置在 $3$；  \r\n当 $B$ 的位置是 $\\{2,4,6\\}$ 且特征值为 $2$ 时，$X$ 的位置在 $5$。  \r\n#### 例子 2\r\n假定 $k=9,S=7$。那么：  \r\n当 $A$ 的位置是 $\\{3,4,5,9,10,12,13,16,19\\}$ 且特征值为 $0$ 时，$X$ 的位置在 $14$；  \r\n当 $A$ 的位置是 $\\{3,4,5,9,10,12,13,16,19\\}$ 且特征值为 $7$ 时，$X$ 的位置在 $18$；  \r\n当 $B$ 的位置是 $\\{3,4,5,9,10,12,13,16,19\\}$ 且特征值为 $7$ 时，$X$ 的位置在 $17$。  \r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"只包含一组测试数据。  \r\n第一行包含一个整数 $k$ ，意义如题所述。  \r\n第二行包含一个整数 $\\text{seed}$ ，这个数将用于生成一个 $k$ 元集合 $P$。  \r\n第三行包含一个整数 $S$，意义如题所述。  \r\n保证 $0\\leq S\\leq k \\leq 10^7,1\\leq \\text{seed} \\leq 10000$。  \r\n提供了三个用于生成输入数据的文件 `cipher.cpp/c/pas`。其中读入部分已经完成，在数组 $p[]$ 中，若 $p[i] = 0$ ，表示 $i$ 不属于集合 $P$，否则，$i$ 属于集合 $P$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出三行，每行一个数，依次对应问题描述中的三个子问题的答案。\r\n即：\r\n1. 第一个数表示当 $k$ 元集合 $P$ 代表 $A$ 的位置且特征值为 $0$ 时 $X$ 的位置。\r\n1. 第二个数表示当 $k$ 元集合 $P$ 代表 $A$ 的位置且特征值为 $S$ 时 $X$ 的位置。\r\n1. 第三个数表示当 $k$ 元集合 $P$ 代表 $B$ 的位置且特征值为 $S$ 时 $X$ 的位置。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5\r\n3344\r\n2\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n10\r\n1\r\n2\r\n```\r\n\r\n#### 样例解释 1\r\n第一个样例中，$P$ 数组为 $1$ 的元素的下标分别为 $5,6,7,8,9$。\r\n\r\n#### 样例输入 2\r\n```plain\r\n500000\r\n4545\r\n234567\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n999992\r\n246922\r\n753067\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$k\\leq 10^3$。  \r\n对于 $50\\%$ 的数据，$k\\leq 10^5$。  \r\n对于 $100\\%$ 的数据，$k\\leq 10^7$。  \r\n\r\n对于每个测试点，得分为以下三部分得分之和：  \r\n1. 如果第一问回答正确，你将获得 $3$ 分。\r\n1. 如果第二问回答正确，你将获得 $4$ 分。\r\n1. 如果第三问回答正确，你将获得 $3$ 分。\r\n\r\n**如果你仅仅知道部分答案，请也务必按此格式要求输出三个数，否则你可能会因格式错误无法得分。**"}]}