{"title":"「LibreOJ Round #8」Matching","time_limit":1000,"memory_limit":256,"tags":["LibreOJ Round","数学","构造"],"operation":{"submit":"https://loj.ac/problem/550#submit_code","submissions":"https://loj.ac/submissions?problem_id=550","statistics":"https://loj.ac/problem/550/statistics/fastest","testdata":"https://loj.ac/problem/550/testdata","discussion":"https://loj.ac/discussion/problem/550"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给出 $n$ 行 $m$ 列的网格，你可以选择任意两个网格配对，每个网格最多只能与一个网格配对，也可以不与任何网格配对。定义关于两个网格 $A, B$ 的权值函数 $f(A, B)$：\r\n$$\\begin{aligned} dx &= \\left|x_A - x_B\\right| \\\\ dy &= \\left|y_A - y_B\\right| \\\\ f(A, B) &= \\begin{cases} dx + dy & , dx + dy \\geq k \\\\ 0 & , dx + dy < k \\end{cases} \\end{aligned}$$\r\n\r\n一个配对方案的权值为其所有网格配对的权值之和 $\\sum f$。求给出网格中，所有配对方案中权值的最大值。\r\n\r\n<div class=\"lang-divider\"></div>\r\n\r\nGiven a grid with $n$ rows and $m$ columns, in this grid, you can choose two different grid points and match them into a pair. Notice that a point can only be matched with no more than one point. It means unmatched points are allowed. We define a weight function $f(A, B)$ for a pair of points $A, B$ as the following form:  \r\n$$\\begin{aligned} dx &= \\left|x_A - x_B\\right| \\\\ dy &= \\left|y_A - y_B\\right| \\\\ f(A, B) &= \\begin{cases} dx + dy & , dx + dy \\geq k \\\\ 0 & , dx + dy < k \\end{cases} \\end{aligned}$$\r\n\r\nThe weight of a possible matching scheme is defined as the sum of weights that the matching pairs given. Your task is to calculate the maximum possible weight of all matching schemes. "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从标准输入中读取数据。\r\n\r\n第一行，一个整数 $T$，表示数据组数。\r\n\r\n接下来 $T$ 行，每行三个整数 $n, m, k$，表示网格的行数、列数以及权值函数中的常数 $k$。\r\n\r\n<div class=\"lang-divider\"></div>\r\n\r\nRead from the standard input. \r\n\r\nThe first line contains a single integer $T$ which means the number of the test cases. \r\n\r\nEach of the following $T$ lines contains three integers $n, m, k$ which means the height and the width of the grid, and the constant $k$ in the weight function. "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到标准输出中。\r\n\r\n输出共 $T$ 行，对于每一组数据，输出一行一个整数，表示所有配对方案的配对权值和的最大值。\r\n\r\n<div class=\"lang-divider\"></div>\r\n\r\nWrite to the standard output. \r\n\r\nFor each test case, output a line containing a single integer — the maximum of the weight of possible matching plans. "},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n4\r\n1 1 0\r\n1 2 0\r\n2 2 1\r\n2 3 1\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n0\r\n1\r\n4\r\n7\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n对于 $1 \\times 1$ 的网格，不存在匹配方案，答案为 $0$。\r\n\r\n对于 $1 \\times 2$ 的网格，匹配方案唯一，答案为 $1$。\r\n\r\n对于 $2 \\times 2$ 的网格，左上格与右下格匹配，右上格与左下格匹配，答案为 $4$。如下图所示。\r\n\r\n![样例说明 1](https://loj.ac/problem/1/testdata/download/Explanation3.png)\r\n\r\n对于 $2 \\times 3$ 的网格，左上格与中下格匹配，中上格与右下格匹配，右上格与左下格匹配，答案为 $7$。如下图所示。\r\n\r\n![样例说明 1](https://loj.ac/problem/1/testdata/download/Explanation4.png)\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n6\r\n23 66 12\r\n233 666 123\r\n2333 6666 1234\r\n23333 6666 1234\r\n2333 66666 1234\r\n23333 66666 12345\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n33759\r\n34876089\r\n34987610889\r\n1166494448889\r\n2682884270889\r\n34998761108889\r\n```\r\n\r\n<div class=\"lang-divider\"></div>\r\n\r\n#### Sample Input 1\r\n\r\n```plain\r\n4\r\n1 1 0\r\n1 2 0\r\n2 2 1\r\n2 3 1\r\n```\r\n\r\n#### Sample Output 1\r\n\r\n```plain\r\n0\r\n1\r\n4\r\n7\r\n```\r\n\r\n#### Sample Explanation 1\r\n\r\nAs for $1 \\times 1$ grid, there is no point for the only one to match, so the answer is $0$. \r\n\r\nAs for $1 \\times 2$ grid, we match the only two points into a pair, so the answer is $1$. \r\n\r\nAs for $2 \\times 2$ grid, we match the top left point and the bottom right one into a pair, the top right point and the bottom left one into a pair. The answer is $4$, as shown by the following picture. \r\n\r\n![Sample Explanation 1](https://loj.ac/problem/1/testdata/download/Explanation3.png)\r\n\r\nAs for $2 \\times 3$ grid, we match the top left point and the bottom middle one, the top middle point and the bottom right one, the top right point and the bottom left one. The answer is $7$, as shown by the following picture. \r\n\r\n![Sample Explanation 1](https://loj.ac/problem/1/testdata/download/Explanation4.png)\r\n\r\n#### Sample Input 2\r\n\r\n```plain\r\n6\r\n23 66 12\r\n233 666 123\r\n2333 6666 1234\r\n23333 6666 1234\r\n2333 66666 1234\r\n23333 66666 12345\r\n```\r\n\r\n#### Sample Output 2\r\n\r\n```plain\r\n33759\r\n34876089\r\n34987610889\r\n1166494448889\r\n2682884270889\r\n34998761108889\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1 \\leq T \\leq 10^5$，$1 \\leq n,m \\leq 10^6$，$0 \\leq k \\leq \\min(n, m) - 1$。\r\n\r\n详细的数据限制及约定如下（留空表示和上述所有数据的约定相同）：  \r\n\r\n|\t子任务编号\t|分值(百分比)\t|$T$\t\t\t|\t$n, m$\t\t\t\t|\t特殊限制\t\t\t\t\t\t\t\t\t|\r\n|:----------------------:|:----------------:|:-----------------------:|:-----------------------------------:|:-------------------------------------------------------------------:|\r\n|\t$1$\t\t\t|\t$10$\t\t|\t$\\leq 20$\t\t|\t$\\leq 2000$\t\t\t|\t$n \\leq 2$\t\t\t\t\t\t\t\t|\r\n|\t$2$\t\t\t|\t$15$\t\t|\t$\\leq 5$\t\t|\t$\\leq 8$\t\t\t\t|\t$n \\times m \\leq 10$ 且 $k = \\min(n, m) - 1$\t|\r\n|\t$3$\t\t\t|\t$25$\t\t|\t$\\leq 3$\t\t|\t$\\leq 16$\t\t\t\t|\t无\t\t\t\t\t\t\t\t\t\t|\r\n|\t$4$\t\t\t|\t$18$\t\t|\t$\\leq 100$\t|\t$\\leq 5000$\t\t\t|\t$n = m$ 且 $n \\equiv 0 \\pmod 2$\t\t\t\t|\r\n|\t$5$\t\t\t|\t$32$\t\t|\t$\\leq 10^5$\t|\t$\\leq 10^6$\t\t\t|\t无\t\t\t\t\t\t\t\t\t\t|\r\n\r\n<div class=\"lang-divider\"></div>\r\n\r\nFor all test cases, $1 \\leq T \\leq 10^5$，$1 \\leq n,m \\leq 10^6$，$0 \\leq k \\leq \\min(n, m) - 1$.\r\n\r\nDetailed constraints and hints are as follows (blank grids denote the same constraints as mentioned above):    \r\n\r\n|\tSubtask#\t|\tScore (percentage)\t|$T$\t\t\t|\t$n, m$\t\t\t\t|\tSpecial Constraints |\r\n|:----------------------:|:----------------:|:-----------------------:|:-----------------------------------:|:-------------------------------------------------------------------:|\r\n|\t$1$\t\t\t|\t$10$\t\t|\t$\\leq 20$\t\t|\t$\\leq 2000$\t\t\t|\t$n \\leq 2$\t\t\t\t\t\t\t\t|\r\n|\t$2$\t\t\t|\t$15$\t\t|\t$\\leq 5$\t\t|\t$\\leq 8$\t\t\t\t|\t$n \\times m \\leq 10$ and $k = \\min(n, m) - 1$\t|\r\n|\t$3$\t\t\t|\t$25$\t\t|\t$\\leq 3$\t\t|\t$\\leq 16$\t\t\t\t|\t-\t\t\t\t\t\t\t\t\t|\r\n|\t$4$\t\t\t|\t$18$\t\t|\t$\\leq 100$\t|\t$\\leq 5000$\t\t\t|\t$n = m$ and $n \\equiv 0 \\pmod 2$\t\t\t|\r\n|\t$5$\t\t\t|\t$32$\t\t|\t$\\leq 10^5$\t|\t$\\leq 10^6$\t\t\t|\t-\t\t\t\t\t\t\t\t\t|"}]}