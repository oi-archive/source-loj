{"title":"「COCI 2019.1」Slagalica","time_limit":1000,"memory_limit":64,"tags":["COCI","2019"],"operation":{"submit":"https://loj.ac/problem/3131#submit_code","submissions":"https://loj.ac/submissions?problem_id=3131","statistics":"https://loj.ac/problem/3131/statistics/fastest","testdata":"https://loj.ac/problem/3131/testdata","discussion":"https://loj.ac/discussion/problem/3131"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [COCI 2018/2019 Contest #4](https://hsin.hr/coci/archive/2018_2019/) T4「[Slagalica](https://hsin.hr/coci/archive/2018_2019/contest4_tasks.pdf)」**\r\n\r\n自从 Jurica 学会解魔方之后，他开始对这种谜题有了兴趣，并且自己创造了一个神秘的玩具。他的谜题是一个平行四边形形状的三角形网格，其网格的节点是 $N$ 行 $M$ 列，**从下至上编号，同行从左至右编号**。如下图所示。\r\n\r\n<center>\r\n<img src=\"https://loj-img.upyun.menci.memset0.cn/2019/05/27/5cebba4e81cc6.png\" width=\"60%\"/>\r\n</center>\r\n\r\n该谜题有以下两种调整方法：\r\n\r\n- 选择一个单位菱形，其顶点为 $(x, y), (x + 1, y), (x + 1, y + 1), (x, y + 1)$，将其上的节点顺时针旋转。\r\n\r\n<center>\r\n<img src=\"https://loj-img.upyun.menci.memset0.cn/2019/05/27/5cebba4fb0c69.png\" width=\"60%\"/>\r\n</center>\r\n\r\n- 选择一个等边三角形，其顶点为 $(x, y), (x + 1, y), (x, y + 1)$，将其上的节点顺时针旋转。\r\n\r\n<center>\r\n<img src=\"https://loj-img.upyun.menci.memset0.cn/2019/05/27/5cebba4f664e1.png\" width=\"60%\"/>\r\n</center>\r\n\r\n一天，Jurica 无聊地摆弄着谜题，他进行了一系列操作，称这一系列操作整体为一个大操作。接着他开始不断地重复这个大操作，他发现每经过恰好 $K$ 次大操作后，谜题会回到最初的状态。\r\n\r\n给定 $N, M, K$，请找出一个大操作，使得恰好 $K$ 次大操作后，谜题会回到最初的状态，或者确定不存在这样一种大操作。注意你并不需要使得大操作的操作数量最少，但操作数量有一定限制。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"一行输入三个正整数 $N, M, K$，意义如题目描述所示。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"若不存在满足条件的操作序列，输出 $-1$。\r\n\r\n否则第一行输出一个正整数 $B (1\\le B \\le 5\\times 10^5)$，表示操作数量。\r\n\r\n接下来 $B$ 行，每行表示一个操作，按照操作顺序输出。每行一个字符 `R` 或 `T` 接着两个正整数 $x, y (1\\le x < N, 1\\le y < M)$，意义如题目描述所示。\r\n- `R` 表示对菱形的旋转\r\n- `T` 表示对三角形的旋转\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n2 3 2\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n5\r\nR 1 1\r\nR 1 1\r\nT 1 1\r\nT 1 1\r\nT 1 1\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n3 3 12\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n3\r\nR 1 1\r\nT 2 2\r\nT 2 1\r\n```\r\n\r\n#### 样例输入 3\r\n\r\n```plain\r\n5 4 116\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```plain\r\n-1\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $40\\%$ 的数据，保证 $N, M\\le 3$ 且 $K\\le 20$。\r\n\r\n对于 $100\\%$ 的数据，保证\r\n- $2\\le N, M \\le 100$\r\n- $2\\le K \\le 10^{12}$"}]}