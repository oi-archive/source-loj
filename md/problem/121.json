{"title":"「离线可过」动态图连通性","time_limit":800,"memory_limit":512,"tags":["模板","图论"],"operation":{"submit":"https://loj.ac/problem/121#submit_code","submissions":"https://loj.ac/submissions?problem_id=121","statistics":"https://loj.ac/problem/121/statistics/fastest","testdata":"https://loj.ac/problem/121/testdata","discussion":"https://loj.ac/discussion/problem/121"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"这是一道被离线爆艹的模板题。\r\n\r\n你要维护一张无向简单图。你被要求加入删除一条边及查询两个点是否连通。\r\n\r\n* `0`：加入一条边。保证它不存在。\r\n* `1`：删除一条边。保证它存在。\r\n* `2`：查询两个点是否连通。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行是两个数 $N\\ M$。$N \\leq 5000,M \\leq 500000$。\r\n\r\n接下来 $M$ 行，每一行三个数 $\\mathit{op}, x, y$。$\\mathit{op}$ 表示操作编号。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一个 $\\mathit{op}=2$ 的询问，输出一行 `Y` 或 `N` ，表示两个节点是否连通。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n200 5\r\n2 123 127\r\n0 123 127\r\n2 123 127\r\n1 127 123\r\n2 123 127\r\n``` \r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\nN\r\nY\r\nN\r\n```\r\n\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n4 10\r\n0 1 2\r\n0 2 3\r\n0 3 1\r\n2 1 4\r\n0 4 3\r\n2 1 4\r\n1 2 3\r\n2 1 4\r\n1 1 3\r\n2 1 4\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\nN\r\nY\r\nY\r\nN\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于数据点 1，$N \\leq 200,M \\leq 200$。  \r\n对于数据点 2，$N=5,M \\leq 30$。  \r\n对于数据点 3，$N=10,M \\leq 1000$，其中查询的次数 $\\geq 900$ 次。  \r\n对于数据点 4，$N=300,M \\leq 50000$。  \r\n对于数据点 5，$N=5000,M \\leq 200000$，没有操作 1，其中约 $70 \\%$ 是操作 2。  \r\n对于数据点 6，$N=5000,M \\leq 200000$，没有操作 1，其中约 $70 \\%$ 是操作 0。  \r\n对于数据点 7、8，$N=100,M \\leq 500000$。  \r\n对于数据点 9，$N=5000,M \\leq 500000$，图是一棵树，其直径 $ \\leq 6$。  \r\n对于数据点 10， $N=5000,M \\leq 500000$，图是一棵树，其每个点度数 $ \\leq 4$。\r\n\r\nP.S. 其实 9 是菊花，10 是单链，而没有放随机树的点...\r\n"}]}