{"title":"「JOI 2016 Final」领地","time_limit":1000,"memory_limit":256,"tags":["2016","JOI","子任务"],"operation":{"submit":"https://loj.ac/problem/2345#submit_code","submissions":"https://loj.ac/submissions?problem_id=2345","statistics":"https://loj.ac/problem/2345/statistics/fastest","testdata":"https://loj.ac/problem/2345/testdata","discussion":"https://loj.ac/discussion/problem/2345"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**本题译自 [JOI 2016 Final](https://www.ioi-jp.org/joi/2015/2016-ho/index.html) T4「[縄張り](https://www.ioi-jp.org/joi/2015/2016-ho/2016-ho.pdf)」**\r\n\r\n有一个平面直角坐标系。JOI 君位于 $(0, 0)$ 。  \r\nJOI 君**每天**都按照一个固定的程序移动一轮。该程序有 $N$ 个步骤，用一个长度为 $N$ 的字符串 $S$ 描述。这个字符串仅由大写字母 $\\texttt{E, N, W, S}$ 构成。  \r\n左数第 $i$ 个字符 $C_i (1\\leqslant i\\leqslant N)$ 表示 JOI 君会移动到哪里。如果在执行步骤 $i$ 前，JOI 君位于 $(x, y)$：\r\n* $C_i=\\texttt{E}$：JOI 君将移动到 $(x+1,y)$；\r\n* $C_i=\\texttt{N}$：JOI 君将移动到 $(x,y+1)$；\r\n* $C_i=\\texttt{W}$：JOI 君将移动到 $(x-1,y)$；\r\n* $C_i=\\texttt{S}$：JOI 君将移动到 $(x,y-1)$。\r\n\r\n次日 JOI 君会从他前一天停止的位置开始执行程序。  \r\nJOI 君会把 $(0, 0)$ 以及每个步骤结束后到达的点作标记。开始时 JOI 君没有标记任何点。$K$ 天后，对于任意整数 $a, b$，如果 $(a,b),$ $(a+1,b),$ $(a,b+1),$ $(a+1,b+1)$ 这四个点都被标记了一次或以上，以这四个点为顶点的 $1\\times 1$ 的正方形就属于 JOI 君的领地。  \r\n请问 $K$ 天后，JOI 君有多少个领地。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $N, K$，用空格分隔。  \r\n第二行有一个字符串 $S$，表示 JOI 君移动的程序。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数，表示 JOI 君有多少个领地。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n12 1\r\nEENWSEEESWWS\r\n```\r\n\r\n#### 输出样例 1\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n<img src=\"http://www.z4a.net/images/2018/02/16/JOI2016T4.png\" alt=\"JOI2016T4.png\" border=\"0\" width=\"90%\" margin=\"auto\"/>\r\n\r\n> 图中的字是之前完整题面的，懒得改了。「市政厅」表示 $(0, 0)$，「散步路径」表示移动路线。  \r\n> 图我没有仔细 PS 过，可能对不齐、不对称，强迫症的同学们麻烦忍一忍\r\n\r\n\r\n#### 输入样例 2\r\n```plain\r\n12 2\r\nEENWSEEESWWS\r\n```\r\n\r\n#### 输出样例 2\r\n```plain\r\n7\r\n```\r\n\r\n#### 样例解释 2\r\n样例 2 与样例 1 的不同在于在样例 2 中 JOI 君走了两天。\r\n\r\n<img src=\"http://www.z4a.net/images/2018/02/16/JOI2016T4-1.png\" alt=\"JOI2016T4-1.png\" border=\"0\" width=\"40%\" margin=\"auto\"/>\r\n\r\n#### 输入样例 3\r\n```plain\r\n7 1\r\nENNWNNE\r\n```\r\n\r\n#### 输出样例 3\r\n```plain\r\n0\r\n```\r\n\r\n#### 输入样例 4\r\n```plain\r\n16 5\r\nWSESSSWWWEEENNNW\r\n```\r\n\r\n#### 输出样例 4\r\n```plain\r\n21\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\leqslant N\\leqslant 10^5, 1\\leqslant K\\leqslant 10^9$。\r\n\r\n|Subtask #|特殊限制|分值|\r\n|-|-|-|\r\n|1|$N\\leqslant 50, K = 1$|5|\r\n|2|$K = 1$|10|\r\n|3|$N\\leqslant 50$|23|\r\n|4|无|62|"}]}