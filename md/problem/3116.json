{"title":"「IOI2017」诺鲁孜节","time_limit":1000,"memory_limit":256,"tags":["2017","IOI","贪心","随机化"],"operation":{"submit":"https://loj.ac/problem/3116#submit_code","submissions":"https://loj.ac/submissions?problem_id=3116","statistics":"https://loj.ac/problem/3116/statistics/fastest","testdata":"https://loj.ac/problem/3116/testdata","discussion":"https://loj.ac/discussion/problem/3116"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"再过几天就是诺鲁孜节了（波斯人的新年），爷爷邀请他的全家人到他的花园来聚会。在众多的宾客中有 $k$ 个小孩。为了让这些孩子们在聚会中更开心，爷爷打算让他们玩一个捉迷藏的游戏。\r\n\r\n整个花园可以看成一个有 $m\\times n$ 个方格的网格。其中有一些（或许没有）方格被岩石堵住了，而剩下的方格就称为**空格**。如果两个格子共享同一条边，我们就称这两个格子是**邻居**。因此，每一个方格最多有 $4$ 个邻居：两个水平方向的和两个垂直方向的。爷爷想把花园变成一个迷宫。为达此目的，他会在花园中的一些空格上种植灌木来堵住他们。而这些被灌木丛堵住的方格就不再是空格了。\r\n\r\n一个迷宫必须具有下面所述的性质。在迷宫中的任意一对空格 $a$ 和 $b$ 之间都只会恰有唯一的一条简单路径相连。而这条由 $a$ 到 $b$ 的简单路径就是一个从空格 $a$ 开始并以空格 $b$ 结束的空格序列，序列中所有的方格必须是不同的，而且每两个相连的方格都是邻居。\r\n\r\n一个小孩能够躲藏的方格当且仅当这个方格是空格，而且它恰有唯一一个邻居是空格。同一个空格内只能躲藏一个小孩。\r\n\r\n题目会给出整个花园的地图作为输入文件。你的任务就是帮助爷爷构造一个能够躲藏尽量多小孩的迷宫。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"这是一个提交答案型的题目，而且它有部分分。题目会给出 $10$ 个描述爷爷花园的输入文件，你可以在本题的附加文件中找到它们。对于每个输入文件你应该提交一个含有迷宫的地图作为输出文件。我们会根据你提交的每个输入文件中的迷宫能够躲藏的小孩数目来给出你的分数。\r\n\r\n这道题目你不需要提交任何源代码。\r\n\r\n每个输入文件都描述了一个表示整个花园的网格，我们也会给出爷爷邀请的小孩数目 $k$。格式如下：\r\n\r\n- 第 $1$ 行：$n\\ m\\ k$\r\n- 第 $1 + i(1 \\leq i \\leq m)$ 行：网格中的第 $i$ 行，它是一个长度为 $n$ 的字符串，包含以下的字符（中间没有空格）：\r\n    - `.`：一个空格。\r\n    - `#`：一块岩石。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"- 第 $i(1 \\leq i \\leq m)$ 行：迷宫中的第 $i$ 行 (种植了灌木的花园)。它是一个长度为 $n$ 的字符串，包含以下的字符（中间没有空格）：\r\n    - `.`：一个空格。\r\n    - `#`：一块岩石。\r\n    - `X`：一个灌木（注意字母 `X` 必须为大写字母）。\r\n\r\n**关于输出文件的评分：**\r\n\r\n一个**有效**的输出文件必须符合下列所有的条件：\r\n\r\n- 除了把输入文件中的任意多个字符 `.` 修改成字母 `X`（即被灌木堵塞）外，输出的地图必须和输入地图完全一样。\r\n- 输出的地图必须符合在上文中提及的迷宫的所有性质。\r\n\r\n对于某一个测试数据，如果你的输出不是有效的，你的这个测试数据的得分将会是 $0$。反之，你的得分是 $\\min(10, 10\\cdot l/k)$，向下取值至小数后二位，这里的 $l$ 是指你输出的迷宫中能够最多藏着的小孩数目，而 $k$ 则表示在输入文件中题目要求你躲藏的小孩数目。对于一个测试数据，你能够得到 $10$ 分，当且仅当你的输出是一个能够躲藏 $k$ 个或更多个小孩的迷宫。\r\n\r\n对于每组测试数据都存在一个能得到 $10$ 分的答案。\r\n\r\n需要注意的是，即使你的答案是有效的，但根据上述公式，你的得分仍然可能是 $0$ 分，此时评测返回的结果为 `Wrong Answer`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"考虑以下输入：\r\n\r\n~~~\r\n​4 5 5\r\n....#\r\n.#..#\r\n...#.\r\n....#\r\n~~~\r\n\r\n以下是其中一个有效的输出：\r\n\r\n~~~\r\n​.X.X#\r\n.#..#\r\n...#X\r\nXX..#\r\n~~~\r\n\r\n因为 $l = 4$ 个小孩能够藏在这个迷宫中，所以这个解答能够得到 $10 \\cdot 4 / 5 = 8$ 分。小孩能够躲藏的方格如下以字母 `O` 所示：\r\n\r\n~~~\r\nOXOX#\r\n.#.O#\r\n...#X\r\nXX.O#\r\n~~~\r\n\r\n以下的三个输出都不是有效的输出：\r\n\r\n~~~bash\r\n.XXX#    ...X#    XXXX#\r\n.#XX#    .#.X#    X#XX#\r\n...#.    ...#X    ..X#X\r\nXX..#    XXXX#    ..XX#\r\n~~~\r\n\r\n在最左边的输出中，左上角的空格和最右列（位于右下方）的空格之间并没有一条简单路径。\r\n\r\n在其他的两个输出中，对于任意两个空格之间都恰有两条简单路径相连。\r\n\r\n在压缩附件包里的文件 `examples/01.in` 和 `examples/01.out` 对应于上述样例。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"- $1 \\leq m, n \\leq 1024$。"}]}