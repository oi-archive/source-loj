{"title":"「BJOI2014」路径","time_limit":1000,"memory_limit":256,"tags":["标签待整理","数据待检查"],"operation":{"submit":"https://loj.ac/problem/2231#submit_code","submissions":"https://loj.ac/submissions?problem_id=2231","statistics":"https://loj.ac/problem/2231/statistics/fastest","testdata":"https://loj.ac/problem/2231/testdata","discussion":"https://loj.ac/discussion/problem/2231"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"在一个 $N$ 个节点的无向图（没有自环、重边）上，每个点都有一个符号，可能是数字，也可能是加号、减号、乘号、除号、小括号。你要在这个图上数一数，有多少种走恰好 $K$ 个节点的方法，使得路过的符号串起来能够得到一个算数表达式。路径的起点和终点可以任意选择。\r\n\r\n所谓算数表达式，就是由运算符连接起来的一系列数字。括号可以插入在表达式中以表明运算顺序。\r\n\r\n注意，你要处理各种情况，比如数字不能有多余的前导 $0$，减号只有前面没有运算符或数字的时候才可以当成负号，括号可以任意添加（但不能有空括号），0可以做除数（我们只考虑文法而不考虑语意），加号不能当正号。\r\n\r\n例如，下面的是合法的表达式：\r\n```plain\r\n-0/0\r\n((0)+(((2*3+4)+(-5)+7))+(-(2*3)*6))\r\n```\r\n而下面的不是合法的表达式：\r\n```plain\r\n001+0\r\n1+2(2)\r\n3+-3\r\n--1\r\n+1\r\n()\r\n```"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $N,M,K$，表示点的数量，边的数量和走的节点数。  \r\n第二行一个字符串，表示每个点的符号。  \r\n接下来 $M$ 行，每行两个数，表示一条边连的两个点的编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示走的方法数。这个数可能比较大，你只需要输出它模 $1000000007$ 的余数即可。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 10 3\r\n)(1*+0\r\n1 2\r\n1 3\r\n1 4\r\n2 3\r\n3 4\r\n2 5\r\n3 5\r\n3 6\r\n4 6\r\n5 6\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例解释\r\n![样例图](https://ooo.0o0.ooo/2017/05/27/5929168927cbd.png)  \r\n一共有十条路径，构成的表达式依次是\r\n```plain\r\n101\r\n(1)\r\n1+1\r\n1+0\r\n1*1\r\n1*0\r\n0+0\r\n0+1\r\n0*0\r\n0*1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\leq N \\leq 20,\\ 0 \\leq M \\leq \\frac{N(N-1)}{2},\\ 0 \\leq K \\leq 30$。"}]}