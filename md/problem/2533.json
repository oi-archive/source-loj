{"title":"「CQOI2018」交错序列","time_limit":500,"memory_limit":512,"tags":["CQOI","2018"],"operation":{"submit":"https://loj.ac/problem/2533#submit_code","submissions":"https://loj.ac/submissions?problem_id=2533","statistics":"https://loj.ac/problem/2533/statistics/fastest","testdata":"https://loj.ac/problem/2533/testdata","discussion":"https://loj.ac/discussion/problem/2533"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"我们称一个仅由 $0,1$ 构成的序列为「交错序列」，当且仅当序列中没有相邻的 $1$（可以有相邻的 $0$）。例如，$000,001,101$ 都是交错序列，而 $110$ 则不是。\r\n\r\n对于一个长度为 $n$ 的交错序列，统计其中 $0$ 和 $1$ 出现的次数，分别记为 $x$ 和 $y$。给定参数 $a,b$，定义一个交错序列的特征值为 $x^ay^b$。注意这里规定任何整数的 $0$ 次幂都等于 $1$（包括 $0^0=1$）。\r\n\r\n显然长度为 $n$ 的交错序列可能有多个。我们想要知道，所有长度为 $n$ 的交错序列的特征值的和，除以 $m$ 的余数。（$m$ 是一个给定的质数）\r\n\r\n例如，全部长度为 $3$ 的交错串为：$000,001,010,100,101$。当 $a=1,b=2$ 时，可计算：$3^1\\times0^2+2^1\\times1^2+2^1\\times1^2+2^1\\times1^2+1^1\\times2^2=10$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"共一行，包含三个空格分开的整数 $n,a,b$ 和 $m$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"共一行，为计算结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n3 1 2 1009\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n4 3 2 1009\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n204\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$1\\leq n\\leq 15$。\r\n\r\n对于 $100\\%$ 的数据，$1\\leq n\\leq 10^7,0\\leq a,b\\leq 45, m<10^8$。"}]}