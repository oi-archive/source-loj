{"title":"「IOI2018」会议","time_limit":4500,"memory_limit":805,"tags":["2018","IOI"],"operation":{"submit":"https://loj.ac/problem/2868#submit_code","submissions":"https://loj.ac/submissions?problem_id=2868","statistics":"https://loj.ac/problem/2868/statistics/fastest","testdata":"https://loj.ac/problem/2868/testdata","discussion":"https://loj.ac/discussion/problem/2868"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有 $N$ 座山横着排成一行，从左到右编号为从 $0$ 到 $N-1$。山 $i$ 的高度为 $H_i$（$0\\le i\\le N-1$）。每座山的顶上恰好住着一个人。\r\n\r\n你打算举行 $Q$ 个会议，编号为从 $0$ 到 $Q-1$。会议 $j$（$0\\le j\\le Q-1$）的参加者为住在从山 $L_j$ 到山 $R_j$（包括 $L_j$ 和 $R_j$）上的人（$0\\le L_j\\le R_j\\le N-1$）。对于该会议，你必须选择某个山 $x$ 做为会议举办地（$L_j\\le x\\le R_j$）。举办该会议的成本与你的选择有关，其计算方式如下：\r\n- 来自每座山 $y$（$L_j\\le y\\le R_j$）的参会者的成本，等于在山 $x$ 和 $y$ 之间（包含 $x$ 和 $y$）的所有山的最大高度。特别地，来自山 $x$ 的参会者的成本是 $H_x$，也就是山 $x$ 的高度。\r\n- 会议的成本等于其所有参会者的成本之和。\r\n\r\n你想要用最低的成本来举办每个会议。\r\n\r\n注意，所有的参会者将在每次会议后回到他们自己的山；所以一个会议的成本不会受到先前会议的影响。\r\n\r\n#### 实现细节\r\n你需要实现下面的函数：\r\n\r\n```cpp\r\nint64[] minimum_costs(int[] H, int[] L, int[] R)\r\n```\r\n\r\n- `H`：长度为 $N$ 的数组，表示这些山的高度。\r\n- `L` 和 `R`：两个长度为 $Q$ 的数组，表示这些会议的参会者的范围。\r\n- 该函数应返回一个长度为 $Q$ 的数组 $C$。$C_j$（$0\\le j\\le Q-1$）必须是举办会议 $j$ 的最低的可能成本。\r\n- 注意，$N$ 和 $Q$ 的值是数组的长度，题目中所有数组均用 `vector` 实现。\r\n---\r\n由于本题的特殊性，改为传统题方式测评。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"评测程序示例读取如下格式的输入数据（即为输入格式）：\r\n- 第一行：$N\\ Q$\r\n- 第二行：$H_0\\ H_1\\ \\ldots \\ H_{N-1}$\r\n- 第 $3+j$ 行（$0\\le j\\le Q-1$）：$L_j\\ R_j$\r\n\r\n评测程序示例将以如下格式输出 `minimum_costs` 的返回值（即为输出格式）：\r\n- 第 $1+j$ 行（$0\\le j\\le Q-1$）：$C_j$"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"设 $N=4,H=[2,4,3,5],Q=2,L=[0,1]$ 和 $R=[2,3]$。\r\n\r\n评测程序调用 `minimum_costs([2, 4, 3, 5], [0, 1], [2, 3])`。\r\n\r\n![meeting.png](https://loj-img.upyun.menci.memset0.cn/2020/05/04/5eaef046ef8dd.png)\r\n\r\n会议 $j=0$ 有 $L_j=0$ 和 $R_j=2$，所以将由住在山 $0,1$ 和 $2$ 上的人参加。如果山 $0$ 被选做举办地，会议 $0$ 的成本计算如下：\r\n- 住在山 $0$ 上的参会者的成本是 $\\max \\{ H_0\\}=2$。\r\n- 住在山 $1$ 上的参会者的成本是 $\\max \\{ H_0, H_1\\}=4$。\r\n- 住在山 $2$ 上的参会者的成本是 $\\max \\{ H_0, H_1, H_2\\}=4$。\r\n- 因此，会议 $0$ 的成本是 $2+4+4=10$。\r\n\r\n不可能以更低的成本来举办会议 $0$ 了，因此会议 $0$ 的最低成本是 $10$。\r\n\r\n会议 $j=1$ 有 $L_j=1$ 和 $R_j=3$，所以将由住在山 $1,2$ 和 $3$ 上的人参加。如果山 $2$ 被选做举办地，会议 $1$ 的成本计算如下：\r\n- 住在山 $1$ 上的参会者的成本是 $\\max \\{ H_1, H_2\\}=4$。\r\n- 住在山 $2$ 上的参会者的成本是 $\\max \\{ H_2\\}=3$。\r\n- 住在山 $3$ 上的参会者的成本是 $\\max \\{ H_2, H_3\\}=5$。\r\n- 因此，会议 $1$ 的成本是 $4+3+5=12$。\r\n\r\n不可能以更低的成本来举办会议 $1$ 了，因此会议 $1$ 的最低成本是 $12$。\r\n\r\n---\r\n#### 样例输入\r\n```plain\r\n4 2\r\n2 4 3 5\r\n0 2\r\n1 3\r\n```\r\n#### 样例输出\r\n```plain\r\n10\r\n12\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据：\r\n- $1\\le N,Q\\le 7.5\\times 10^5$\r\n- $1\\le H_i\\le 10^9$ $(0\\le i\\le N-1)$\r\n- $0\\le L_j\\le R_j\\le N-1$ 且保证区间两两不同（$0\\le j\\le Q-1$）。\r\n\r\n#### 子任务\r\n1. （4 分）$N\\le 3000,Q\\le 10$\r\n2. （15 分）$N\\le 5000,Q\\le 5000$\r\n3. （17 分）$N,Q\\le 10^5,H_i\\le 2\\ (0\\le i\\le N-1)$\r\n4. （24 分）$N,Q\\le 10^5,H_i\\le 20\\ (0\\le i\\le N-1)$\r\n5. （40 分）没有附加限制"}]}