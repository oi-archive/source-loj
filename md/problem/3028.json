{"title":"「ROIR 2018 Day2」分形","time_limit":250,"memory_limit":512,"tags":["2018","ROIR"],"operation":{"submit":"https://loj.ac/problem/3028#submit_code","submissions":"https://loj.ac/submissions?problem_id=3028","statistics":"https://loj.ac/problem/3028/statistics/fastest","testdata":"https://loj.ac/problem/3028/testdata","discussion":"https://loj.ac/discussion/problem/3028"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 ROI 2018 Regional. Day2 T3.** ***[Красота фейерверка](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-regional-2018-day2.pdf)***\r\n\r\n已知一棵包含 $n$ 个元素的有根树 $T^1$。定义 $T^m$ 为一棵树，生成方式是在 $T^{m-1}$ 的每个叶结点下面连一棵 $T^1$ 而得。\r\n\r\n![Snipaste_2019-03-20_12-58-47.png](https://loj-img.upyun.menci.memset0.cn/2019/03/20/5c91c8b5f00ad.png)\r\n\r\n试求 $T^m$ 的直径的长度（这里的长度指的是直径上的点数）。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行 $n,m$。  \r\n第二行 $p_2\\ldots p_n,\\ \\ $ $p_i$ 表示结点 $p_i$ 与结点 $i$ 有边连接。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 2\r\n1 1 2\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例解释\r\n![Snipaste_2019-03-20_13-22-50.png](https://loj-img.upyun.menci.memset0.cn/2019/03/20/5c91cf47d9b45.png)"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$3≤n≤2\\times 10^5,$ $1≤m≤2\\times 10^5.$\r\n\r\n|子任务编号|分值|$n$|$m$|\r\n|:-:|:-:|:-:|:-:|\r\n|1|19|$3 ≤ n ≤ 5000$|$m = 1$|\r\n|2|10| |$m=1$|\r\n|3|20|$3 ≤ n ≤ 5000$|$1 ≤ m ≤ 5000$|\r\n|4|19|$3 ≤ n≤ 5000$||\r\n|5|32||&nbsp;|\r\n"}]}