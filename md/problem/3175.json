{"title":"「IOI2019」排列鞋子","time_limit":1000,"memory_limit":1024,"tags":["IOI","2019"],"operation":{"submit":"https://loj.ac/problem/3175#submit_code","submissions":"https://loj.ac/submissions?problem_id=3175","statistics":"https://loj.ac/problem/3175/statistics/fastest","testdata":"https://loj.ac/problem/3175/testdata","discussion":"https://loj.ac/discussion/problem/3175"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Adnan 拥有巴库最大的鞋店。现在有一个装着 $n$ 双鞋的箱子刚运到他的鞋店。每双鞋是大小相同的两只：一只左脚，一只右脚。Adnan 把这 $2n$ 只鞋排成一行，该行总共有 $2n$ 个**位置**，从左到右编号为 $0$ 到 $2n-1$。\r\n\r\nAdnan 想把这些鞋子重新排成**合法的排列**。一个排列是合法的，当且仅当对于所有的 $i\\ (0\\le i\\le n-1)$，以下条件都成立：\r\n- 在位置 $2i$ 和 $2i+1$ 上的鞋子大小相同；\r\n- 在位置 $2i$ 上的鞋子是一只左脚鞋；\r\n- 在位置 $2i+1$ 上的鞋子是一只右脚鞋。\r\n\r\n为实现上述目标，Adnan 可以做一系列对调。在每次对调中，他选择当前**相邻**的两只鞋进行对调（也就是把它们拿起来，然后将每只鞋子放回到另一只鞋子原来的位置上）。两只鞋子是相邻的，如果其位置编号的差为 $1$。\r\n\r\n请求出 Adnan 最少要做出多少次对调，才能得到一个合法排列。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $n$，表示有 $n$ 双鞋。\r\n\r\n第二行 $2n$ 个整数 $S_i$，第 $i$ 个整数表示位置编号为 $i-1$ 的鞋子。其中 $|S_i|\\neq 0$，等于最初在位置 $i$ 上的鞋子的大小。这里 $|x|$ 表示 $x$ 的绝对值，当 $x>0$ 时等于 $x$，当 $x<0$ 时等于 $-x$。如果 $S_i<0$，则 $i$ 位置上的鞋子是一只左脚鞋，否则是右脚鞋。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示最少对调次数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2\r\n2 1 -1 -2\r\n```\r\n#### 样例输出 1\r\n```plain\r\n4\r\n```\r\n#### 样例说明 1\r\nAdnan 可以通过 $4$ 次对调而得到一个合法的排列。\r\n\r\n例如，他可以先对调 $1$ 和 $-1$，再对调 $1$ 和 $-2$，再对调 $-1$ 和 $-2$。最后对调 $-2$ 和 $2$。随后他就可以得到合法的排列 $[-2,2,-1,1]$。无法用少于 $4$ 次对调就得到合法的排列，因此输出 $4$。\r\n\r\n![shoes.png](https://loj-img.upyun.menci.memset0.cn/2019/08/09/5d4d4b578f934.png)\r\n\r\n#### 样例输入 2\r\n```plain\r\n3\r\n-2 2 2 -2 -2 2\r\n```\r\n#### 样例输出 2\r\n```plain\r\n1\r\n```\r\n#### 样例说明 2\r\nAdnan 可以对调在位置 $2$ 和 $3$ 上的鞋子来得到合法的排列 $[-2, 2, -2, 2, -2, 2]$，因此应当输出 $1$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据：\r\n- $1\\le n\\le 10^5$；\r\n- 对于所有 $i\\ (0\\le i\\le 2n-1)$，都有 $1\\le |S_{i+1}|\\le n$；\r\n- 总有某个合法的排列可以经由一系列对调而得到。\r\n\r\n详细子任务附加限制与分值如下表：\r\n\r\n| 子任务编号 |                           附加限制                           | 分值 |\r\n| :--------: | :----------------------------------------------------------: | :--: |\r\n|    $1$     |                            $n=1$                             | $10$ |\r\n|    $2$     |                           $n\\le 8$                           | $20$ |\r\n|    $3$     |                    所有鞋子大小都是相同的                    | $20$ |\r\n|    $4$     | 所有在位置 $0,\\ldots,n-1$ 上的鞋都是左脚鞋，而在位置 $n,\\ldots,2n-1$ 上的鞋都是右脚鞋。而且对于所有 $i\\ (0\\le i\\le n-1)$，在位置 $i$ 和 $i+n$ 上的鞋子大小相同 | $15$ |\r\n|    $5$     |                         $n\\le 10^3$                          | $20$ |\r\n|    $6$     |                          无附加限制                          | $15$ |\r\n\r\n"}]}