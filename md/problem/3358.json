{"title":"「BalticOI 2017 Day2」Friends","time_limit":1000,"memory_limit":256,"tags":["2017","BalticOI","Special Judge"],"operation":{"submit":"https://loj.ac/problem/3358#submit_code","submissions":"https://loj.ac/submissions?problem_id=3358","statistics":"https://loj.ac/problem/3358/statistics/fastest","testdata":"https://loj.ac/problem/3358/testdata","discussion":"https://loj.ac/discussion/problem/3358"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [BalticOI 2017](http://www.boi2017.org/) Day2「[Friends](http://www.boi2017.org/wp-content/uploads/2017/05/tasks-en.pdf)」**\r\n\r\n高中就是要交最棒的朋友！  \r\n乌姆里奇校长要调查霍格沃茨学校的交友情况了！   \r\n学校里有 $n$ 个同学，他们的交友情况满足以下的条件：\r\n\r\n- 如果 $a$ 与 $b$ 是朋友，那么 $b$ 与 $a$ 也是朋友；\r\n- 同学们可以分成组，每个同学都恰好只在一个组里面，且：\r\n\t- 每个组的人数至少 $1$ 个最多 $p$ 个；\r\n    - 每组都有最多 $q$ 对朋友满足一个人在这个组，另一个人在别的组。\r\n    \r\n在同一个组里的两个同学不一定必须是朋友。   \r\n现在她来问你，想让你判断出这些学生撒没撒谎。  \r\n如果没有撒谎的话，她想让你给出一个合理的分组模式。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个非负整数 $n,p,q$ 代表学生数，组别内学生的限制，和组别内不同组别朋友的限制。  \r\n学生的编号为从 $0$ 到 $n - 1$。   \r\n接下来 $n$ 行，从第 $0$ 个学生开始，首先一个整数 $m_i$ 代表这个学生与多少个学生为朋友，接下来 $m_i$ 个整数代表有哪些朋友。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果这些学生撒谎了，输出 `detention` 并结束程序。  \r\n如果这些学生没撒谎，首先输出 `home`。  \r\n然后一个整数 $G$ 代表这些学生可以分成 $G$ 组。  \r\n接下来 $G$ 行每行首先一个整数 $G'$ 代表这一组有几个学生，然后 $G'$ 个整数 $g_i$ 代表这一组学生的编号。  \r\n**任意输出一种方式即可。**"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```\r\n4 2 1\r\n1 1\r\n2 0 2\r\n2 1 3\r\n1 2\r\n```\r\n\r\n#### 样例输入 1\r\n\r\n```\r\nhome\r\n2\r\n2 0 1\r\n2 2 3\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```\r\n5 2 1\r\n1 1\r\n2 0 2\r\n2 1 3\r\n2 2 4\r\n1 3\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```\r\ndetention\r\n```\r\n\r\n#### 样例输入 3\r\n\r\n```\r\n3 3 3\r\n2 1 2\r\n2 0 2\r\n1 0\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```\r\ndetention\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1 \\le n \\le 2500$，$p+q \\le 15$，$\\sum m_i \\le 30000$，同学们不以自己为朋友。\r\n\r\n详细子任务分值及附加限制如下：\r\n\r\n- Subtask 1（20 pts）：$n \\le 16$。\r\n- Subtask 2（37 pts）：$n \\le 250$，$q \\le 2$。\r\n- Subtask 3（12 pts）：$q \\le 2$。\r\n- Subtask 4（31 pts）：无特殊限制。\r\n\r\n\r\n"}]}