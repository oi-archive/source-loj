{"title":"「AHOI / HNOI2017」队长快跑","time_limit":3000,"memory_limit":256,"tags":["2017","HNOI","AHOI","计算几何"],"operation":{"submit":"https://loj.ac/problem/2022#submit_code","submissions":"https://loj.ac/submissions?problem_id=2022","statistics":"https://loj.ac/problem/2022/statistics/fastest","testdata":"https://loj.ac/problem/2022/testdata","discussion":"https://loj.ac/discussion/problem/2022"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"众所周知，在 P 国外不远处盘踞着巨龙大 Y。传说中，在远古时代，巨龙大 Y 将 P 国的镇国之宝窃走并藏在了其巢穴中，这吸引着整个 P 国的所有冒险家前去夺回，尤其是皇家卫士队的队长小 W。在 P 国量子科技实验室的帮助下，队长小 W 通过量子传输进入了巨龙大 Y 的藏宝室，并成功夺回了镇国之宝。但此时巨龙布下的攻击性防壁启动，将小 W 困在了美杜莎的迷宫当中。\r\n\r\n被困在迷宫 $(0,0)$ 处的队长小 W 快速观察了美杜莎的迷宫的构造，发现迷宫的出口位于 $(p, q)$ 处。巨龙大 Y 在迷宫当中布置了 $n$ 个火焰吐息机关，每个机关可以用三个参数 $(x, y, \\theta)$ 表示，分别指明机关位于平面的坐标 $(x, y)$，以及火焰吐息的方向相对于 $x$ 轴正方向的倾角 $\\theta$。巨龙强大的力量使得火焰吐息有无穷长，且队长小 W 不能通过被火焰吐息覆盖的射线（注意，机关所处的坐标若没有被其他火焰吐息覆盖，则是可以通过的）。同时,迷宫在沿 $x$ 轴负方向无穷远的地方放置了美杜莎之眼，使得队长小 W 必须倾向于向 $x$ 轴正方向行动（即队长小 W 的移动方向在 $x$ 轴正方向上的投影必须为正,不能是负数或零），否则队长小 W 将被瞬间石化而无法逃离。\r\n\r\n心急如焚的队长小 W 需要趁着巨龙大 Y 还没将其抓住前逃离美杜莎的迷宫，所以他立马向 P 国智囊团求助，作为智囊团团长的你，一定可以帮队长小 W 找出安全逃至迷宫出口的最短道路。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为三个整数 $n, p, q$，分别表示火焰吐息机关总数以及出口坐标。  \r\n接下来 $n$ 行，每行两个整数与一个实数 $x, y, \\theta$，分别表示机关所处的坐标以及火焰吐息的关于 $x$ 轴正方向的倾角。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出文件仅包含一行一个小数，表示最短道路的长度。当你的答案和标准答案的相对误差不超过 $10^{−8}$ 时（即 $\\frac {|a - o|} a \\le 10^{-8}$ 时，其中 $a$ 是标准答案，$o$ 是输出）认为你的答案正确。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入一\r\n```plain\r\n7 20 -5\r\n4 3 -2.875\r\n5 7 -1.314\r\n10 -2 0.666\r\n16 1 -1.571\r\n16 1 1.571\r\n23 -3 -2.130\r\n14 -5 3.073\r\n```\r\n\r\n#### 样例输出一\r\n```plain\r\n33.3380422500\r\n```\r\n\r\n#### 样例解释一\r\n<img src=\"https://ooo.0o0.ooo/2017/04/17/58f41a1289e01.jpg\" width=\"800px\"/>\r\n\r\n\r\n#### 样例输入二\r\n```plain\r\n7 20 0\r\n5 2 1.155\r\n5 2 1.987\r\n5 2 -1.571\r\n11 -4 1.765\r\n11 -4 1.377\r\n15 -4 1.765\r\n15 -4 1.377\r\n```\r\n\r\n#### 样例输出二\r\n```plain\r\n24.2735704188\r\n```\r\n\r\n#### 样例解释二\r\n<img src=\"https://ooo.0o0.ooo/2017/04/17/58f41a12ba1dd.jpg\" width=\"800px\"/>\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$n\\le 300$；  \r\n对于 $60\\%$ 的数据，$n\\le 2000$；  \r\n对于 $80\\%$ 的数据，$n\\le 10^5$；  \r\n对于 $100\\%$ 的数据，$0\\le n, p, |q|, |x|, |y| \\le {10}^6, \\theta\\in [-\\pi, \\pi)$。\r\n\r\n数据保证至少存在一条合法路径，且起点和终点均不会被火焰路径覆盖。"}]}