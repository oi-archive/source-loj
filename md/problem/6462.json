{"title":"小 Z 的袜子在线版","time_limit":2000,"memory_limit":512,"tags":["原创"],"operation":{"submit":"https://loj.ac/problem/6462#submit_code","submissions":"https://loj.ac/submissions?problem_id=6462","statistics":"https://loj.ac/problem/6462/statistics/fastest","testdata":"https://loj.ac/problem/6462/testdata","discussion":"https://loj.ac/discussion/problem/6462"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"作为一个生活散漫的人，小 Z 每天早上都要耗费很久从一堆五颜六色的袜子中找出一双来穿。终于有一天，小 Z 再也无法忍受这恼人的找袜子过程，于是他决定听天由命……\r\n\r\n具体来说，小 Z 把这 $N$ 只袜子从 $1$ 到 $N$ 编号，然后从编号 $L$ 到 $R$ 随机选出两只袜子。  \r\n尽管小 Z 并不在意两只袜子是否是一对，甚至不在意两只袜子是否一左一右，他却很在意袜子的颜色，毕竟穿两只不同色的袜子会很尴尬。  \r\n你的任务便是告诉小 Z，他有多大的概率抽到两只颜色相同的袜子。当然，小 Z 希望这个概率尽量高，所以他可能会询问多个 $(L,R)$ 以方便自己选择。  \r\n数据中可能有 $L=R$ 的情况，请特判这种情况，输出 `0/1`。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入文件第一行包含两个正整数 $N$ 和 $M$。$N$ 为袜子的数量，$M$ 为小 Z 所提的询问的数量。\r\n\r\n接下来一行包含 $N$ 个正整数 $C_i$，其中 $C_i$ 表示第 $i$ 只袜子的颜色，相同的颜色用相同的数字表示。\r\n\r\n再接下来 $M$ 行，每行两个正整数 $L_e$，$R_e$ 表示一个询问。询问被加密，实际的询问区间通过 $L=(L_e+\\mathrm{lastans} - 1) \\bmod n + 1$、$R=(R_e-\\mathrm{lastans} - 1) \\bmod n + 1$ 计算，其中 $\\mathrm{lastans}$ 为上一次询问答案的分子与分母之和。第一次询问中定义 $\\mathrm{lastans} = 0$."},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"包含 $M$ 行，对于每个询问在一行中输出分数 `A/B` 表示从该询问的区间 $[L,R]$ 中随机抽出两只袜子颜色相同的概率。若该概率为 $0$ 则输出 $0/1$，否则输出的 `A/B` 必须为最简分数。（详见样例）"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 4\r\n1 2 3 3 3 2\r\n2 6\r\n6 4\r\n2 6\r\n5 2\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n2/5\r\n0/1\r\n1/1\r\n4/15\r\n```\r\n\r\n#### 样例解释\r\n解密后的数据为：\r\n```plain\r\n6 4\r\n1 2 3 3 3 2\r\n2 6\r\n1 3\r\n3 5\r\n1 6\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$N,M \\le 5000$；  \r\n对于 $60\\%$ 的数据，$N,M \\le 25000$；  \r\n对于 $100\\%$ 的数据，$N,M \\le 50000$，$1 \\le L < R \\le N$，$C_i \\le N$。"}]}