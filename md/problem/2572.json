{"title":"「ZJOI2017」字符串","time_limit":3000,"memory_limit":512,"tags":["2017","ZJOI"],"operation":{"submit":"https://loj.ac/problem/2572#submit_code","submissions":"https://loj.ac/submissions?problem_id=2572","statistics":"https://loj.ac/problem/2572/statistics/fastest","testdata":"https://loj.ac/problem/2572/testdata","discussion":"https://loj.ac/discussion/problem/2572"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"猪小侠最近学习了字符串相关理论，现在他遇到了这样一个题：\r\n\r\n维护一个动态字符串 $s[1..n]$ ，字符串的字符集是所有 $|x| ≤ 10^9$ 的整数。要求支持两个操作：\r\n- 输入 $l, r, d$ ，对于所有 $l ≤ i ≤ r$ ，将 $s[i]$ 修改为 $s[i] + d$ ，注意 $d$ 可能是负数。\r\n- 输入 $l, r$ ，输出子串 $s[l..r]$ 的字ި序最小的后缀的起点位置。即，如果最小后缀是 $s[p..r],(l ≤p ≤ r)$ ，请输出 $p$ 。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个非负整数 $n, q$ 。\r\n\r\n接下来一行包含 $n$ 个正整数，表示初始时的字符串。\r\n\r\n接下来 $q$ 行，每行为 $1$ $l$ $r$ $d$ 或 $2$ $l$ $r$ ，分别表示两种操作。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于所有的查询操作按顺序输出答案。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 5\r\n3 2 1 4 3\r\n2 1 5\r\n1 2 4 2\r\n2 1 5\r\n1 2 5 1\r\n2 1 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n5\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|测试点编号|n|m|其他约定|\r\n|:-:|:-:|:-:|:-:|\r\n|1|$≤ 300$|$≤ 300$|无|\r\n|2|$≤ 2 × 10^4$|$≤10^4 $|无|\r\n|3|$≤ 2 × 10^4$|$≤10^4 $|无|\r\n|4|$≤ 2 × 10^5$|$3×10^4$|只有第二类操作|\r\n|5|$≤ 2 × 10^5$|$3×10^4$|只有第二类操作|\r\n|6|$≤ 2 × 10^5$|$3×10^4$|数据随机生成|\r\n|7|$≤ 2 × 10^5$|$3×10^4$|数据随机生成|\r\n|8|$≤ 2 × 10^5$|$3×10^4$|无|\r\n|9|$≤ 2 × 10^5$|$3×10^4$|无|\r\n|10|$≤ 2 × 10^5$|$3×10^4$|无|\r\n\r\n对于 $100\\%$ 的数据， $1 ≤ l ≤ r ≤ n$ ， $|d| ≤ 10^3$ ， $|s_i| ≤ 10^8$ 。\r\n\r\n注意，$6$ 和 $7$ 两个测试数据在随机生成时， $s_i$ 在 $[0, 1]$ 中随机， $d$ 在 $±1$ 中随机。操作种类和操作区间都是等概率随机的。"}]}