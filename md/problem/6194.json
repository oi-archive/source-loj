{"title":"「美团 CodeM 复赛」排列","time_limit":500,"memory_limit":256,"tags":["组合计数","数据结构","数学"],"operation":{"submit":"https://loj.ac/problem/6194#submit_code","submissions":"https://loj.ac/submissions?problem_id=6194","statistics":"https://loj.ac/problem/6194/statistics/fastest","testdata":"https://loj.ac/problem/6194/testdata","discussion":"https://loj.ac/discussion/problem/6194"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给 $n$ 个二维点 $(a_i,b_i)$，询问有多少种排列 $p$（答案对 $10^9+7$ 取模）使得执行以下伪代码后留下的点是 $i$，即最后 $\\text{saved} = i$。\r\n\r\n```\r\nsaved = p[1]\r\nfor x from 2 to n\r\n    if a[p[x]] >= a[saved] and b[p[x]] >= b[saved]\r\n        saved = p[x]\r\n```\r\n保证 $a$ 和 $b$ 分别为一个排列。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$，接下来 $n$ 行每行两个整数表示一个点。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $n$ 行，每行一个整数表示留下的点为 $i$ 的排列种数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### Input\r\n```plain\r\n3\r\n1 2\r\n2 3\r\n3 1\r\n```\r\n#### Output\r\n```plain\r\n0\r\n4\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$n \\le 100000$\r\n\r\n$1 \\leq a_i, b_i \\leq n$  \r\n$a_i \\neq a_j, b_i \\neq b_j \\ \\forall 1 \\leq i \\lt j \\leq n$"}]}