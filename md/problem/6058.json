{"title":"百步穿杨","time_limit":100,"memory_limit":256,"tags":["最小割","网络流"],"operation":{"submit":"https://loj.ac/problem/6058#submit_code","submissions":"https://loj.ac/submissions?problem_id=6058","statistics":"https://loj.ac/problem/6058/statistics/fastest","testdata":"https://loj.ac/problem/6058/testdata","discussion":"https://loj.ac/discussion/problem/6058"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Stella 是一个神箭手，不过并不是他自己射箭——在一块 $ N \\times M $ 的方格空地上有些地方摆有箭塔，其他还有地方有箭靶。每个箭靶有不同的分值，而箭塔的方向为上下左右其中一种，Stella 通过控制箭塔选定目标，然后一起发射击中这些箭靶获取其分数来展现自己的「射箭」技术。现在你需要计算在给定的空地上，Stella最多能获得多大的分数。\r\n\r\n相关的限制如下：\r\n\r\n1. 每个箭塔原则上可以选择所指方向上任意一个箭靶，当然也可以选择不攻击。\r\n2. 为保证正常运行，每个箭塔的攻击范围中不会有其他箭塔。\r\n3. 同样为确保正常攻击，所有箭塔的攻击轨迹在地面的投影不能在任意格子相交。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $ N, M $ 。  \r\n接下来 $ N $ 行每行 $ M $ 个字符，表示每个格子的状态：  \r\n1. “``.``”表示空地。\r\n2. “``A``”、“``V``”、“``<``”、“``>``”分别表示朝向上下左右的箭塔。\r\n3. “``1``”~“``9``”分别表示得分为 $ 1 $ 到 $ 9 $ 的箭靶。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示最大得分。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 4\r\n.9V.\r\n>..7\r\n.A1.\r\n```\r\n#### 样例输出 1\r\n```plain\r\n10\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 30\\% $ 的数据，$ N, M \\le 5 $。  \r\n对于 $ 100\\% $ 的数据，$ N, M \\le 50 $。"}]}