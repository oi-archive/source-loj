{"title":"翘课","time_limit":1000,"memory_limit":256,"tags":["数论","图论"],"operation":{"submit":"https://loj.ac/problem/6732#submit_code","submissions":"https://loj.ac/submissions?problem_id=6732","statistics":"https://loj.ac/problem/6732/statistics/fastest","testdata":"https://loj.ac/problem/6732/testdata","discussion":"https://loj.ac/discussion/problem/6732"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"神仙 bn 又想翘数学课了！\r\n\r\n一天，bn 想通过藏在机房里面来避免要上数学课的悲惨命运，于是他来到了学校那**雄伟的**信息楼。\r\n\r\n进入楼内，bn 面前出现了 $n$ 个机房，不同的机房之间有一些道路把它们相连。不仅如此，bn 还发现了一个奇怪的规律：有一些机房两两之间总存在一条道路，却和其它机房没有任何道路相连。\r\n\r\nbn 决定运用离散数学的知识来分析自己的逃跑路径。\r\n\r\n简单来说，这 $n$ 个机房可以看作一个有 $n$ 个节点的简单无向图，图中存在 $k$ 个联通块，第 $i$ 个联通块的大小是 $s_i$；每一个独立的联通块都是一个完全图，即联通块内所有节点两两相连。为了逃跑方便，bn 想在图中新加入 $k-1$ 条边，使得整张图联通。\r\n\r\nbn 不想在“连边”（即修建新的道路）上花费太多的时间，因此他定义了某种连边方案 $T$ 的价值函数 $val(T)$ 如下：\r\n\r\n- 设该方案内，$k$ 个联通块向外连出的边数分别为 $d_1,d_2,…,d_k$，则 $val(T)=\\prod\\limits_{i=1}^kd_i!$，其中 $\\prod$ 表示连乘。\r\n\r\n现在 bn 想知道，若给定机房对应的图，那么所有可行连边方案的价值之和是多少呢？\r\n\r\n这下子 bn 不会了，他想问问你。\r\n\r\n由于这个数很大，你只需要输出它对 $998244353$ 取模之后的结果即可。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"为了减少输入量，我们规定第$i$个联通块内的节点编号依次为 $\\sum\\limits_{j=1}^{i-1}s_j+1,\\sum\\limits_{j=1}^{i-1}s_j+2,…,\\sum\\limits_{j=1}^{i-1}s_j+s_i$ ，因此不再输入每个联通块内的节点编号。\r\n\r\n第一行两个整数 $n,k$，表示机房的数量和联通块数；\r\n\r\n第二行k个整数 $s_1,s_2,...,s_k$ ，表示每个联通块的大小。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个正整数，表示所有可行连边方案的价值之和，答案对 $998244353$ 取模。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```\r\n3 2\r\n2 1\r\n```\r\n\r\n#### 样例输出 1\r\n```\r\n2\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n连边方案共有两种，即连 $(1,3)$ 或连 $(2,3)$。两种方案的价值均为 $1×1=1$，因此输出 $2$。\r\n\r\n#### 样例输入 2\r\n```\r\n5 3\r\n3 1 1\r\n```\r\n\r\n#### 样例输出 2\r\n```\r\n30\r\n```\r\n\r\n#### 样例解释 2\r\n\r\n可以证明可行的连边方案共有 $15$ 种，价值均为 $1×1×2!=2$，因此输出 $30$。\r\n\r\n#### 样例输入 3\r\n```\r\n4 4\r\n1 1 1 1\r\n```\r\n\r\n#### 样例输出 3\r\n```\r\n72\r\n```\r\n\r\n#### 样例解释 3\r\n\r\n可以证明可行的连边方案共有 $16$ 种，其中价值为 $1×2!×2!×1=4$ 的有 $12$ 种，价值为 $1×1×1×3!=6$ 的有 $4$ 种，因此输出 $4×12+6×4=72$。\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"#### 数据规模\r\n\r\n对于 $10\\%$ 的数据，保证 $n≤10$； \r\n\r\n另有 $10\\%$ 的数据，保证 $k≤2$；\r\n\r\n对于 $40\\%$ 的数据，保证 $k≤100$；\r\n\r\n对于 $60\\%$ 的数据，保证 $k≤1000$；\r\n\r\n另有 $20\\%$ 的数据，保证所有的 $s_i$ 均为 $1$；\r\n\r\n对于 $100\\%$ 的数据，保证 $n≤10^9,k≤7000,1<k≤n,1≤s_i≤10^9$ 且 $∑s_i=n$，图中无重边和自环。"}]}