{"title":"「雅礼集训 2018 Day2」颜色","time_limit":1000,"memory_limit":8,"tags":["雅礼集训","2018","分块及按大小分类","bitset"],"operation":{"submit":"https://loj.ac/problem/6499#submit_code","submissions":"https://loj.ac/submissions?problem_id=6499","statistics":"https://loj.ac/problem/6499/statistics/fastest","testdata":"https://loj.ac/problem/6499/testdata","discussion":"https://loj.ac/discussion/problem/6499"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有 $n$ 个数字，第 $i$ 个数字为 $a_i$。\r\n\r\n有 $m$ 次询问，每次给出 $k_i$ 个区间，每个区间表示第 $l_{i, j}$ 到 $r_{i, j}$ 个数字，求这些区间中一共出现了多少种不同的数字。\r\n\r\n部分数据强制在线。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含三个整数 $n, m, p$，$p$ 为 $0$ 或 $1$ 表示是否强制在线。\r\n\r\n第二行 $n$ 个正整数，第 $i$ 个表示 $a_i$。\r\n\r\n接下来依次给出每个询问，每个询问第一行一个正整数，表示 $k_i$，接下来 $k_i$ 行，每行两个正整数，分别表示 $l_{i, j}$ 和 $r_{i, j}$，若 $p = 1$ 且这不是第一个询问，输入的 $l_{i, j}$ 和 $r_{i, j}$ 是经过加密的，你需要将这两个数字分别异或上上一个询问的答案，对 $n$ 取模后再加 $1$，两者较小值为真实的 $l_{i, j}$，较大值为真实的 $r_{i, j}$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对每个询问输出一行一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 2 0\r\n1 2 1\r\n1\r\n1 2\r\n2\r\n1 1\r\n3 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n2\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$1 \\leq n, m, \\sum k_i, a_i \\leq 10^5, 1 \\leq l_{i, j} \\leq r_{i, j} \\leq n$。\r\n\r\n- 子任务 $\\rm 1(points:10)$：$n, m, \\sum k_i, a_i \\leq 5000$\r\n- 子任务 $\\rm 2(points:10)$：$n, m, \\leq 5000$\r\n- 子任务 $\\rm 3(points:20)$：$k_i = 1$\r\n- 子任务 $\\rm 4(points:20)$：$p = 0$\r\n- 子任务 $\\rm 5(points:20)$：$1 \\leq n, m, \\sum k_i, a_i \\leq 50000$\r\n- 子任务 $\\rm 6(points:20)$：无特殊限制"}]}