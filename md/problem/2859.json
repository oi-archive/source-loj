{"title":"「BalticOI 2009 Day1」地铁信号故障","time_limit":2000,"memory_limit":64,"tags":["早于 2010","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2859#submit_code","submissions":"https://loj.ac/submissions?problem_id=2859","statistics":"https://loj.ac/problem/2859/statistics/fastest","testdata":"https://loj.ac/problem/2859/testdata","discussion":"https://loj.ac/discussion/problem/2859"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [BalticOI 2009](http://www.csc.kth.se/contest/boi/tasks.php) Day1 T3「[Subway Signalling Error](http://www.csc.kth.se/contest/boi/subway.pdf)」**\r\n\r\nStockholm 城中的地铁由几条线路组成。在这个题目中，我们特别考虑其中一条线路，当出现“信号故障”时问题常发生在这里。\r\n\r\n一条线路可以看做两条平行的铁轨，他们在端点处连接。在上部的铁轨中，地铁由右到左行驶，且在下部的铁轨中，地铁由左到右行驶。当一列地铁到达铁轨的端点，它会切换到另一条铁轨并更改方向，这个过程在瞬间内完成。\r\n\r\n正常情况下，交通流是连续的且地铁匀速移动（$1$ 距离单位每时间单位）。同时，地铁是均匀分布的，即地铁将定时经过铁轨上的每个地点。你可以忽略地铁接客的时间。\r\n\r\n由于信号故障，现在地铁沿着线路随机分布。作为交通调度员，你的任务是尽快还原地铁为均匀分布。写一个程序，对于给定的地铁的位置，问何时能还原。你可以使地铁在任意地点暂停或是改变方向（两项可以同时执行）。如果一列地铁改变了方向，他将切换到另一条铁路。\r\n\r\n![](https://i.loli.net/2018/08/25/5b812d551a4d2.png)\r\n\r\n图 1：两条铁轨的长度都是 $100$。上例中，地铁分别位于 $5$（朝右）$,35$（左）$,46$（左）$,75$（左）及 $85$（右）。一个可行的方案是：待位于 $46$ 的地铁向左移动一个单位后，使它改变方向。这用了一个单位的时间。然而，这并不是最优解，详见样例 1。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，两个整数 $m$ 和 $n$，分别表示铁轨的长度和地铁的数量。\r\n\r\n以下 $n$ 行，每行表示一列地铁，为一个整数 $x_i$ 表示位置和一个字符表示方向（`L` 表示左，`R` 表示右）。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出使地铁均匀分布的最短时间。最大误差为 $10^{-6}$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n100 5\r\n5 R\r\n35 L\r\n46 L\r\n75 L\r\n85 R\r\n```\r\n#### 样例输出 1\r\n```plain\r\n0.5\r\n```\r\n#### 样例输入 2\r\n```plain\r\n100 8\r\n9 L\r\n15 R\r\n41 L\r\n33 L\r\n81 R\r\n33 R\r\n100 L\r\n97 R\r\n```\r\n#### 样例输出 2\r\n```plain\r\n15.500000\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|数据百分比|限制|\r\n|:--------------:|:-----:|\r\n|$50\\%$|$n \\le 200$|\r\n|$100\\%$|$100 \\le m \\le 100,000,000,1 \\le n \\le 100,000,0 \\le x_i \\le m$|"}]}