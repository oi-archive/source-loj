{"title":"「THUPC 2017」老司机 / Chauffeur","time_limit":1000,"memory_limit":512,"tags":["2017","THUPC","矩阵","快速幂"],"operation":{"submit":"https://loj.ac/problem/2411#submit_code","submissions":"https://loj.ac/submissions?problem_id=2411","statistics":"https://loj.ac/problem/2411/statistics/fastest","testdata":"https://loj.ac/problem/2411/testdata","discussion":"https://loj.ac/discussion/problem/2411"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"四环路上行人稀，常有车神较高低。\r\n\r\n如今车道依旧在，不见当年老司机。\r\n\r\nB 君心情不好的时候，喜欢去四环路上飙车。看着窗外飞驰而过的景色，B 君想到了过去的 R 君和 G 君；想到了现在的 YJQ 和 FLZ；想到了宇宙之浩渺，时空之无限；也想到了这道题。\r\n\r\n输入 $n, X, Y, Z$，保证 $X$ 是 $2$ 的整数次幂，$Y$是 $3$ 的整数次幂，$Z$ 是 $5$ 的整数次幂，同时 $1 \\leq n \\leq 1000, 1 \\leq XYZ \\leq 2000$。\r\n\r\n输入四个长度为 $n$ 的数组 $\\{a_i\\}, \\{b_i\\}, \\{c_i\\}, \\{r_i\\}(0 \\leq a_i, b_i, c_i, r_i \\leq 1000000000)$\r\n\r\n对于 $(u, v, w)$ 求有多少组解 $\\{x_i\\}, \\{y_i\\}, \\{z_i\\}$\r\n\r\n满足对于所有的 $i$，有 $a_i \\le x_i, b_i \\le y_i, c_i \\le z_i, r_i \\ge x_i - a_i + y_i - b_i + z_i - c_i$\r\n\r\n并且\r\n\r\n$$\\left(\\sum_{i=1}^{n} x_i \\right)\\bmod X = u$$\r\n\r\n$$\\left( \\sum_{i=1}^{n} y_i \\right) \\bmod Y = v$$\r\n\r\n$$\\left(\\sum_{i=1}^{n} z_i \\right)\\bmod Z = w$$\r\n\r\n设解的个数为 $F(u, v, w)$\r\n\r\n输出\r\n\r\n$$\\mathop{\\mathrm{xor}} \\limits_{\\substack{0 \\leq u < X \\\\ 0 \\leq v < Y \\\\ 0 \\leq w < Z}} ((u  Y  Z + v  Z + w) \\times (F(u, v, w) \\bmod 466560001))$$"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入第一行 $n, X, Y, Z$。\r\n\r\n接下来 $n$ 行，第 $i$ 行四个整数 $a_i, b_i, c_i, r_i$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数表示答案。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 2 3 1\r\n0 0 0 1\r\n0 0 0 2\r\n0 0 0 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n573\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n3 2 3 5\r\n0 0 0 1\r\n0 0 0 2\r\n0 0 0 3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n253\r\n```\r\n"}]}