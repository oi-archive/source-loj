{"title":"「LibreOJ NOI Round #1」接竹竿","time_limit":600,"memory_limit":512,"tags":["LibreOJ NOI Round","区间 DP","前缀和","DP"],"operation":{"submit":"https://loj.ac/problem/507#submit_code","submissions":"https://loj.ac/submissions?problem_id=507","statistics":"https://loj.ac/problem/507/statistics/fastest","testdata":"https://loj.ac/problem/507/testdata","discussion":"https://loj.ac/discussion/problem/507"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一天，神犇和 LCR 在玩扑克牌。他们玩的是一种叫做“接竹竿”的游戏。\r\n\r\n游戏规则是：一共有 $n$ 张牌，每张牌上有一个花色 $c$ 和一个点数 $v$，花色不超过 $k$ 种。将这些牌依次放入一列牌的末端。若放入之前这列牌中已有与这张牌花色相同的牌，你可以选择将这张牌和**任意**一张花色相同的牌之间的所有牌全部取出队列（包括这两张牌本身），并得到与取出的所有牌点数和相同的分数。现在已知 LCR 把这 $n$ 张牌放入队列的顺序，求她最多能得多少分。\r\n\r\n输入顺序即为 LCR 放入队列的顺序。即，$c_i$ 表示第 $i$ 张放入的牌的花色，$v_i$ 表示第 $i$ 张放入的牌的点数。\r\n\r\n**请注意，如果你知道类似的纸牌游戏，请尤其仔细地阅读规则，以免因为理解题意错误而出现不必要的问题。**"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n,k$。  \r\n第二行，$n$ 个整数 $c_1,c_2,...,c_n$ 表示花色，满足 $1\\leq c_i\\leq k$。  \r\n第三行，$n$ 个整数 $v_1,v_2,...,v_n$ 表示点数。  "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示最多能得到的分数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n7 3\r\n1 2 1 2 3 2 3\r\n1 2 1 2 3 2 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n13\r\n```\r\n\r\n#### 样例解释 1\r\n第 1 步，向队列加入 $1$。现在的队列：$1$  \r\n第 2 步，向队列加入 $2$。现在的队列：$1,2$  \r\n第 3 步，向队列加入 $1$。现在的队列：$1,2,1$  \r\n第 4 步，向队列加入 $2$，取出 $2,1,2$。现在的队列：$1$  \r\n第 5 步，向队列加入 $3$。现在的队列：$1,3$  \r\n第 6 步，向队列加入 $2$。现在的队列：$1,3,2$  \r\n第 7 步，向队列加入 $3$，取出 $3,2,3$。现在的队列：$1$  \r\n\r\n#### 样例输入 2\r\n```plain\r\n18 5\r\n5 2 3 5 1 3 5 2 1 4 2 4 5 4 1 1 1 5\r\n8 2 7 6 10 8 10 9 10 2 4 7 7 7 7 9 7 3 \r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n123\r\n```\r\n\r\n#### 更多样例\r\n见附加文件或[备用网盘链接](https://pan.baidu.com/s/1hswytLi)（提取码：`a795`）"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1\\leq n\\leq 10^6,1\\leq k\\leq 10^6,1\\leq v_i\\leq 10^9$。\r\n\r\n|Subtask #|分值| $n,k$ 的限制 |特殊限制|\r\n|:-:|:-:|:-:|:-:|\r\n|1| $15$ |$1\\leq n,k\\leq 15$|$c_i=v_i$|\r\n|2| $15$ |$1\\leq n,k\\leq 300$|$c_i=v_i$|\r\n|3| $30$ |$1\\leq n,k\\leq 3000$||\r\n|4| $15$ |$1\\leq n,k\\leq 2\\times 10^5$||\r\n|5| $10$ |$1\\leq n,k\\leq 10^6$|$c_i=v_i$|\r\n|6| $15$ |$1\\leq n,k\\leq 10^6$||"}]}