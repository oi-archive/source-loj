{"title":"「2017 山东一轮集训 Day1」Sim","time_limit":2500,"memory_limit":512,"tags":["2017","山东省队集训","标签待整理"],"operation":{"submit":"https://loj.ac/problem/6061#submit_code","submissions":"https://loj.ac/submissions?problem_id=6061","statistics":"https://loj.ac/problem/6061/statistics/fastest","testdata":"https://loj.ac/problem/6061/testdata","discussion":"https://loj.ac/discussion/problem/6061"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一个含 $ n $ 个正整数的数组 $ A $。现有关于它的 $ Q $ 个询问，询问有以下五种类型：\r\n\r\n* `1 l r`，令 $ S $ 为由下标范围从 $ l $ 到 $ r $ 的不同的元素构成的有序集合，你需要求出\r\n  $$ \\sum\\limits_{1 \\leq i < j < k \\leq |S|} S_i S_j S_k \\pmod {10 ^ 9 + 7} $$\r\n* `2 x y`，将下标为 $ x $ 的元素赋值 $ y $\r\n* `3 x`，将下标为 $ x $ 的元素从数组中删除\r\n* `4 z y`，在下标为 $ z $ 的元素之后插入元素 $ y $（若 $ z $ 等于 $ 0 $，则在数组最前端插入）\r\n* `5 l r`，输出下标在 $ l $ 到 $ r $ 范围内的不同元素个数\r\n\r\n数组下标从 $ 1 $ 开始，数据保证数组总是非空。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入数据第一行包含两个整数 $ n $ 和 $ q $，分别表示 $ A $ 的长度，以及询问的数量。  \r\n第二行包括 $ n $ 个整数，表示给定的数组 $ A $。  \r\n接下来的 $ q $ 行，每行包含一个询问，格式见题面。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每次类型 1 和类型 5 的询问，输出一行包含相应的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 8\r\n1 2 3 2 1\r\n1 1 3\r\n5 1 5\r\n2 2 4\r\n1 2 4\r\n3 3\r\n4 0 5\r\n1 1 2\r\n1 1 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n6\r\n3\r\n24\r\n0\r\n78\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$ 1 \\leq n, q \\leq 10 ^ 5; 1 \\leq A_i, y \\leq 10 ^ 9 + 6; 1 \\leq x \\leq |A|; 0 \\leq z \\leq |A|; 1 \\leq l \\leq r \\leq |A| $。\r\n\r\n另有如下互不重合的特殊数据：\r\n\r\n* $ 10\\% $，$ 1 \\leq n, q \\leq 100 $\r\n* $ 20\\% $，只含类型 2、5\r\n* $ 20\\% $，只含类型 1、2、5\r\n* $ 20\\% $，不含类型 1\r\n* $ 10\\% $，不含类型 5\r\n* $ 10\\% $，$ 1 \\leq n, q \\leq 50000 $"}]}