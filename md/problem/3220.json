{"title":"「PA 2019」Terytoria","time_limit":3000,"memory_limit":256,"tags":["2019","PA","线段树","hash"],"operation":{"submit":"https://loj.ac/problem/3220#submit_code","submissions":"https://loj.ac/submissions?problem_id=3220","statistics":"https://loj.ac/problem/3220/statistics/fastest","testdata":"https://loj.ac/problem/3220/testdata","discussion":"https://loj.ac/discussion/problem/3220"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [PA 2019](https://sio2.mimuw.edu.pl/c/pa-2019-1/dashboard/) Runda 3 [Terytoria](https://sio2.mimuw.edu.pl/c/pa-2019-1/p/ter/)**\r\n\r\n在二维平面直角坐标系上，有一个长度为 $ X $，宽度为 $ Y $ 的地图，注意这个地图的左边界和右边界是连通的，下边界和上边界也是连通的，换言之它是个球形结构。\r\n\r\n在这个地图里，有 $ X \\times Y $ 个格子以及 $ n $ 个边平行坐标轴的矩形。你只知道每个矩形两个对顶点的坐标，请问在最好情况下，被所有 $ n $ 个矩形都覆盖住的格子数量有多少？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个正整数 $ n, X, Y$。\r\n\r\n接下来 $n$ 行，每行四个整数 $ x_1, y_1, x_2, y_2 $，表示第 $ i $ 个矩形两个对顶点的坐标为$ (x_1, y_1) $ 和 $ (x_2, y_2) $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，即被所有 $ n $ 个矩形都覆盖住的格子数量的最大可能值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 10 7\r\n2 1 8 6\r\n5 2 4 4\r\n```\r\n#### 样例输出\r\n```plain\r\n15\r\n```\r\n#### 样例说明\r\n下图列举了一些情况，其中第 3 种情况是最优的。\r\n\r\n![ter.png](https://loj-img.upyun.menci.memset0.cn/2019/12/18/5dfa23cdb9f7e.png)"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 1 \\le n \\le 5\\times 10^5, 2 \\le X, Y \\le 10^9, 0 \\le x_1, x_2 < X, 0 \\le y_1, y_2 < Y, x_1 \\ne x_2, y_1 \\ne y_2 $"}]}