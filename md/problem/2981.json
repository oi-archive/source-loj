{"title":"「THUSCH 2017」如果奇迹有颜色","time_limit":1000,"memory_limit":512,"tags":["2017","THUSC","数论"],"operation":{"submit":"https://loj.ac/problem/2981#submit_code","submissions":"https://loj.ac/submissions?problem_id=2981","statistics":"https://loj.ac/problem/2981/statistics/fastest","testdata":"https://loj.ac/problem/2981/testdata","discussion":"https://loj.ac/discussion/problem/2981"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"法本公司曾经是世界最大的化工企业，他们生产的染料颜色非常丰富，有清华紫，心灵黄，原谅绿，会议蓝，高级黑，北大红，相簿白等。\r\n\r\n现在 B 君有一个由 $n$ 个区域组成的环，B 君要用 $m$ 种颜色来染这 $n$ 个区域。\r\n\r\nB 君不希望在这 $n$ 个区域中存在连续 $m$ 个区域恰好出现所有 $m$ 个颜色。换句话说，对于任意连续 $m$ 个区域，都不能恰好出现所有 $m$ 个颜色。\r\n\r\n如果两个方案通过旋转可以变得一模一样，那么我们认为他们是本质相同的；\r\n\r\n但是如果两个方案需要通过翻转才能变得一模一样，我们不认为他们是本质相同的。\r\n\r\n比如如果 $n=4, m = 4$；\r\n\r\n我们认为 $1, 2, 3, 4$ 和 $3, 4, 1, 2$ 是本质相同的方案；\r\n\r\n我们认为 $1, 2, 3, 4$ 和 $4, 3, 2, 1$ 是本质不同的方案；\r\n\r\n我们认为 $1, 2, 1, 2$ 和 $2, 1, 2, 1$ 是本质相同的方案；\r\n\r\nB 君希望知道满足条件，本质不同的方案数，输出答案对 $1000000007$ 取模。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从标准输入读入数据。\r\n\r\n输入一行包含两个整数 $n, m$，其中 $n$ 表示环的长度，$m$ 表示颜色数。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到标准输出。\r\n\r\n输出一行一个整数，表示答案对 $1000000007$ 取模的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n6 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n44\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n120 6\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n615888898\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的测试点， $1 \\leq n \\leq 1000000000, 2 \\leq m \\leq 7$。\r\n\r\n<!-- BEGIN: Migrated markdown table -->\n\n| 数据编号 | $n$ | $m$ |\n|:-:|:-:|:-:|\n| 1 | $1 \\leq n \\leq 10$ | $m = 3$ |\n| 2 | $1 \\leq n \\leq 10$ | $m = 4$ |\n| 3 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 2$ |\n| 4 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 3$ |\n| 5 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 4$ |\n| 6 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 5$ |\n| 7 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 6$ |\n| 8 | $1 \\leq n \\leq 10^{5}$，$n$ 是质数 | $m = 7$ |\n| 9 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 2$ |\n| 10 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 3$ |\n| 11 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 4$ |\n| 12 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 5$ |\n| 13 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 6$ |\n| 14 | $1 \\leq n \\leq 10^{9}$，$n$ 是质数 | $m = 7$ |\n| 15 | $1 \\leq n \\leq 10^{9}$ | $m = 2$ |\n| 16 | $1 \\leq n \\leq 10^{9}$ | $m = 3$ |\n| 17 | $1 \\leq n \\leq 10^{9}$ | $m = 4$ |\n| 18 | $1 \\leq n \\leq 10^{9}$ | $m = 5$ |\n| 19 | $1 \\leq n \\leq 10^{9}$ | $m = 6$ |\n| 20 | $n = 635,643,090$ | $m = 7$ |\n\n<!-- Migrated from original HTML table:\n<table><thead>\r\n<tr>\r\n<th rowspan=\"1\" style='text-align:center'>数据编号</th>\r\n<th rowspan=\"1\" style='text-align:center'>$n$ </th>\r\n<th rowspan=\"1\" style='text-align:center'>$m$ </th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>1</td>\r\n<td rowspan=\"2\" style='text-align:center'>$1 \\leq n \\leq 10$ </td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 3$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>2</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 4$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>3</td>\r\n<td rowspan=\"6\" style='text-align:center'>$1 \\leq n \\leq 10^{5}$，$n$ 是质数</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 2$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>4</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 3$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>5</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 4$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>6</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 5$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>7</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 6$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>8</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 7$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>9</td>\r\n<td rowspan=\"6\" style='text-align:center'>$1 \\leq n \\leq 10^{9}$，$n$ 是质数</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 2$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>10</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 3$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>11</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 4$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>12</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 5$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>13</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 6$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>14</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 7$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>15</td>\r\n<td rowspan=\"5\" style='text-align:center'>$1 \\leq n \\leq 10^{9}$ </td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 2$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>16</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 3$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>17</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 4$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>18</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 5$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>19</td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 6$ </td>\r\n</tr>\r\n<tr>\r\n<td rowspan=\"1\" style='text-align:center'>20</td>\r\n<td rowspan=\"1\" style='text-align:center'>$n = 635,643,090$ </td>\r\n<td rowspan=\"1\" style='text-align:center'>$m = 7$ </td>\r\n</tr>\r\n</tbody></table>\n-->\n\n<!-- END: Migrated markdown table --> "}]}