{"title":"「TJOI / HEOI2016」字符串","time_limit":2000,"memory_limit":256,"tags":["2016","TJOI","HEOI","后缀数组","线段树","RMQ","可持久化","二分"],"operation":{"submit":"https://loj.ac/problem/2059#submit_code","submissions":"https://loj.ac/submissions?problem_id=2059","statistics":"https://loj.ac/problem/2059/statistics/fastest","testdata":"https://loj.ac/problem/2059/testdata","discussion":"https://loj.ac/discussion/problem/2059"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"佳媛姐姐过生日的时候，她的小伙伴从某东上买了一个生日礼物。生日礼物放在一个神奇的箱子中。箱子外边写了一个长为 $ n $ 的字符串 $ s $，和 $ m $ 个问题。佳媛姐姐必须正确回答这 $ m $ 个问题，才能打开箱子拿到礼物，升职加薪，出任 CEO，嫁给高富帅，走上人生巅峰。每个问题均有 $a, b, c, d$ 四个参数，问你子串\r\n $s[a \\ldots b]$ 的所有子串和 $s[c \\ldots d]$ 的最长公共前缀的长度的最大值是多少？佳媛姐姐并不擅长做这样的问题，所以她向你求助，你该如何帮助她呢？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行有两个正整数 $ n, m $，分别表示字符串的长度和询问的个数。  \r\n接下来一行是一个长为 $ n $ 的字符串。字符串中仅有小写英文字母。  \r\n接下来 $ m $ 行，每行有四个数 $ a, b, c, d $，表示询问 $s[a \\ldots b]$ 的所有子串和 $ s[c \\ldots d] $ 的最长公共前缀的最大值。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一次询问，输出答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 5\r\naaaaa\r\n1 1 1 5\r\n1 5 1 1\r\n2 3 2 3\r\n2 4 2 3\r\n2 3 2 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n1 \r\n1 \r\n2 \r\n2 \r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有的数据，$1 \\leq n, m \\leq 100000, \\ a \\leq b, \\ c \\leq d, \\ 1 \\leq a, b, c, d \\leq n$"}]}