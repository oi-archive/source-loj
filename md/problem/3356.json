{"title":"「BalticOI 2017 Day1」Toll","time_limit":2000,"memory_limit":256,"tags":["2017","BalticOI"],"operation":{"submit":"https://loj.ac/problem/3356#submit_code","submissions":"https://loj.ac/submissions?problem_id=3356","statistics":"https://loj.ac/problem/3356/statistics/fastest","testdata":"https://loj.ac/problem/3356/testdata","discussion":"https://loj.ac/discussion/problem/3356"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [BalticOI 2017](http://www.boi2017.org/) Day1「[Toll](http://www.boi2017.org/wp-content/uploads/2017/05/tasks-en.pdf)」**\r\n\r\n作为一个合格的货运公司，在送达货物的同时也要让花的钱最少。    \r\n这座城市有 $n$ 个地点，这 $n$ 个地点之间有 $m$ 条边。  \r\n货运公司接到了 $o$ 个订单，他们要想方设法的让路途中花的钱最少。  \r\n对于每条路，都有三个信息：  \r\n- $a,b$ 代表从 $a$ 到达 $b$，并且是单向的；\r\n- $t$ 代表这条路需要多少钱。  \r\n\r\n并且对于每个订单，都给出 $a$ 和 $b$ 代表要把物品从 $a$ 运到 $b$ ，求每个订单需要花的最少的钱；如果无法送达就输出 $-1$。  \r\n特别的，对于从 $a$ 到 $b$ 的路，一定满足：\r\n\r\n$$\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$$\r\n\r\n其中 $k$ 是一个给定的常数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行四个整数 $k,n,m,o$ 代表一个常数，地点的个数，边的个数，订单的个数。  \r\n点的编号为从 $0$ 到 $n - 1$。  \r\n接下来 $m$ 行每行三个整数 $a,b,t$ 代表从 $a$ 连向 $b$ 要花费 $t$，保证满足 $\\left\\lfloor\\dfrac{b}{k}\\right\\rfloor=1+\\left\\lfloor\\dfrac{a}{k}\\right\\rfloor$，并且两点之间连接的边数不超过 $1$ 条边。  \r\n接下来 $o$ 行每行两个整数 $a,b$ 代表要从 $a$ 运货到 $b$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个订单，输出一行一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```\r\n5 14 5 5\r\n0 5 9\r\n5 12 10\r\n0 7 7\r\n7 12 8\r\n4 7 10\r\n0 12\r\n0 5\r\n0 7\r\n7 12\r\n0 13\r\n```\r\n\r\n#### 样例输出\r\n\r\n```\r\n15\r\n9\r\n7\r\n8\r\n-1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1 \\le n \\le 50000$，$1 \\le o \\le 10000$，$1 \\le k \\le 5$，$0 \\le a < b < n$，$1 \\le t \\le 10000$。\r\n\r\n详细子任务与附加限制如下：\r\n\r\n- Subtask 1（7 pts）：$k=1$。\r\n- Subtask 2（10 pts）：每个订单中的 $a=0$。\r\n- Subtask 3（8 pts）：$o \\le 100$。\r\n- Subtask 4（31 pts）：$o \\le 3000$。\r\n- Subtask 5（44 pts）：无特殊限制。"}]}