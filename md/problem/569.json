{"title":"「LibreOJ Round #11」Misaka Network 与测试","time_limit":1000,"memory_limit":512,"tags":["LibreOJ Round","二分图匹配","网络流"],"operation":{"submit":"https://loj.ac/problem/569#submit_code","submissions":"https://loj.ac/submissions?problem_id=569","statistics":"https://loj.ac/problem/569/statistics/fastest","testdata":"https://loj.ac/problem/569/testdata","discussion":"https://loj.ac/discussion/problem/569"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"研究者们想要测试 Misaka Network，于是他们把 Misaka Network 中的所有妹妹们召集到了一起。\r\n\r\n现在妹妹们排成了 $N$ 行 $M$ 列，有的位置没有人。现在研究者们给每一个个体的超能力进行了评定，一共有三个能力等级：`Level 1 低能力者`、`Level 2 异能力者` 和 `Level 3 超能力者`。研究者们每次测试可以选取一个子矩形内的所有个体，为了保证高效，他们不希望这个矩形内存在空的位置。并且，为了保证稳定，他们希望这个矩形内所有个体的能力等级的平均值恰好为 $2$。同时，每个个体最多只能参加一次测试，因此，多次测试选取的矩形应当不相交。\r\n\r\n研究者们想知道他们最多能进行多少次测试。\r\n\r\n\r\n\r\n<!--给定一个 $N \\times M$ 的矩阵，每个位置可能为 $-1,0,+1$ 或是障碍。\r\n\r\n要求选择尽可能多的和为 $0$ 且不包含障碍的矩形，使得它们互不相交。\r\n\r\n求最多能够选取的矩形数。-->"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数$N$、$M$。\r\n\r\n接下来 $N$ 行每行 $M$ 个字符，每个字符表示了队列中对应位置的个体。\r\n\r\n`1` 表示 `Level 1 低能力者`，`2` 表示 `Level 2 异能力者`，`3` 表示 `Level 3 超能力者`，`*` 表示一个空的位置。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数，表示最多能够进行多少次测试。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 3\r\n31*\r\n*13\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n2\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n6 6\r\n23311*\r\n**13**\r\n11*233\r\n13*223\r\n***133\r\n331***\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n9\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n2 50\r\n21111121332233123311312211231333122233133212221212\r\n21332123132223111331233121122331133311112121331311\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n51\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据 $1 \\leq N \\times M \\leq 10^5$，队列中仅包含 `1`、`2`、`3`、`*` 四种字符。\r\n\r\n|子任务编号|分值|$N \\times M$|特殊性质|\r\n|:------------:|:----:|:------------:|:--------:|:--------:|:--------:|\r\n|1|$5$|$\\leq 10^5$|队列中不存在 `1`|\r\n|2|$15$|$\\leq 1000$|$N=1$|\r\n|3|$15$|$\\leq 2000$|$N=2$|\r\n|4|$35$|$\\leq 2000$|队列中不存在 `*`|\r\n|5|$15$|$\\leq 2000$|-|\r\n|6|$15$|$\\leq 10^5$|-|"}]}