{"title":"「COCI 2010.03.06」CHUCK","time_limit":1000,"memory_limit":32,"tags":["2010","COCI"],"operation":{"submit":"https://loj.ac/problem/2968#submit_code","submissions":"https://loj.ac/submissions?problem_id=2968","statistics":"https://loj.ac/problem/2968/statistics/fastest","testdata":"https://loj.ac/problem/2968/testdata","discussion":"https://loj.ac/discussion/problem/2968"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [COCI 2010.03.06](http://hsin.hr/coci/archive/2009_2010/) T6.** ***[CHUCK](http://hsin.hr/coci/archive/2009_2010/contest5_tasks.pdf)***\r\n\r\n给你一个 $R$ 行 $C$ 列的矩阵 $A$，$|A_{i,j}|\\leq 10^4$。请使用若干次下述操作（次数尽量少），使得矩阵中 $\\sum_i \\sum_j A_{i,j}$ 尽可能大。\r\n\r\n|操作|示例|\r\n|-|-|\r\n|$\\texttt{rotR i k}$ <br> 将第 $i$ 行的元素循环右移 $k$ 位|$\\begin{pmatrix}1&2&3\\\\4&5&6\\\\7&8&9\\\\10&11&12\\end{pmatrix}\\xrightarrow{\\large\\texttt{ rotR 3 1 }}\\begin{pmatrix}1&2&3\\\\4&5&6\\\\9&7&8\\\\10&11&12\\end{pmatrix}$ |\r\n|$\\texttt{rotS j k}$ <br> 将第 $j$ 列的元素循环下移 $k$ 位|$\\begin{pmatrix}1&2&3\\\\4&5&6\\\\7&8&9\\\\10&11&12\\end{pmatrix}\\xrightarrow{\\large\\texttt{ rotS 3 2 }}\\begin{pmatrix}1&2&9\\\\4&5&12\\\\7&8&3\\\\10&11&6\\end{pmatrix}$ |\r\n|$\\texttt{negR i}$ <br> 将第 $i$ 行的元素全部乘以 $-1$ <br> **该操作当且仅当该行任何一个元素均未乘以 $-1$ 时有效**|$\\begin{pmatrix}1&2&3\\\\4&5&6\\\\7&8&9\\\\10&11&12\\end{pmatrix}\\xrightarrow{\\large\\texttt{ negR 2 }}\\begin{pmatrix}1&2&3\\\\-4&-5&-6\\\\7&8&9\\\\10&11&12\\end{pmatrix}$ |\r\n|$\\texttt{negS j}$ <br> 将第 $j$ 列的元素全部乘以 $-1$ <br> **该操作当且仅当该列任何一个元素均未乘以 $-1$ 时有效**|$\\begin{pmatrix}1&2&3\\\\0&0&0\\\\7&8&9\\\\10&11&12\\end{pmatrix}\\xrightarrow{\\large\\texttt{ negS 1 }}\\begin{pmatrix}-1&2&3\\\\0&0&0\\\\-7&8&9\\\\-10&11&12\\end{pmatrix}$ |"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行：$R,C$。  \r\n接下来 $R$ 行：矩阵 $A$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行包含两个整数，第一个整数为 $\\sum_i \\sum_j A_{i,j}$ 的最大值，第二个数为操作数量 $T$。  \r\n接下来 $T$ 行，每行包含一组操作。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 4\r\n1 -2 5 200\r\n-8 0 -4 -10\r\n11 4 0 100\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n345 2\r\nrotS 2 1\r\nnegR 2\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n3 3\r\n8 -2 7\r\n1 0 -3\r\n-4 -8 3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n34 4\r\nrotR 1 1\r\nrotS 3 1\r\nnegR 2\r\nnegR 3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1≤R,C≤100,$ $|A_{i,j}|≤10^4$。\r\n\r\n#### 评分标准\r\n若你求了个错误的最大和，或是执行的操作中有无效的，该测试点不得分，否则：\r\n* 若 $T≤ 5\\cdot RC$，你将得到该点的所有分数；\r\n* 若 $5\\cdot RC<T≤10^5$，你将得到该点 $50\\%$ 的分数；\r\n* 若 $T>10^5$，你将得不到该点的任何分数。"}]}