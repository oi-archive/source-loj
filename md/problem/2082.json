{"title":"「JSOI2016」炸弹攻击 2","time_limit":2000,"memory_limit":512,"tags":["2016","JSOI","前缀和","计算几何"],"operation":{"submit":"https://loj.ac/problem/2082#submit_code","submissions":"https://loj.ac/submissions?problem_id=2082","statistics":"https://loj.ac/problem/2082/statistics/fastest","testdata":"https://loj.ac/problem/2082/testdata","discussion":"https://loj.ac/discussion/problem/2082"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"还记得那款题为[「炸弹攻击」](https://loj.ac/problem/2076)的塔防游戏吗？这款游戏出了续作，炸弹的威力大大加强了。\r\n\r\n游戏的地图是一个二维平面。JYY 的阵地位于 $x$ 轴下方，而所有的敌人目前都位于 $x$ 轴上方。\r\n\r\n在 JYY 的阵地中有建有 $T$ 个激光塔和 $S$ 个发射源。其中第 $i$ 个防御塔 $T_i$ 的坐标为 $(tx_i,ty_i)$，第 $i$ 个发射源 $S_i$ 的坐标为 $(sx_i,sy_i)$。\r\n\r\n地图上有 $D$ 个敌人，第 $i$ 个敌人 $D_i$ 的坐标为 $(dx_i,dy_i)$。\r\n\r\n两座激光塔可以相互连接形成能量墙。发射源朝向敌人发出的能量如果穿过了能量墙，可以得到巨大的加强而变为「超级射线」并瞬间消灭敌人。\r\n\r\nJYY 想知道他有多少种可以可以发出超级射线的攻击方案。\r\n\r\n具体来说，一个可以发出超级射线的攻击方案为一个由四个点组成的集合：$\\{T_i,T_j,S_k,D_l\\}$，满足 $1\\le i\\lt j\\le T,1\\le k\\le S,1\\le l\\le D$，并且线段 $T_iT_j$ 和线段 $S_kD_l$ 相交。\r\n\r\n游戏设定保证在这 $T+D+S$ 个点中，不存在重点也不存在三点共线。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个正整数 $D$；  \r\n接下来 $D$ 行，每行包含两个整数 $dx_i,dy_i$，表示一个敌人的坐标；  \r\n第 $D+1$ 行包含一个整数 $S$；  \r\n接下来 $S$ 行，每行包含两个整数 $sx_i,sy_i$，表示一个发射源的坐标；  \r\n第 $D+S+2$ 行包含一个整数 $T$；  \r\n接下来 $T$ 行，每行包含两个整数 $tx_i,ty_i$，表示一个激光塔的坐标。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，可以发出超级射线的攻击方案个数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3\r\n1 12\r\n10 30\r\n30 10\r\n1\r\n10 -10\r\n4\r\n2 -11\r\n9 -1\r\n11 -1\r\n15 -14\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据，满足 $D,S,T\\le 30$；  \r\n对于 $50\\%$ 的数据，满足 $D,S,T\\le 150$；  \r\n对于 $100\\%$ 的数据，满足 $1\\le D,S,T\\le 800,dy_i\\gt 0,sy_i,ty_i\\lt 0$，所有坐标绝对值不超过 $10^9$。"}]}