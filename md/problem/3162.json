{"title":"「CEOI2019」建造摩天楼","time_limit":3500,"memory_limit":1024,"tags":["CEOI","2019"],"operation":{"submit":"https://loj.ac/problem/3162#submit_code","submissions":"https://loj.ac/submissions?problem_id=3162","statistics":"https://loj.ac/problem/3162/statistics/fastest","testdata":"https://loj.ac/problem/3162/testdata","discussion":"https://loj.ac/discussion/problem/3162"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [CEOI 2019](https://ceoi.sk/tasks/) Day1 T1「[Building Skyscrapers](https://ceoi.sk/static/statements/skyscrapers-ENG.pdf)」**\r\n\r\n我们正计划建造一个占地非常大的正方形新城市：M 市。建造完成后，这个城市将会有 $n$ 座互不重叠的摩天楼，每个占据正方形网格中的一格。在任意时刻，没有摩天楼的格子被称作空格子。\r\n\r\n你现在知道了这 $n$ 座计划中的摩天楼的坐标，你的任务是找出一个能满足下列要求的建造顺序：\r\n- 因为建造组只有一台起重机，所以 M 市一次只能建一座摩天楼；\r\n- 第一座摩天楼的建造位置没有限制；\r\n- 为了更方便地布局摩天楼，除第一座摩天楼外，即将新建的摩天楼要与现有的摩天楼有至少一条公共边或一个公共角；\r\n- 为了方便运输材料，即将新建的摩天楼必须与 M 市的边界（对于坐标 $(r,c)$ ，有$|r|,|c|>10^9$）有路径相连（从一个格子只能走到与其有公共边的格子），且路径上除即将新建的摩天楼外不能有摩天楼。\r\n\r\n如果有解，假设建设顺序是 $s_1,\\ldots ,s_n$，本题有两种模式：\r\n\r\n- 模式一：你可以以任意顺序输出；\r\n- 模式二：你必须保证 $(s_n,s_{n-1},\\ldots ,s_1)$ 字典序最大，即在保证 $s_n$ 最大的情况下保证 $s_{n-1}$ 最大，以此类推。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$，表示摩天楼个数。\r\n\r\n第二行一个整数 $t$，表示这个子任务的模式。\r\n\r\n接下来 $n$ 行每行两个以空格分隔的整数 $r_i,c_i$，表示摩天楼 $i$ 的坐标。<!--注意：**摩天楼没有特定的输入顺序**，这也是输出编号的原因。-->\r\n\r\n输入数据保证摩天楼不重叠。\r\n\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果无解，输出 `NO`。  \r\n如果有解，输出 $n+1$ 行。第一行输出 `YES`，接下来 $n$ 行每行一个整数表示 $s_i$。  \r\n对于 $t=1$ 的子任务，如果多解，你可以输出任意一个。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3\r\n2\r\n0 0\r\n0 1\r\n0 2\r\n```\r\n#### 样例输出 1\r\n```plain\r\nYES\r\n1\r\n2\r\n3\r\n```\r\n#### 样例解释 1\r\n对于本样例，三座摩天楼排成一列，每一座都能与 $M$ 市的边界相连，因此能保证连通性的四种方案是：\r\n- 1, 2, 3\r\n- 2, 1, 3\r\n- 2, 3, 1\r\n- 3, 2, 1\r\n因为 $t=2$，必须选择第一种。\r\n#### 样例输入 2\r\n```plain\r\n3\r\n1\r\n0 0\r\n1 1\r\n2 2\r\n```\r\n#### 样例输出 2\r\n```plain\r\nYES\r\n2\r\n3\r\n1\r\n```\r\n#### 样例解释 2\r\n本样例与样例 1 的唯一区别是第二座摩天楼与另外两座摩天楼共用角，因此可行解与样例 1 相同。因为 $t=1$，所以可以选择任意一种。\r\n#### 样例输入 3\r\n```plain\r\n2\r\n1\r\n0 0\r\n0 2\r\n```\r\n#### 样例输出 3\r\n```plain\r\nNO\r\n```\r\n#### 样例解释 3\r\n在本样例中，摩天楼彼此之间无公共边角，因此本样例无解。 "},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$1\\le n\\le 1.5\\times 10^5,t\\in\\{1,2\\},|r_i|,|c_i|\\le 10^9$。\r\n\r\n详细子任务附加限制如下表：\r\n\r\n| 子任务编号 |                        附加限制                        | 分值 |\r\n| :--------: | :----------------------------------------------------: | :--: |\r\n|    $1$     |                     $t=1,~n\\le 10$                     | $8$  |\r\n|    $2$     |                    $t=1,~n\\le 200$                     | $14$ |\r\n|    $3$     |                    $t=1,~n\\le 2000$                    | $12$ |\r\n|    $4$     |                    $t=2,~n\\le 2000$                    | $17$ |\r\n|    $5$     |                         $t=1$                          | $20$ |\r\n|    $6$     | $t=2,n\\le 70000$，对于任意 $i$ 有 $\\lvert r_i\\rvert,\\lvert c_i\\rvert \\le 900$ | $10$ |\r\n|    $7$     |                         $t=2$                          | $19$ |\r\n\r\n"}]}