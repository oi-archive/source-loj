{"title":"「SCOI2014」方伯伯运椰子","time_limit":1000,"memory_limit":256,"tags":["SCOI","2014","标签待整理","数据待检查"],"operation":{"submit":"https://loj.ac/problem/2214#submit_code","submissions":"https://loj.ac/submissions?problem_id=2214","statistics":"https://loj.ac/problem/2214/statistics/fastest","testdata":"https://loj.ac/problem/2214/testdata","discussion":"https://loj.ac/discussion/problem/2214"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"四川的方伯伯为了致富，决定引进海南的椰子树。方伯伯的椰子园十分现代化，椰子园中有一套独特的交通系统。\r\n\r\n现在用点来表示交通节点，边来表示道路。这样，方伯伯的椰子园就可以看作一个有 $n + 2$ 个交通节点，$m$ 条边的有向无环图。$n +1$ 号点为入口，$n +2$ 号点为出口。每条道路都有六个参数，$u_i, v_i, a_i, b_i, c_i, d_i$，分别表示，该道路从 $u_i$ 号点通向 $v_i$ 号点，将它的容量压缩一次要 $a_i$ 的花费，容量扩大一次要 $b_i$ 的花费，该条道路当前的运输容量上限为 $c_i$，并且每单位运输量通过该道路要 $d_i$ 的费用。\r\n\r\n在这个交通网络中，只有一条道路与起点相连。因为弄坏了这条道路就会导致整个交通网络瘫痪，聪明的方伯伯决定绝不对这条道路进行调整，也就是说，现在除了这条道路之外，对其余道路都可以进行调整。\r\n\r\n有两种调整方式：\r\n1. 选择一条道路，将其进行一次压缩，这条道路的容量会下降 1 单位。\r\n2. 选择一条道路，将其进行一次扩容，这条道路的容量会上升 1 单位。\r\n\r\n一条道路可以被多次调整。\r\n\r\n由于很久以前，方伯伯就请过一个工程师，对这个交通网络进行过一次大的优化调整。所以现在所有的道路都被完全的利用起来了，即每条道路的负荷都是满的（每条道路的流量等于其容量）。但方伯伯一想到自己的海南椰子会大丰收，就十分担心巨大的运输量下，会导致过多的花费。因此，方伯伯决定至少进行一次调整，调整之后，必须要保持每条道路满负荷，且总交通量不会减少。\r\n\r\n设调整后的总费用是 $Y$，调整之前的总费用是 $X$。现在方伯伯想知道，最优调整比率是多少，即假设他进行了 $k$ 次调整，$(X - Y)/k$ 最大能是多少？\r\n\r\n注：总费用 = 交通网络的运输花费 + 调整的花费"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个整数 $n$，$m$。  \r\n接下来 $m$ 行代表 $m$ 条边，表示这个交通网络，每行六个整数，表示该条边的参数 $U_i,V_i,A_i,B_i,C_i,D_i$。  "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个浮点数，保留二位小数。表示答案，数据保证答案大于零。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 10\r\n1 5 13 13 0 412\r\n2 5 30 18 396 148\r\n1 5 33 31 0 39\r\n4 5 22 4 0 786\r\n4 5 13 32 0 561\r\n4 5 3 48 0 460\r\n2 5 32 47 604 258\r\n5 7 44 37 75 164\r\n5 7 34 50 925 441\r\n6 2 26 38 1000 22\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n103.00\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1 \\leq N \\leq 5000,\\ 0 \\leq M \\leq 3000,\\ 1 \\leq U_i,V_i \\leq N+2,\\ 0 \\leq A_i,B_i \\leq 500,\\ 0 \\leq C_i \\leq 10000,\\ 0 \\leq D_i \\leq 1000$。"}]}