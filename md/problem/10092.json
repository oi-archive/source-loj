{"title":"「一本通 3.5 例 2」最大半连通子图","time_limit":1000,"memory_limit":512,"tags":["ZJOI","早于 2010","拓扑排序","图论","DP"],"operation":{"submit":"https://loj.ac/problem/10092#submit_code","submissions":"https://loj.ac/submissions?problem_id=10092","statistics":"https://loj.ac/problem/10092/statistics/fastest","testdata":"https://loj.ac/problem/10092/testdata","discussion":"https://loj.ac/discussion/problem/10092"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**原题来自：ZJOI 2007**\r\n\r\n一个有向图 $G = (V,E)$ 称为半连通的 *(Semi-Connected)*，如果满足：$\\forall u,v\\in V$，满足 $u\\to v$ 或 $v\\to u$，即对于图中任意两点 $u,v$，存在一条 $u$ 到 $v$ 的有向路径或者从 $v$ 到 $u$ 的有向路径。\r\n\r\n若 $G'=(V',E')$ 满足，$E’$ 是 $E$ 中所有和 $V’$ 有关的边，则称 $G’$ 是 $G$ 的一个导出子图。若 $G’$ 是 $G$ 的导出子图，且 $G’$ 半连通，则称 $G’$ 为 $G$ 的半连通子图。若 $G’$ 是 $G$ 所有半连通子图中包含节点数最多的，则称 $G’$ 是 $G$ 的最大半连通子图。\r\n\r\n给定一个有向图 $G$，请求出 $G$ 的最大半连通子图拥有的节点数 $K$，以及不同的最大半连通子图的数目 $C$。由于 $C$ 可能比较大，仅要求输出 $C$ 对 $X$ 的余数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含三个整数 $N,M,X$。$N,M$ 分别表示图 $G$ 的点数与边数，$X$ 的意义如上文所述；  \r\n接下来 $M$ 行，每行两个正整数 $a, b$，表示一条有向边 $(a, b)$。\r\n\r\n图中的每个点将编号为 $1,2,3,\\cdots ,N$，保证输入中同一个 $(a,b)$ 不会出现两次。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"应包含两行。第一行包含一个整数 $K$，第二行包含整数 $C \\bmod X$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 6 20070603\r\n1 2\r\n2 1\r\n1 3\r\n2 4\r\n5 6\r\n6 4\r\n```\r\n#### 样例输出\r\n```plain\r\n3\r\n3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据，$N \\le 18$；  \r\n对于 $60\\%$ 的数据，$N \\le 10^4$；  \r\n对于 $100\\%$ 的数据，$1\\le N \\le 10^5,1\\le M \\le 10^6,X\\le 10^8$。"}]}