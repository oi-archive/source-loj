{"title":"「联合省选 2020 B」卡牌游戏","time_limit":1000,"memory_limit":256,"tags":["联合省选","2020","贪心"],"operation":{"submit":"https://loj.ac/problem/3305#submit_code","submissions":"https://loj.ac/submissions?problem_id=3305","statistics":"https://loj.ac/problem/3305/statistics/fastest","testdata":"https://loj.ac/problem/3305/testdata","discussion":"https://loj.ac/discussion/problem/3305"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"轩轩某天想到了一个卡牌游戏，游戏规则如下：\r\n\r\n1. 初始时轩轩的手中有自左向右排成一排的 $n$ 张卡牌，每张卡牌上有一个整数分值。\r\n\r\n2. 接下来，轩轩每次可以选取卡牌序列最左边的连续若干张卡牌（至少 $2$ 张），将它们替换为一张新卡牌。新卡牌将插入到序列的最左端，它的分值为本次操作中被替换掉的卡牌的分值之和。\r\n\r\n3. 初始时轩轩总分为 $0$，每执行一次卡牌替换操作，新卡牌的分值将加到总分中。当序列长度为 $1$ 时游戏结束，轩轩也可以在任意时刻结束游戏。\r\n\r\n现在给出序列中各个卡牌的分值，请你来帮助轩轩计算他能够获得的最高总分是多少？\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $n$，代表卡牌的数目。\r\n\r\n接下来一行 $n$ 个以空格分隔的整数，第 $i$ 个数字 $a_i$ 代表自左向右第 $i$ 张卡牌的分值。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"仅一行一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n3\r\n2 -1 2\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n4\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n最优策略为，首先选择最左侧的两张卡牌，总分增加 $2 + (-1) = 1$。此时轩轩选择的两张卡牌被替换为一张分值为 $1$ 的卡牌，且被放入序列最左侧，此时自左向右卡牌的分值为 $1$ 和 $2$。\r\n\r\n接下来选择当前序列中所有卡牌，总分增加 $1 + 2 = 3$，总分为 $4$。此时轩轩选择的两张卡牌被替换为一张分值为 $3$ 的卡牌，且被放入序列最左侧，此时序列中只有一张分值为 $3$ 的卡牌，游戏结束。\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n7\r\n-4 3 0 7 -3 -5 -3\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n9\r\n```\r\n\r\n#### 样例解释 2\r\n\r\n最优策略为，首先选择最左侧的四张卡牌，总分增加  $(-4) + 3 + 0 + 7 = 6$。此时轩轩选择的四张卡牌被替换为一张分值为6 的卡牌，且被放入序列最左侧，此时自左向右卡牌的分值为 $6, -3, -5, -3$。\r\n\r\n再选择最左侧的两张卡牌，总分增加 $6 + (-3) = 3$，总分为 $9$。此时轩轩选择的两张卡牌被替换为一张分值为 $3$ 的卡牌，且被放入序列最左侧，此时自左向右卡牌的分值为 $3, -5, -3$。\r\n\r\n此时无论如何操作均无法使总分继续增大，轩轩选择结束游戏。\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"测试点 $1\\sim6$ 满足：$1\\le n\\le 16, |a_i| \\le 100$。\r\n\r\n测试点 $7\\sim 12$ 满足：$1\\le n\\le 10^3, |a_i| \\le 100$。\r\n\r\n测试点 $13\\sim 20$ 满足：$1\\le n\\le 10^5, |a_i| \\le 10^5$。"}]}