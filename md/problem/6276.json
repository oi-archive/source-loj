{"title":"果树","time_limit":4000,"memory_limit":512,"tags":["原创","线段树"],"operation":{"submit":"https://loj.ac/problem/6276#submit_code","submissions":"https://loj.ac/submissions?problem_id=6276","statistics":"https://loj.ac/problem/6276/statistics/fastest","testdata":"https://loj.ac/problem/6276/testdata","discussion":"https://loj.ac/discussion/problem/6276"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"NiroBC 姐姐是个活泼的少女，她<del>十分喜欢爬树</del>，而她家门口正好有一棵果树，正好满足了她爬树的需求。\r\n\r\n这颗果树有 $N$ 个节点，标号 $1 \\ldots N$ 。每个节点长着一个果子，第 $i$ 个节点上的果子颜色为 $C_i$ 。\r\n\r\nNiroBC 姐姐<del>每天都要爬树</del>，每天都要选择一条有趣的路径 $(u, v)$ 来爬。\r\n\r\n一条路径被称作有趣的，当且仅当这条路径上的果子的颜色**互不相同**。\r\n\r\n$(u, v)$ 和 $(v, u)$ 被视作同一条路径。特殊地， $(i, i)$ 也被视作一条路径，这条路径只含 $i$ 一个节点，显然是有趣的。\r\n\r\nNiroBC 姐姐想知道这颗树上有多少条有趣的路径。\r\n\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，一个整数 $N$ ，表示果树的节点数目。\r\n\r\n接下来一行 $N$ 个整数 $C_{1 \\ldots N}$ ，表示 $N$ 个果子各自的颜色。\r\n\r\n再接下来 $N-1$ 行，每行两个整数 $u_i, v_i$ ，表示 $u_i$ 和 $v_i$ 之间有一条边。\r\n\r\n数据保证这 $N-1$ 条边构成一棵树。\r\n\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数，有趣的路径的数量。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3\r\n1 2 3\r\n1 2\r\n1 3\r\n```\r\n#### 样例输出 1\r\n```plain\r\n6\r\n```\r\n#### 样例输入 2\r\n```plain\r\n5\r\n1 1 2 3 3\r\n1 2\r\n1 3\r\n2 4\r\n2 5\r\n```\r\n#### 样例输出 2\r\n```plain\r\n8\r\n```\r\n#### 样例解释 1\r\n\r\n有 $(1,1)(1,2)(1,3)(2,2)(2,3)(3,3)$ 共 $6$ 条路径。\r\n\r\n#### 样例解释 2\r\n\r\n有 $(1,1)(1,3)(2,2)(2,4)(2,5)(3,3)(4,4)(5,5)$ 共 $8$ 条路径。\r\n\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据， $1 \\le N \\le 10^5$ ，$ 1 \\le C_i \\le N$ ，***每种颜色在树上出现不超过 $20$ 次***。\r\n\r\n本题采用打包测试。\r\n\r\n各个 Subtask 的特殊限制如下，不填代表该项无特殊限制。\r\n\r\n| Subtask 编号 | $N$        | 其他限制                                        | 该 Subtask 分值 |\r\n| :----------: | :-----------: | :----------------------------------------------: | :------------: |\r\n| 0           | $\\le 100$ |                                                 | 12            |\r\n| 1           | $\\le 3000$ |                                                 | 25            |\r\n| 2           |              | 整棵树形成一条依次为 $1, 2, 3, \\ldots , N$ 的链 | 30            |\r\n| 3           |              |                                                 | 33            |\r\n\r\n"}]}