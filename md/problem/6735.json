{"title":"「2020 集训队论文」网格图哈密顿路","time_limit":1000,"memory_limit":512,"tags":["2020","构造"],"operation":{"submit":"https://loj.ac/problem/6735#submit_code","submissions":"https://loj.ac/submissions?problem_id=6735","statistics":"https://loj.ac/problem/6735/statistics/fastest","testdata":"https://loj.ac/problem/6735/testdata","discussion":"https://loj.ac/discussion/problem/6735"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"你有一个 $n$ 行 $m$ 列的网格图。定义 $(x, y)$ 表示网格图中第 $x$ 行第 $y$ 列的格子，则网格图左上角的格子可被表示为 $(1, 1)$，右下角的格子可被表示为 $(n, m)$。\r\n\r\n现在这个网格图被挖掉了一个格子 $(wx, wy)$，你需要判断是否存在一条从 $(sx, sy)$ 出发的哈密顿路径，如果有则还需要输出任意一组合法方案（即不需经过也不能经过 $(wx, wy)$ 的且起点为 $(sx, sy)$ 的哈密顿路径）。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"有多组数据。第一行一个正整数 $T$，表示数据组数。\r\n\r\n接下来 $T$ 行，每行六个正整数 $n,m,wx,wy,sx,sy$，含义如题目描述中所示。其中 $1\\le wx,sx\\le n, 1\\le wy, sy\\le m, (wx,wy)\\neq (sx,sy)$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组数据：\r\n\r\n若无解则仅输出一行一个整数 $-1$，否则：\r\n\r\n先输出一行一个正整数 $len$，表示哈密顿路径长度，显然 $len = nm - 1$；\r\n\r\n接下来 $len$ 行，每行两个正整数 $(x, y)$，表示每一步所走到的格子的坐标，显然第一行应输出 $(sx, sy)$。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n3\r\n2 5 2 3 1 1\r\n4 4 2 2 1 1\r\n5 5 1 1 5 1\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n9\r\n1 1\r\n2 1\r\n2 2\r\n1 2\r\n1 3\r\n1 4\r\n2 4\r\n2 5\r\n1 5\r\n-1\r\n24\r\n5 1\r\n4 1\r\n3 1\r\n2 1\r\n2 2\r\n1 2\r\n1 3\r\n1 4\r\n1 5\r\n2 5\r\n3 5\r\n4 5\r\n5 5\r\n5 4\r\n5 3\r\n5 2\r\n4 2\r\n3 2\r\n3 3\r\n2 3\r\n2 4\r\n3 4\r\n4 4\r\n4 3\r\n```\r\n\r\n#### 样例解释\r\n\r\n第一组数据的方案如下:\r\n\r\n![page3image1264.png](https://loj-img.upyun.menci.memset0.cn/2020/08/23/5f41c11a92cae.png)\r\n\r\n对于第二组数据，可以证明不存在合法方案。\r\n\r\n第三组数据的方案如下:\r\n\r\n![page4image1424.png](https://loj-img.upyun.menci.memset0.cn/2020/08/23/5f41c170608e0.png)"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，保证 $1\\le n, m\\le 200$，$\\sum (n + m)\\le 2000$。\r\n\r\n| 子任务编号 | $n,m\\le$ |    特殊性质    | 子任务分值 |\r\n| :--------: | :------: | :------------: | :--------: |\r\n|    $1$     |   $4$    |                |    $6$     |\r\n|    $2$     |  $200$   |    $n\\le4$     |    $20$    |\r\n|    $3$     |  $200$   | $n,m$ 均为奇数 |    $13$    |\r\n|    $4$     |  $200$   |   $sx=sy=1$    |    $10$    |\r\n|    $5$     |  $200$   |   $wx=wy=1$    |    $15$    |\r\n|    $6$     |  $200$   |                |    $36$    |\r\n\r\n"}]}