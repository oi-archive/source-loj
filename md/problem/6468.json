{"title":"魔法","time_limit":1000,"memory_limit":512,"tags":["离线","树状数组","差分"],"operation":{"submit":"https://loj.ac/problem/6468#submit_code","submissions":"https://loj.ac/submissions?problem_id=6468","statistics":"https://loj.ac/problem/6468/statistics/fastest","testdata":"https://loj.ac/problem/6468/testdata","discussion":"https://loj.ac/discussion/problem/6468"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"达拉然国中有一条长为 $n$ 的街道，其中住了 $q$ 个法师,并且街道中每一户仅存在一种法力水晶 $a_i$  。\r\n\r\n法师们会一种神奇的法术，就是瞬间收集一个法力水晶，其需要消耗的法力值就是该法师到法力水晶的距离。\r\n\r\n每个法师都喜欢一些法力水晶，并且喜欢的种类都恰好是一个连续的区间 $[l, r]$ 。\r\n\r\n他想收集到街道中每一种他喜欢并且**存在**的法力水晶，**每一种只需收集一个**。\r\n\r\n而法师很懒，呆在他所在的位置 $p$ 不会走动，他想知道最少需要耗费多少法力值才能满足要求。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n, q$。  \r\n第二行共 $n$ 个整数,其中第 $i$ 个为 $a_i$ 。  \r\n接下来共 $q$ 行,每行三个整数 $p, l, r$ 。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"共 $q$ 行,每行一个整数,其中第 $i$ 个为第 $i$ 个法师的需要的花费的最小法力值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 4\r\n1 5 3 3 1\r\n3 3 4\r\n4 4 5\r\n2 1 4\r\n5 3 5\r\n```\r\n#### 样例输出\r\n```plain\r\n0\r\n2\r\n2\r\n4\r\n```\r\n#### 样例解释\r\n第一个法师在 $3$ 处，喜欢的种类是 $\\{3, 4\\}$ 但由于 $\\{4\\}$ 不存在，只需要找到 $\\{3\\}$，\r\n它位置上刚好有一个为 $3$ 的法力水晶，故最小消耗为 $0$ 。\r\n\r\n第二个法师只需取 $\\{a_2 = 5\\}$ ，那么消耗为 $| 2 - 4 | = 2$ 。\r\n\r\n第三个法师取最近的两个即可，取 $\\{a_1=1, a_3=3\\}$ ，消耗为 $| 1 - 2 | + | 3 - 2 | = 2$ 。\r\n\r\n第四个法师取 $\\{a_4=3, a_2=5\\}$ ，消耗为 $|4 - 5| + |2 - 5| = 4$ 。\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30 \\%$ 的数据满足 $1\\le n, q \\le 1000$ 。  \r\n另有 $10 \\%$ 的数据满足 $a_i = i$ 。  \r\n另有 $30 \\%$ 的数据满足 $\\forall i, l_i =1, r_i = n$ 。  \r\n对于 $100 \\%$ 的数据满足 $1\\le n, q \\le 2 \\times 10^5$ ， $1\\le l, r, p, a_i \\le n$。"}]}