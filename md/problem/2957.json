{"title":"「COCI 2009.10」GENIJALAC","time_limit":4000,"memory_limit":32,"tags":["早于 2010","COCI"],"operation":{"submit":"https://loj.ac/problem/2957#submit_code","submissions":"https://loj.ac/submissions?problem_id=2957","statistics":"https://loj.ac/problem/2957/statistics/fastest","testdata":"https://loj.ac/problem/2957/testdata","discussion":"https://loj.ac/discussion/problem/2957"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [COCI 2009.10](http://hsin.hr/coci/archive/2009_2010/) T5.** ***[GENIJALAC](http://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf)***\r\n\r\nMirko 发明了一台打乱机。机器接受一个 $N$ 列、无限行的纸带作为输入和输出。这 $N$ 列依次编号为 $1\\ldots N$。\r\n\r\n开始时，只有纸带的第一行写了数，其下方的每一行都是空白的。  \r\n在纸带的第一行中，每列有一个整数，第 $i$ 列上写了整数 $i$。  \r\n另外，Mirko 给出了一个打乱排列，这是一个长度为 $N$ 的排列 $s_1,$ $s_2,$ $\\ldots,$ $s_N$。\r\n\r\n有一个行指针，开始时指向首行。  \r\n每次运行该机器时，机器会将当前行（行指针所指向的行）位于第 $i$ 列的数放到下一行的第 $s_i$ 列上，$N$ 个数都放好后，指针将下移一行。\r\n\r\nMirko 运行了该机器无限次。现在 Mirko 将纸带的前 $C$ 列和后 $D$ 列剪掉了，我们称之为新的纸带。\r\n\r\n试问：在新纸带的第 $A\\sim B$ 行中，有多少行与新纸带的首行相同。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行五个整数 $N, A, B, C, D$。  \r\n第二行 $N$ 个整数 $s_1,$ $s_2,$ $\\ldots,$ $s_N$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行，一个整数，表示在新纸带的第 $A\\sim B$ 行中，有多少行与新纸带的首行相同。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 1 5 0 1\r\n1 3 4 2\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n2\r\n```\r\n\r\n#### 样例说明 1\r\n```plain\r\n+-----+\r\n|1 2 3|4 <--\r\n|1 3 4|2\r\n|1 4 2|3\r\n|1 2 3|4 <--\r\n|1 3 4|2\r\n+-----+\r\n 1 4 2 3\r\n 1 2 3 4\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n7 3 8 1 2\r\n2 3 1 6 4 7 5\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n0\r\n```\r\n\r\n#### 样例说明 2\r\n```plain\r\n1 2 3 4 5 6 7\r\n2 3 1 6 4 7 5\r\n +-------+\r\n3|1 2 7 6|5 4\r\n1|2 3 5 7|4 6\r\n2|3 1 4 5|6 7\r\n3|1 2 6 4|7 5\r\n1|2 3 7 6|5 4\r\n2|3 1 5 7|4 6\r\n +-------+\r\n3 1 2 4 5 6 7\r\n1 2 3 6 4 7 5\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n6 2 11 3 0\r\n6 3 5 4 2 1\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例说明 3\r\n```plain\r\n1 2 3 4 5 6\r\n     +-----+\r\n6 3 5|4 2 1|\r\n1 5 2|4 3 6|\r\n6 2 3|4 5 1|\r\n1 3 5|4 2 6|\r\n6 5 2|4 3 1|\r\n1 2 3|4 5 6| <--\r\n6 3 5|4 2 1|\r\n1 5 2|4 3 6|\r\n6 2 3|4 5 1|\r\n1 3 5|4 2 6|\r\n     +-----+\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $40\\%$ 的数据，$A,$ $B,$ $C,$ $D,$ $N\\le 2000$。  \r\n对于所有数据，$1\\le N\\le 5\\times 10^5,$ $1\\le A, B\\le 10^{12},$ $0\\le C,$ $D\\le N,$ $C+D\\le N$。"}]}