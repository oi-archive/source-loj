{"title":"「JOISC 2017 Day 4」绑架 2","time_limit":5000,"memory_limit":512,"tags":["2017","JOISC","子任务"],"operation":{"submit":"https://loj.ac/problem/2399#submit_code","submissions":"https://loj.ac/submissions?problem_id=2399","statistics":"https://loj.ac/problem/2399/statistics/fastest","testdata":"https://loj.ac/problem/2399/testdata","discussion":"https://loj.ac/discussion/problem/2399"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2017](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/index.html) Day4 T1「[誘拐 2](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d4.pdf) / [Abduction 2](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d4-en.pdf)」**\r\n\r\n某地的道路网可视为由 $H$ 条东西向道路与 $W$ 条南北向道路构成的网格，相邻的两条平行道路之间的距离为 $1 \\:\\textrm{km}$。东西向道路从北到南依次编号为 $ 1\\ldots H $，南北向道路从西到东依次编号为 $ 1\\ldots W $ 。   \r\n东西向道路和南北向道路相交形成路口，规定 $ x $ 号东西向街道和 $ y $ 号南北向街道形成的路口的坐标是 $ (x, y) $ 。  \r\n每条道路有一个车流指数。$i$ 号东西向道路 $(1\\le i\\le H)$ 的车流指数为 $A_{i}$，$j$ 号南北向道路 $(1\\le j\\le W)$ 的车流指数为 $B_j$。所有道路的车流指数互不相同。\r\n\r\n给出 $Q$ 个互不相同的坐标 $(S_1, T_1), (S_2, T_2),\\ldots,(S_Q, T_Q)$ 作为备选起点。对于每个备选起点，请计算：如果按照下述规则移动，最多可以移动多远。  \r\n- 移动开始时，可以任意选择方向。\r\n- 当到达十字路口时：\r\n  * 如果「直行方向的道路的车流指数」比「该十字路口的另一条道路的车流指数」小，就转弯。你可以选择左转还是右转。但如果你在城市边界上，可能只能左转/右转。\r\n  * 如果「直行方向的道路的车流指数」比「该十字路口的另一条道路的车流指数」大，就直行。但如果前面没路（比如到了城市边界），就只能停在此处。\r\n  * 不能掉头。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有三个整数 $H, W, Q$ ，用空格分隔。  \r\n第二行有 $H$ 个整数 $A_1 \\ldots A_H$ ，用空格分隔。  \r\n第三行有 $W$ 个整数 $B_1 \\ldots B_W$ ，用空格分隔。  \r\n在接下来的 $Q$ 行中，第 $k$ 行 $(1\\le k\\le Q)$ 有两个用空格分隔的整数 $S_k, T_k$ 。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共 $Q$ 行，第 $i$ 行 $(1\\le i\\le Q)$ 有一个整数，表示以 $(S_i, T_i)$ 为起点，按照所给规则移动，最多可以移动多远。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 3 5\r\n3 2 6\r\n1 4 5\r\n1 1\r\n1 2\r\n2 2\r\n3 1\r\n3 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n4\r\n5\r\n4\r\n4\r\n2\r\n```\r\n\r\n#### 样例解释 1\r\n例如，对于 $(S_3, T_3) = (2, 2)$，最多可以移动 $4\\:\\textrm{km}$ 。\r\n- 从 $(2, 2)$ 向东移动 $1 \\:\\textrm{km}$ ，到达 $(2, 3)$ 。\r\n- 在 $(2, 3)$ 可以左转或右转。在 $(2, 3)$ 左转，向南移动 $1 \\:\\textrm{km}$ ，到达 $(3, 3)$ 。\r\n- 在 $(3, 3)$ 只能右转。在 $(3, 3)$ 右转，向西移动 $1 \\:\\textrm{km}$ ，到达 $(3, 2)$ 。\r\n- 在 $(3, 2)$ 只能直行。向西移动 $1 \\:\\textrm{km}$ ，到达 $(3, 1)$ 。\r\n- 在 $(3, 1)$ 无法移动。\r\n\r\n#### 样例输入 2\r\n```plain\r\n4 5 6\r\n30 10 40 20\r\n15 55 25 35 45\r\n1 3\r\n4 3\r\n2 2\r\n4 1\r\n2 5\r\n3 3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n7\r\n6\r\n9\r\n4\r\n6\r\n9\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":" $2 \\le H, W \\le 5\\times 10^4, 1\\le Q\\le 100,$ $1\\le A_i, B_j\\le 10^9(1\\le i\\le H, 1\\le j\\le W),$ $1\\le S_k\\le H, 1\\le T_k\\le W(1\\le k\\le Q)$ 。  \r\n保证所有道路的车流指数互不相同，所有的备选起点互不相同。\r\n\r\n|Subtask #|分值|$H,W$|$Q$|\r\n|-|-|-|-|\r\n|1|13|$H,W\\le 8$|$Q=1$|\r\n|2|10|$H,W\\le 2000$|$Q=1$|\r\n|3|17|$H, W \\le 5\\times 10^4$|$Q=1$|\r\n|4|4|$H,W\\le 2000$|$Q\\le 100$|\r\n|5|56|$H, W \\le 5\\times 10^4$|$Q\\le 100$|"}]}