{"title":"「LibreOJ NOIP Round #1」序列划分","time_limit":1000,"memory_limit":512,"tags":["LibreOJ NOIP Round","枚举","贪心","DP","构造"],"operation":{"submit":"https://loj.ac/problem/542#submit_code","submissions":"https://loj.ac/submissions?problem_id=542","statistics":"https://loj.ac/problem/542/statistics/fastest","testdata":"https://loj.ac/problem/542/testdata","discussion":"https://loj.ac/discussion/problem/542"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> 梦想从几时开始，命运在何处终结？\r\n\r\n有一个长度为 $n$ 的整数序列 $\\{a_1, a_2, \\cdots, a_n\\}$。\r\n\r\n你的任务是判断是否可以将其划分为 **$k$ 的倍数个非空子序列**，使得每个元素在恰一个子序列中出现，同时每个子序列均**以 $k$ 的倍数开头、$k$ 的倍数结尾**，并且**长度也为 $k$ 的倍数**。若能划分，求出任意一个方案。\r\n\r\n序列 $\\{a_1, a_2, \\cdots, a_n\\}$ 的一个**子序列**是指将任意多个（可以为 $0$ 个）元素删除后，将其他元素**按照原序列中的顺序**拼接而成的序列。例如，序列 $\\{9, 8, 5\\}$、序列 $\\{7\\}$ 和序列 $\\{9, 8, 7, 6, 5\\}$ 均为序列 $\\{9, 8, 7, 6, 5\\}$ 的子序列，但 $\\{7, 9, 8\\}$ 不是。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包含一个整数 $T$ —— 表示**子任务编号**（与「数据范围与提示」中编号相同，样例的子任务编号为 $0$）。\r\n\r\n第二行包含两个空格分隔的正整数 $n,k$ —— 序列 $a$ 的长度和 $k$ 的值。\r\n\r\n第三行包含 $n$ 个空格分隔的正整数 $a_1, a_2, \\cdots, a_n$ —— 依次表示序列 $a$ 的元素。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"若有解，则第一行输出 `Yes`，否则第一行输出 `No`。  \r\n若有解则按以下格式输出任意一个划分方案：\r\n\r\n第二行输出一个整数 $c$ 表示划分成了 $c$ 个子序列，满足 $k\\le c\\le n$ 且 $c$ 是 $k$ 的倍数；  \r\n接下来 $c$ 行每行描述一个子序列：  \r\n第 $i$ 行第一个整数 $l_i$ 表示第 $i$ 个子序列的长度，满足 $k\\le l_i\\le n$ 且 $l_i$ 是 $k$ 的倍数。  \r\n接下来 $l_i$ 个整数 $p_{i,1},p_{i,2},\\cdots,p_{i,l_i}$ 表示这个子序列中元素的**下标**。满足 $p_{i,j}<p_{i,j+1}$（即下标单调递增）且 $a_{p_{i,1}}$ 和 $a_{p_{i,l_i}}$ 是 $k$ 的倍数。  \r\n另外，$1\\sim n$ 中每个数在 $p$ 中出现且仅出现一次。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n0\r\n6 2\r\n2 4 1 3 6 8\r\n```\r\n#### 样例输出 1\r\n```plain\r\nYes\r\n2\r\n2 1 5\r\n4 2 3 4 6\r\n```\r\n#### 样例解释 1\r\n划分为 $\\{2, 6\\}$ 和 $\\{4, 1, 3, 8\\}$ 两个子序列满足条件。\r\n\r\n#### 样例输入 2\r\n```plain\r\n0\r\n6 2\r\n2 4 6 1 3 5\r\n```\r\n#### 样例输出 2\r\n```plain\r\nNo\r\n```\r\n#### 样例解释 2\r\n以 $k$ 的倍数结尾什么的最讨厌了 (– ‸– )\r\n\r\n#### 样例输入 3\r\n```plain\r\n0\r\n6 2\r\n2 1 2 2 1 2\r\n```\r\n#### 样例输出 3\r\n```plain\r\nYes\r\n2\r\n4 1 2 5 6\r\n2 3 4\r\n```\r\n\r\n#### 样例输入 4\r\n```plain\r\n0\r\n15 3\r\n3 1 1 1 1 3 3 1 3 3 1 1 1 1 3\r\n```\r\n#### 样例输出 4\r\n```plain\r\nYes\r\n3\r\n6 1 2 3 4 5 10\r\n6 6 11 12 13 14 15\r\n3 7 8 9\r\n```\r\n\r\n#### 更多样例\r\n请从页面上方的附加文件中下载。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，有 $2 \\leq k,n \\leq 10^6,0\\le a_i\\le 10^6$。\r\n\r\n| Subtask # | 分值 | $n$ 的限制 | $k$ 的限制 | 特殊限制 |\r\n|:--:|:--:|:--:|:--:|:--:|\r\n| 1 | $5$ | $n \\le 10$ | $k = 2$ | - |\r\n| 2 | $10$ | $n \\le 20$ | $k \\le 20$ | - |\r\n| 3 | $10$ | $n \\le 5\\times 10^4$ | $k = 2$ | - |\r\n| 4 | $15$ | $n \\le 10^2$ | $k \\le 3$ | - |\r\n| 5 | $10$ | $n \\le 10^3$ | $k \\le 10^3$ | - |\r\n| 6 | $10$ | $n \\le 5\\times 10^4$ | $k \\le 5\\times 10^4$ | $a_1,a_2,\\cdots ,a_k$ 是 $k$ 的倍数 |\r\n| 7 | $10$ | $n \\le 5\\times 10^4$ | $k \\le 5\\times 10^4$ | 存在方案使得 $a_1$ 和 $a_n$ 属于同一子序列 |\r\n| 8 | $15$ | $n \\le 5\\times 10^4$ | $k \\le 5\\times 10^4$ | - |\r\n| 9 | $15$ | $n \\le 10^6$ | $k \\le 10^6$ | - |"}]}