{"title":"「SCOI2016」萌萌哒","time_limit":1000,"memory_limit":256,"tags":["2016","SCOI","并查集","倍增"],"operation":{"submit":"https://loj.ac/problem/2014#submit_code","submissions":"https://loj.ac/submissions?problem_id=2014","statistics":"https://loj.ac/problem/2014/statistics/fastest","testdata":"https://loj.ac/problem/2014/testdata","discussion":"https://loj.ac/discussion/problem/2014"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一个长度为 $ n $ 的大数，用 $ S_1S_2S_3 \\ldots S_n $表示，其中 $ S_i $ 表示数的第 $ i $ 位，$ S_1 $ 是数的最高位，告诉你一些限制条件，每个条件表示为四个数 $ (l_1, r_1, l_2, r_2) $，即两个长度相同的区间，表示子串 $ S_{l_1}S_{l_1 + 1}S_{l_1 + 2} \\ldots S_{r_1} $ 与 $ S_{l_2}S_{l_2 + 1}S_{l_2 + 2} \\ldots S_{r_2} $ 完全相同。\r\n\r\n比如 $ n = 6 $ 时，某限制条件 $ (l_1 = 1, r_1 = 3, l_2 = 4, r_2 = 6) $，那么 $ 123123 $、$ 351351 $ 均满足条件，但是 $ 12012 $、$ 131141 $ 不满足条件，前者数的长度不为 $ 6 $，后者第二位与第五位不同。问满足以上所有条件的数有多少个。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个数 $ n $ 和 $ m $，分别表示大数的长度，以及限制条件的个数。  \r\n接下来 $ m $行，对于第 $ i $ 行，有 $ 4 $ 个数 $ {l_i}_1 $、$ {r_i}_1 $、$ {l_i}_2 $、$ {r_i}_2 $，分别表示该限制条件对应的两个区间。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":" 一个数，表示满足所有条件且长度为 $ n $ 的大数的个数，答案可能很大，因此输出答案模 $ 10 ^ 9 + 7 $ 的结果即可。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 2\r\n1 2 3 4\r\n3 3 3 3\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n90\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 1 \\leq n \\leq 10 ^ 5, 1 \\leq m \\leq 10 ^ 5, 1 \\leq {l_i}_1, {r_i}_1, {l_i}_2, {r_i}_2 \\leq n $ 并且保证 $ {r_i}_1 - {l_i}_1 = {r_i}_2 - {l_i}_2 $。"}]}