{"title":"「CodePlus 2018 4 月赛」白金元首与七彩魔法","time_limit":2500,"memory_limit":256,"tags":["CodePlus"],"operation":{"submit":"https://loj.ac/problem/6352#submit_code","submissions":"https://loj.ac/submissions?problem_id=6352","statistics":"https://loj.ac/problem/6352/statistics/fastest","testdata":"https://loj.ac/problem/6352/testdata","discussion":"https://loj.ac/discussion/problem/6352"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> 小朋友 你们好吗　还能记得 我是谁吗　我就是魔法元首まどか！\r\n\r\n「和我签订契约，成为魔法元首吧！」\r\n\r\n于是这天元首不明所以地被地外生物 Kyubey 忽悠去成为了魔法元首。不过在开始练习魔法之前，元首需要为自己的魔法选择一个代表色。\r\n\r\n下图是一个明度最大（即，HSV 色彩空间中 $V = 100\\%$）的单位圆色盘。色盘上任意一点的坐标为一个非负实数对 $(\\alpha°, r\\%)$（$0 \\leq \\alpha < 360$，$0 \\leq r \\leq 100$），表示**色相**为 $\\alpha°$、**饱和度**为 $r\\%$ 的颜色。另一种理解是，$\\alpha°$ 表示从联结圆心和纯红色点的射线顺时针到达该点所经过的角度，$\\frac {r} {100}$ 是该点到单位圆圆心的距离。\r\n\r\n![palette_1.png](https://i.loli.net/2018/04/02/5ac1bb23a4d50.png)\r\n\r\n\r\n\r\n具体而言，从这个坐标 $(\\alpha°, r\\%)$ 到红绿蓝颜色值 $(R, G, B)$ 的转换如下：\r\n\r\n$$\r\n\\begin{align}\r\nh &= \\left\\lfloor \\frac{\\alpha}{60} \\right\\rfloor\r\n\\\\\r\nf &= \\frac{\\alpha}{60} - h\r\n\\\\\r\np &= 1 - (r\\%)\r\n\\\\\r\nq &= 1 - f \\times (r\\%)\r\n\\\\\r\nt &= 1 - (1 - f) \\times (r\\%)\r\n\\end{align}\r\n$$\r\n\r\n$$\r\n(R, G, B) =\r\n\\begin{cases}\r\n(1, t, p), & \\ \\text{if} \\ h = 0  \\\\\r\n(q, 1, p), & \\ \\text{if} \\ h = 1  \\\\\r\n(p, 1, t), & \\ \\text{if} \\ h = 2  \\\\\r\n(p, q, 1), & \\ \\text{if} \\ h = 3  \\\\\r\n(t, p, 1), & \\ \\text{if} \\ h = 4  \\\\\r\n(1, p, q), & \\ \\text{if} \\ h = 5\r\n\\end{cases}\r\n$$\r\n\r\n请参照样例确认你对公式的理解和实现。\r\n\r\n按照 Kyubey 的判断，元首可以选择色盘所在的平面上一条给定**直线段** $(\\alpha_1°, r_1 \\%)$–$(\\alpha_2°, r_2 \\%)$ 上的任意颜色。元首可不需要犹豫，作为一名 bling bling 的帝国领导者，当然要选择**最亮**的颜色啦！\r\n\r\n一个颜色 $(R, G, B)$ 的**亮度**定义为 $L = 0.30R + 0.59G + 0.11B$。下图给出了彩色色盘和表示亮度的灰度色盘的左右对比。\r\n\r\n![palette_2.png](https://i.loli.net/2018/04/02/5ac1bb2371a0b.png)\r\n\r\n你需要编写程序帮助元首计算给定直线段上所有颜色的最大亮度。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从标准输入读入数据。\r\n\r\n输入的第一行包含一个正整数 $T$ —— 数据的组数。接下来包含 $T$ 组数据，格式如下，数据间没有空行。\r\n\r\n* 第 $1$ 行：四个空格分隔的整数 $\\alpha_1$、$r_1$、$\\alpha_2$、$r_2$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到标准输出。\r\n\r\n对于每组数据输出一行，包含一个 $[0, 1]$ 范围内的十进制小数 —— **直线段** $(\\alpha_1°, r_1 \\%)$–$(\\alpha_2°, r_2 \\%)$ 上所有颜色的最大亮度，四舍五入保留**恰好四位小数**。数据保证若参考答案为 $A$，则 $[A - 10^{-5}, A + 10^{-5}]$ 范围内任意实数四舍五入到第四位小数后均相等。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n6\r\n30 30 30 30\r\n120 60 120 60\r\n270 100 270 100\r\n30 30 120 60\r\n120 60 270 100\r\n270 100 30 30\r\n\r\n```\r\n\r\n\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n0.8785\r\n0.7540\r\n0.2600\r\n0.9704\r\n0.9408\r\n0.8785\r\n\r\n```\r\n\r\n\r\n#### 样例解释\r\n\r\n点 $(30°, 30\\%)$ 的红绿蓝颜色值为 $(1.00, 0.85, 0.70)$，亮度为 $0.30 \\times 1.00 + 0.59 \\times 0.85 + 0.11 \\times 0.70 = 0.8785$；\r\n\r\n点 $(120°, 60\\%)$ 的红绿蓝颜色值为 $(0.40, 1.00, 0.40)$，亮度为 $0.30 \\times 0.40 + 0.59 \\times 1.00 + 0.11 \\times 0.40 = 0.7540$； \r\n\r\n点 $(270°, 100\\%)$ 的红绿蓝颜色值为 $(0.50, 0.00, 1.00)$，亮度为 $0.30 \\times 0.50 + 0.59 \\times 0.00 + 0.11 \\times 1.00 = 0.2600$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，有 $T \\leq 100$，$0 \\leq \\alpha_1, \\alpha_2 < 360$，$0 \\leq r_1, r_2 \\leq 100$。\r\n\r\n<!-- BEGIN: Migrated markdown table -->\n\n| 测试点编号 | 附加限制 |\n|-|-|\n| 1 | $\\alpha_1 = \\alpha_2$，$r_1 = r_2$ |\n| 2 | $\\alpha_1 = \\alpha_2$，$r_1 = r_2$ |\n| 3 | $\\alpha_1 = \\alpha_2$ |\n| 4 | $\\alpha_1 = \\alpha_2$ |\n| 5 | $\\alpha_1, \\alpha_2 < 60$ |\n| 6 | $\\alpha_1, \\alpha_2 < 60$ |\n| 7 | $\\lvert \\alpha_1 - \\alpha_2 \\rvert < 60$，$r_1 = r_2$ |\n| 8 | $\\lvert \\alpha_1 - \\alpha_2 \\rvert < 60$，$r_1 = r_2$ |\n| 9 | 无 |\n| 10 | 无 |\n\n<!-- Migrated from original HTML table:\n<table class=\"ui celled center aligned table\"><thead><tr><th rowspan=\"1\">测试点编号</th><th rowspan=\"1\">附加限制</th></tr></thead><tbody><tr><td rowspan=\"1\">1</td><td rowspan=\"2\">$\\alpha_1 = \\alpha_2$，$r_1 = r_2$ </td></tr><tr><td rowspan=\"1\">2</td></tr><tr><td rowspan=\"1\">3</td><td rowspan=\"2\">$\\alpha_1 = \\alpha_2$ </td></tr><tr><td rowspan=\"1\">4</td></tr><tr><td rowspan=\"1\">5</td><td rowspan=\"2\">$\\alpha_1, \\alpha_2 < 60$ </td></tr><tr><td rowspan=\"1\">6</td></tr><tr><td rowspan=\"1\">7</td><td rowspan=\"2\">$\\lvert \\alpha_1 - \\alpha_2 \\rvert < 60$，$r_1 = r_2$ </td></tr><tr><td rowspan=\"1\">8</td></tr><tr><td rowspan=\"1\">9</td><td rowspan=\"2\">无</td></tr><tr><td rowspan=\"1\">10</td></tr></tbody></table>\n-->\n\n<!-- END: Migrated markdown table --> \r\n\r\n\r\n “_Ich glaube, ich habe mich klar genug ausgedrückt!_” \r\n\r\n题面与史实无关。\r\n\r\n<hr style='color: #ddd; margin-bottom: 1em'>\r\n\r\n来自 [CodePlus](https://cp.thusaac.org/) 第 4 次月赛，清华大学计算机科学与技术系学生算法与竞赛协会 荣誉出品。  \r\nCredit：idea 与命题/吕时清　验题/朱玮昊  \r\nGit Repo：https://git.thusaac.org/publish/CodePlus4  \r\n感谢腾讯公司对此次比赛的支持。"}]}