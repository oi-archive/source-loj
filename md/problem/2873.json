{"title":"「JOISC 2014 Day1」有趣的家庭菜园","time_limit":1000,"memory_limit":256,"tags":["2014","JOISC","树状数组","贪心"],"operation":{"submit":"https://loj.ac/problem/2873#submit_code","submissions":"https://loj.ac/submissions?problem_id=2873","statistics":"https://loj.ac/problem/2873/statistics/fastest","testdata":"https://loj.ac/problem/2873/testdata","discussion":"https://loj.ac/discussion/problem/2873"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 JOISC 2014 Day1 T2「[たのしい家庭菜園](https://www.ioi-jp.org/camp/2014/2014-sp-tasks/2014-sp-d1.pdf)」**\r\n\r\nJOI 君对家庭菜园感兴趣。他每年在自家的田地中种植一种叫做 IOI 草的植物。JOI 君的田地沿东西方向被划分为 $N$ 个区域，由西到东标号为 $1\\sim N$。IOI 草一共有 $N$ 株，每个区域种植着一株。在第 $i$ 个区域种植的 IOI 草，在春天的时候高度会生长至 $h_i$，此后便不再生长。  \r\n去踏青的 JOI 君注意到，IOI 草的配置与预定的不太一样。IOI 草是一种非常依靠阳光的植物，如果某个区域的 IOI 草的东侧和西侧都有比它高的 IOI 草存在，那么这株 IOI 草就会在夏天之前枯萎。换句话说，为了不让任何一株 IOI 草枯萎，$\\forall\\ 2\\le i\\le N-1$，以下两个条件至少满足一个：\r\n* $\\forall\\ 1\\le j\\le i-1,\\ $ $h_j\\le h_i$；\r\n* $\\forall\\ i+1\\le j\\le N,\\ $ $h_k\\le h_i$。\r\n\r\nIOI 草非常昂贵，为了不让 IOI 草枯萎，JOI 君需要调换 IOI 草的顺序。IOI 草是一种非常高大且纤细的植物，因此 JOI 君每次只能交换相邻两株 IOI 草。也就是说，JOI 君每次需要选择一个整数 $i$ $(1\\le i\\le N-1)$，然后交换第 $i$ 株 IOI 草和第 $i+1$ 株 IOI 草。随着夏天临近，IOI 草枯萎的可能性越来越大，因此 JOI 君想让所有 IOI 草都不枯萎。  \r\n现在给出田地的区域数，以及每株 IOI 草的高度，请你求出让所有 IOI 草的不会枯萎的最少操作次数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $N$，代表田地被分为了 $N$ 个区域。  \r\n接下来 $N$ 行，第 $i$ 行 $(1\\le i\\le N)$ 一个整数 $h_i$，表示第 $i$ 株植物在春天时的高度。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示最少需要的操作次数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n6\r\n2\r\n8\r\n4\r\n5\r\n3\r\n6\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例说明 1\r\n初始情况：\r\n\r\n![JOISC.2014.D1T2.1.png](https://i.loli.net/2018/10/14/5bc28f11df3ec.png)\r\n\r\n操作方式：\r\n\r\n![JOISC.2014.D1T2.2..png](https://i.loli.net/2018/10/14/5bc28f155d62a.png)\r\n\r\n#### 样例输入 2\r\n```plain\r\n5\r\n4\r\n4\r\n2\r\n4\r\n4\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n2\r\n```\r\n\r\n#### 样例说明 2\r\n将第 $3$ 株 IOI 草移动到区域 $1$ 或区域 $5$。\r\n\r\n#### 样例输入 3\r\n```plain\r\n4\r\n1\r\n3\r\n4\r\n2\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$3\\le N\\le 3\\times 10^5,$ $1\\le D_i \\le 10^9$。\r\n\r\n|子任务编号|分值|$N$|\r\n|-|-|-|\r\n|1|10|$N\\le 8$|\r\n|2|20|$N\\le 20$|\r\n|3|15|$N\\le 5000$|\r\n|4|55||"}]}