{"title":"「雅礼集训 2017 Day2」线段游戏","time_limit":1000,"memory_limit":256,"tags":["2017","雅礼集训","线段树","数据结构"],"operation":{"submit":"https://loj.ac/problem/6034#submit_code","submissions":"https://loj.ac/submissions?problem_id=6034","statistics":"https://loj.ac/problem/6034/statistics/fastest","testdata":"https://loj.ac/problem/6034/testdata","discussion":"https://loj.ac/discussion/problem/6034"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给出若干条线段，用 $ (x_1, y_2), (x_2, y_2) $ 表示其两端点坐标，现在要求支持两种操作：\r\n\r\n* `0 x1 y1 x2 y2` 表示加入一条新的线段 $ (x_1, y_2), (x_2, y_2) $；\r\n* `1 x0` 询问所有线段中，$ x $ 坐标在 $ x_0 $ 处的最高点的 $ y $ 坐标是什么，如果对应位置没有线段，则输出 $ 0 $。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数 $ n $、$ m $ 为初始的线段个数和操作个数。  \r\n接下来 $ n $ 行，每行四个整数，表示一条线段。  \r\n接下来 $ m $ 行，每行为一个操作 `0 x1 y1 x2 y2` 或 `1 x0`。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一个询问操作，输出一行，为一个实数，当你的答案与标准答案误差不超过 $ 10 ^ {-2} $ 时，则视为正确。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 4\r\n0 -1 4 1\r\n4 2 7 2\r\n7 1 8 2\r\n1 4\r\n1 3\r\n0 3 3 6 3\r\n1 3\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n2\r\n0.5\r\n3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 10\\% $ 的数据，$ n, m \\leq 1000 $；  \r\n对于另外 $ 20\\% $ 的数据，所有的 1 操作都在 0 操作之后；  \r\n对于另外 $ 20\\% $ 的数据，所有线段的两端的 $ x $ 坐标都包含所有询问的 $ x $ 坐标，你可以将每条线段当做直线处理；  \r\n对于 $ 100\\% $ 的数据，$ 1 \\leq n \\leq 50000, 1 \\leq m \\leq 150000 $，$ x_1, x_2, y_1, y_2 $ 均为整数，$ 0 < x_0 \\leq 10 ^ 5, -10 ^ 6 \\leq x_1, x_2, y_1, y_2 \\leq 10 ^ 6 $。"}]}