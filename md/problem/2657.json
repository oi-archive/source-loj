{"title":"「POI2007」立方体大作战 Tetris Attack","time_limit":1000,"memory_limit":32,"tags":["POI","早于 2010"],"operation":{"submit":"https://loj.ac/problem/2657#submit_code","submissions":"https://loj.ac/submissions?problem_id=2657","statistics":"https://loj.ac/problem/2657/statistics/fastest","testdata":"https://loj.ac/problem/2657/testdata","discussion":"https://loj.ac/discussion/problem/2657"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 POI 2007 Stage 2. Day 2「[Tetris Attack](https://szkopul.edu.pl/problemset/problem/noPY-IL0vsAi2TiXF-v2f5Br/site/?key=statement)」**\r\n\r\n立方体大作战的游戏规则是这样的：给定一个有 $2n$ 个正整数的栈，每个正整数恰好出现两次。玩家每次可以交换两个相邻的正整数。如果两个相同的正整数相邻，则把这两个数从栈中移除。求最少的交换次数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$。接下来 $2n$ 行以从栈底到栈顶的顺序表示该栈，每行一个正整数 $a_i (1 \\le a_i \\le n)$。每个正整数恰出现两次，且初始时没有两个相同的正整数相邻。\r\n\r\n保证存在不多于 $1\\ 000\\ 000$ 次交换的解。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出最少交换次数以及一组方案。\r\n\r\n第一行有一个整数 $m$，表示交换次数。\r\n\r\n接下来 $m$ 行每行一个整数 $p_i$，表示将从栈底数起第 $p_i$ 个正整数与第 $p_i+1$ 个正整数交换。\r\n\r\n如果有多组解，输出任意一组。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5\r\n5\r\n2\r\n3\r\n1\r\n4\r\n1\r\n4\r\n3\r\n5\r\n2\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n2\r\n5\r\n2\r\n```\r\n\r\n#### 样例解释 1\r\n![](https://szkopul.edu.pl/problemset/problem/noPY-IL0vsAi2TiXF-v2f5Br/site/images/OI14/tet1.gif)\r\n\r\n#### 样例输入 2\r\n```plain\r\n3\r\n1\r\n2\r\n3\r\n1\r\n2\r\n3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n3\r\n3\r\n4\r\n2\r\n```\r\n```plain\r\n3\r\n4\r\n3\r\n2\r\n```\r\n\r\n#### 样例解释 2\r\n![](https://szkopul.edu.pl/problemset/problem/noPY-IL0vsAi2TiXF-v2f5Br/site/images/OI14/tet2.gif)\r\n\r\n![](https://szkopul.edu.pl/problemset/problem/noPY-IL0vsAi2TiXF-v2f5Br/site/images/OI14/tet3.gif)"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$1\\le n\\le 5\\times 10^4,1\\le a_i\\le n$。"}]}