{"title":"「CEOI2018」斐波那契表示法","time_limit":4000,"memory_limit":256,"tags":["2018","CEOI"],"operation":{"submit":"https://loj.ac/problem/3185#submit_code","submissions":"https://loj.ac/submissions?problem_id=3185","statistics":"https://loj.ac/problem/3185/statistics/fastest","testdata":"https://loj.ac/problem/3185/testdata","discussion":"https://loj.ac/discussion/problem/3185"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"译自 CEOI2018 Day2 T1. *[Fibonacci Representations](https://ceoi2018.pl/wp-content/uploads/2018/08/fib.pdf)*\r\n\r\n译者为来自 FZYZ OI Group 的 @[nealchen](https://loj.ac/user/5517)\r\n\r\n----\r\n\r\n定义斐波那契数列为：\r\n\r\n$$\\begin{align}F_1&=1\\\\F_2&=2\\\\F_n&=F_{n-1}+F_{n-2},&n \\geq 3\\end{align}$$\r\n\r\n其前几项为 $ 1, 2, 3, 5, 8, 13, 21, \\ldots$\r\n\r\n对一个正整数 $p$，令 $X(p)$ 表示把 $p$ 表示为若干个不同的斐波那契数的和的表示法数，两种表示法不同当且仅当有一个斐波那契数是其中一个的项，而不是另一个的项。\r\n\r\n给定一个 $n$ 项正整数序列 $a_1, a_2, \\ldots, a_n$，对于其非空前缀 $a_1, a_2, \\ldots, a_k$，定义 $p_k=F_{a_1}+F_{a_2}+\\cdots+F_{a_k}$。\r\n\r\n请你对于 $k=1, 2, \\ldots, n$，求出 $X(p_k)\\bmod(10^9+7)$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n\\ (1 \\leq n \\leq 100\\,000)$。\r\n\r\n第二行 $n$ 个整数 $a_1, a_2, \\ldots, a_n\\ (1 \\leq a_i \\leq 10^9)$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"$n$ 行，第 $k$ 行为 $X(p_k)\\bmod(10^9+7)$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n4\r\n4 1 1 5\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n2\r\n2\r\n1\r\n2\r\n```\r\n\r\n#### 样例解释\r\n\r\n$$\\begin{align}p_1 &= F_4 = 5\\\\p_2 &= F_4 + F_1 = 5 + 1 = 6\\\\p_3 &= F_4 + F_1 + F_1 = 5 + 1 + 1 = 7\\\\p_4 &= F_4 + F_1 + F_1 + F_5 = 5 + 1 + 1 + 8 = 15\\end{align}$$\r\n\r\n$5$ 有两种表示法：$F_2+F_3=2+3$ 和 $F_4=5.$ 因此 $X(p_1)=2$；\r\n\r\n$6$ 有两种表示法：$1+5=1+2+3$；\r\n\r\n$7$ 只有一种表示法：$2+5$；\r\n\r\n$15$ 有两种表示法：$2+13=2+5+8$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| 子任务 | 约束 | 分值 |\r\n| :--: | :---: | :--: |\r\n| $1$ | $n, a_i \\leq 15$ | $5$ |\r\n| $2$ | $n, a_i \\leq 100$ | $20$ |\r\n| $3$ | $n \\leq 100$，$a_i$ 是不同的完全平方数 | $15$ |\r\n| $4$ | $n \\leq 100$ | $10$ |\r\n| $5$ | $a_i$ 是不同的偶数 | $15$ |\r\n| $6$ | 无特殊约束 | $35$ |"}]}