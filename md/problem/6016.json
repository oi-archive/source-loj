{"title":"崂山白花蛇草水","time_limit":4000,"memory_limit":512,"tags":["原创","树套树","k-d Tree","数据结构"],"operation":{"submit":"https://loj.ac/problem/6016#submit_code","submissions":"https://loj.ac/submissions?problem_id=6016","statistics":"https://loj.ac/problem/6016/statistics/fastest","testdata":"https://loj.ac/problem/6016/testdata","discussion":"https://loj.ac/discussion/problem/6016"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"神犇 Aleph 在 SDOI Round2 前立了一个 flag：如果进了省队，就现场直播喝崂山白花蛇草水。凭借着神犇 Aleph 的实力，他轻松地进了山东省省队，现在便是他履行诺言的时候了。蒟蒻 Bob 特地为他准备了 $999,999,999,999,999,999$ 瓶崂山白花蛇草水，想要灌神犇 Aleph。神犇 Aleph 求（跪着的）蒟蒻 Bob 不要灌他，由于神犇 Aleph 是神犇，蒟蒻 Bob 最终答应了他的请求，但蒟蒻 Bob 决定将计就计，也让神犇 Aleph 回答一些问题。  \r\n具体说来，蒟蒻 Bob 会在一个宽敞的广场上放置一些崂山白花蛇草水（可视为二维平面上的一些整点），然后询问神犇 Aleph 在矩形区域 $x_1\\le x\\le x_2,y_1\\le y\\le y_2$ 中，崂山白花蛇草水瓶数第 $k$ 多的是多少。为了避免麻烦，蒟蒻 Bob 不会在同一个位置放置两次或两次以上的崂山白花蛇草水，但蒟蒻 Bob 想为难一下神犇 Aleph，希望他能在每次询问时立刻回答出答案。  \r\n神犇 Aleph 不屑于做这种问题，所以把这个问题交给了你。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行为两个正整数 $n$，$q$，表示横纵坐标的范围和蒟蒻 Bob 的操作次数（包括放置次数和询问次数）。\r\n\r\n接下来 $q$ 行，每行代表蒟蒻 Bob 的一个操作，操作格式如下：  \r\n首先第一个数字 $\\mathrm{type}$，表示操作种类。$\\mathrm{type}=1$ 表示放置，$\\mathrm{type}=2$ 表示询问。  \r\n若 $\\mathrm{type}=1$，接下来会有三个正整数 $x, y, v$，表示在坐标整点 $(x, y)$ 放置 $v$ 瓶崂山白花蛇草水。  \r\n若 $\\mathrm{type}=2$，接下来会有五个正整数 $x_1, y_1, x_2, y_2, k$，表示询问矩形区域 $x_1\\le x\\le x_2,y_1\\le y\\le y_2$ 中，崂山白花蛇草水瓶数第 $k$ 多的是多少。\r\n\r\n为了体现程序的在线性，你需要将每次读入的数据（除了 $\\mathrm{type}$ 值）都异或 $\\mathrm{lastans}$，其中 $\\mathrm{lastans}$ 表示上次询问的答\r\n案。如果上次询问的答案为 `NAIVE!ORZzyz.`（见样例输出），则将 $\\mathrm{lastans}$ 置为 $0$。初始时的 $\\mathrm{lastans}$ 为 $0$。\r\n初始时平面上不存在崂山白花蛇草水。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个 $\\mathrm{type}=2$ 的操作，一行输出崂山白花蛇草水瓶数第 $k$ 多的是多少。若不存在第 $k$ 多的瓶数，\r\n请输出 `NAIVE!ORZzyz.`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n10 7\r\n1 1 1 1\r\n1 2 2 3\r\n1 4 1 2\r\n1 3 4 4\r\n2 1 1 4 1 3\r\n2 2 2 3 5 4\r\n2 2 1 4 4 2\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nNAIVE!ORZzyz.\r\nNAIVE!ORZzyz.\r\n3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$n\\le500000$，$q\\le100000$，$1\\le x, y\\le n$，$1\\le v\\le 10^9$，$1\\le x_1\\le x_2\\le n$，$1\\le y_1\\le y_2\\le n$，$1\\le k\\le q$。"}]}