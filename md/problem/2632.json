{"title":"「BalticOI 2011 Day1」打开灯泡 Switch the Lamp On","time_limit":100,"memory_limit":128,"tags":["2011","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2632#submit_code","submissions":"https://loj.ac/submissions?problem_id=2632","statistics":"https://loj.ac/problem/2632/statistics/fastest","testdata":"https://loj.ac/problem/2632/testdata","discussion":"https://loj.ac/discussion/problem/2632"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 BalticOI 2011 Day1 T3「Switch the Lamp On」**  \r\n有一种正方形的电路元件，在它的两组相对顶点中，有一组会用导线连接起来，另一组则不会。  \r\n有 $N\\times M$ 个这样的元件，你想将其排列成 $N$ 行 $M$ 列放在电路板上。电路板的左上角连接电源，右下角连接灯泡。  \r\n![](http://ruanx.pw/bzojch/file/2346_0.jpg)  \r\n试求：至少要旋转多少个正方形元件才能让电源与灯泡连通，若无解则输出 $\\texttt{NO SOLUTION}$。\r\n\r\nCasper is designing an electronic circuit on a $N ×M$ rectangular grid plate. There are $N ×M$ square tiles that are aligned to the grid on the plate. Two (out of four) opposite corners of each tile are connected by a wire.  \r\nA power source is connected to the top left corner of the plate. A lamp is connected to the bottom right corner of the plate. The lamp is on only if there is a path of wires connecting power source to lamp. In order to switch the lamp on, any number of tiles can be turned by $90°$ (in both directions).  \r\nIn the picture above the lamp is off. If any one of the tiles in the second column from the right is turned by $90°$ , power source and lamp get connected, and the lamp is on.  \r\nWrite a program to find out the minimal number of tiles that have to be turned by $90°$ to switch the lamp on."},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $N$ 和 $M$。  \r\n在接下来的 $N$ 行中，每行有 $M$ 个字符。每个字符均为 `\\` 或 `/`，表示正方形元件上导线的连接方向。  \r\n\r\nThe first line of input contains two integer numbers $N$ and $M$, the dimensions of the plate. In each of the following $N$ lines there are $M$ symbols – either `\\` or `/` – which indicate the direction of the wire connecting the opposite vertices of the corresponding tile."},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共一行，若有解则输出一个整数，表示至少要旋转多少个正方形元件才能让电源与灯泡连通；若无解则输出 `NO SOLUTION`。\r\n\r\nThere must be exactly one line of output. If it is possible to switch the lamp on, this line must contain only one integer number: the minimal number of tiles that have to be turned to switch on the lamp. If it is not possible, output the string: `NO SOLUTION`"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 5\r\n\\\\/\\\\\r\n\\\\///\r\n/\\\\\\\\\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $40\\%$ 的数据，$1 ≤ N ≤ 4, 1 ≤ M ≤ 5$。  \r\n对于所有数据，$1 ≤ N,M ≤ 500$。"}]}