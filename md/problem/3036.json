{"title":"「JOISC 2019 Day3」指定城市","time_limit":2000,"memory_limit":512,"tags":["JOISC","2019","贪心"],"operation":{"submit":"https://loj.ac/problem/3036#submit_code","submissions":"https://loj.ac/submissions?problem_id=3036","statistics":"https://loj.ac/problem/3036/statistics/fastest","testdata":"https://loj.ac/problem/3036/testdata","discussion":"https://loj.ac/discussion/problem/3036"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2019](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/index.html) Day3 T1「[指定都市](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/day3/designated.pdf) / [Designated Cities](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/day3/designated-en.pdf)」**\r\n\r\nJOI 国有 $N$ 座城市。编号从 $1$ 到 $N$。国内有 $N - 1$ 条道路，编号从 $1$ 到 $N - 1$。第 $i$ 条路包含两条车道：从城市 $A_i$ 向城市 $B_i$ 方向的和从城市 $B_i$ 向城市 $A_i$ 方向的。于是这些道路都可以双向行驶。并且这些道路使得可以从任何一个城市到达另外任何一个城市。\r\n\r\n现在所有的车道都还没有铺好。对于第 $i (1\\le i\\le N - 1)$ 条路，从 $A_i$ 到 $B_i$ 的车道的铺设代价是 $C_i$，从 $B_i$ 到 $A_i$ 的铺设代价是 $D_i$。\r\n\r\nJOI 国的首相 Mr. K 可以选择一些城市并且将其指定为**度假城市**。当他指定城市 $x(1\\le x\\le N)$ 为度假城市时，对于每条路 $i(1\\le i\\le N-1)$ 会发生如下事件：\r\n- 设城市 $A_i, B_i$ 中离城市 $x$ 较近的为 $a$，较远的为 $b$。这里离 $x$ 较近的城市的意思是从这个城市到 $x$ 城市经过的道路数比另一个少。若 $b$ 到 $a$ 方向的车道还未被铺设，则现在要将其铺设，因为这意味着这是一条可以通向度假城市的车道。\r\n\r\n对于这些通向度假城市的车道的建设，经费会从纳税中拨款，而剩下的车道的铺路费则要由 Mr. K 自掏腰包。\r\n\r\n接下来 Mr. K 提出了 $Q$ 个计划。第 $j\\:\\!(1\\le j\\le Q)$ 个计划中，他要指定 $E_j$ 个城市作为度假城市。然而，他还没决定具体指定哪 $E_j$ 个城市。他想知道对于每个计划，所可能的自己出资的最小总花费。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $N$，表示城市的数量。\r\n\r\n接下来 $N - 1$ 行，其中第 $i$ 行四个整数 $A_i, B_i, C_i, D_i$。意义见题目描述所示。\r\n\r\n接下来一行一个正整数 $Q$，表示计划数量。\r\n\r\n接下来 $Q$ 行，其中第 $j$ 行一个正整数 $E_j$，表示指定的城市数量。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $Q$ 行，每行一个正整数，表示可能的最小总代价。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n4\r\n1 2 1 2\r\n1 3 3 4\r\n1 4 5 6\r\n2\r\n1\r\n2\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n9\r\n1\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n对于计划 $1$，Mr. K 可以选定 $1$ 号城市，于是他需要自掏腰包的车道就是 $1\\rightarrow 2, 1\\rightarrow 3, 1\\rightarrow 4$。总花费是 $1+3+5=9$。\r\n\r\n对于计划 $2$，Mr. K 可以选定 $3, 4$ 号城市，这样他要自掏腰包的车道就是 $1\\rightarrow 2$。总花费为 $1$。\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n5\r\n1 3 13 6\r\n5 1 17 8\r\n5 2 6 10\r\n1 4 16 11\r\n1\r\n1\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n36\r\n```\r\n\r\n#### 样例解释 2\r\n\r\n这组样例满足子任务 `2` 的限制。\r\n\r\n#### 样例输入 3\r\n\r\n```plain\r\n6\r\n1 6 6 12\r\n6 2 5 16\r\n1 4 13 4\r\n5 1 19 3\r\n3 1 9 13\r\n1\r\n2\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```plain\r\n14\r\n```\r\n\r\n#### 样例解释 3\r\n\r\n这组样例满足子任务 `3` 的限制。\r\n\r\n#### 样例输入 4\r\n```plain\r\n15\r\n14 5 12 7\r\n14 12 6 5\r\n14 10 14 16\r\n9 14 16 12\r\n13 7 4 15\r\n1 3 8 1\r\n6 7 15 13\r\n15 4 4 6\r\n9 1 12 6\r\n13 1 7 6\r\n13 4 5 15\r\n2 6 11 19\r\n8 4 12 7\r\n13 11 14 5\r\n3\r\n3\r\n6\r\n7\r\n```\r\n#### 样例输出 4\r\n```plain\r\n44\r\n12\r\n6\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"#### 限制\r\n\r\n- $2\\le N \\le 2\\times 10^5$\r\n- $1\\le A_i, B_i\\le N (1\\le i\\le N - 1)$\r\n- 保证城市两两可到达\r\n- $1\\le C_i, D_i\\le 10^9 (1\\le i\\le N - 1)$\r\n- $1\\le Q\\le N$\r\n- $1\\le E_j\\le N(1\\le j\\le Q)$\r\n\r\n#### 子任务\r\n\r\n| Subtask # | 分值 | $N \\le$ | $Q$ | 特殊限制 |\r\n|:-:|:-:|:-:|:-:|:-:|\r\n| $1$ | $6$ | $16$ | $\\le N$ |  |\r\n| $2$ | $7$ | $2\\times 10^5$ | $=1$ | $E_1=1$ |\r\n| $3$ | $9$ | $2\\times 10^5$ | $=1$ | $E_1=2$ |\r\n| $4$ | $17$ | $2000$ | $\\le N$ |  |\r\n| $5$ | $17$ | $2\\times 10^5$ | $=1$ |  |\r\n| $6$ | $44$ | $2\\times 10^5$ | $\\le N$ |  |\r\n"}]}