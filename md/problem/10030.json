{"title":"「一本通 1.4 练习 2」Keyboarding","time_limit":1000,"memory_limit":1024,"tags":["2015","ICPC","World Final","搜索"],"operation":{"submit":"https://loj.ac/problem/10030#submit_code","submissions":"https://loj.ac/submissions?problem_id=10030","statistics":"https://loj.ac/problem/10030/statistics/fastest","testdata":"https://loj.ac/problem/10030/testdata","discussion":"https://loj.ac/discussion/problem/10030"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**出自 ICPC World Final 2015 [F. Keyboarding](https://icpc.baylor.edu/worldfinals/problems/icpc2015.pdf)**\r\n\r\n给定一个 $r$ 行 $c$ 列的在电视上的「虚拟键盘」，通过「上，下，左，右，选择」共 $5$ 个控制键，你可以移动电视屏幕上的光标来打印文本。一开始，光标在键盘的左上角，每次按方向键，光标总是跳到下一个在该方向上与当前位置不同的字符，若不存在则不移动。每次按选择键，则将光标所在位置的字符打印出来。  \r\n现在求打印给定文本（要在结尾打印换行符）的最少按键次数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入 $r,c$。  \r\n接下来给出一个 $r\\times c$ 的键盘，包括大写字母，数字，横线以及星号（星号代表 `Enter` 换行）。  \r\n最后一行是要打印的文本串 $S$，$S$ 的长度不超过 $10000$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出打印文本（包括结尾换行符）的最少按键次数。保证一定有解。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 19\r\nABCDEFGHIJKLMNOPQZY\r\nX*****************Y\r\nAZAZ\r\n```\r\n#### 样例输出 1\r\n```plain\r\n19\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n1. 键入 `A` $1$ 次\r\n2. 下（`X`）右（`*`）右（`Y`）左（`*`）上（`Z`），移动 $5$ 次\r\n3. 键入 `Z` $1$ 次\r\n4. 下（`*`）左（`X`）上（`A`），移动 $3$ 次\r\n5. 键入 `A` $1$ 次\r\n6. 从 `A` 移动到 `Z` $5$ 次\r\n7. 键入 `Z` $1$ 次\r\n8. 下（`*`），移动 $1$ 次\r\n9. 键入 `*` $1$ 次\r\n\r\n#### 样例输入 2\r\n```plain\r\n5 20\r\n12233445566778899000\r\nQQWWEERRTTYYUUIIOOPP\r\n-AASSDDFFGGHHJJKKLL*\r\n--ZZXXCCVVBBNNMM--**\r\n--------------------\r\nACM-ICPC-WORLD-FINALS-2015\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n160\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n6 4\r\nAXYB\r\nBBBB\r\nKLMB\r\nOPQB\r\nDEFB\r\nGHI*\r\nAB\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1\\le r,c\\le 50$，$S$ 的长度不超过 $10000$。"}]}