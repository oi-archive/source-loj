{"title":"「BalticOI 2013」管道 Pipes","time_limit":1000,"memory_limit":128,"tags":["2013","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2684#submit_code","submissions":"https://loj.ac/submissions?problem_id=2684","statistics":"https://loj.ac/problem/2684/statistics/fastest","testdata":"https://loj.ac/problem/2684/testdata","discussion":"https://loj.ac/discussion/problem/2684"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有 $n$ 个水库，$m$ 条管道。Jester 会在某些管道中间凿开一个洞，让水流出来或者用水泵把水打进去。保证这个流速是偶数。对于一条管道 $(u, v)$，如果在中间凿开了一个洞让水流出来，流速是 $\\frac{2dm^3}s$，那么水库 $u$ 和 $v$ 失水速度为 $\\frac{dm^3}s$。同理，如果往一条管道 $(u, v)$ 注水，流速为 $\\frac{2pm^3}s$，那么 $u$ 和 $v$ 得到水的速度是 $\\frac{pm^3}s$。\r\n\r\n给定图的构造以及每个水库的水流的变化，问每条边的方案是否唯一。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行：水库数量 $n$，管道数量 $m$（$1 \\le n \\le 100 000, 1 \\le m \\le 500 000$）。  \r\n下面 $n$ 行：第 $i$ 个水库的变化速度 $c_i$（$-10^9 \\le c_i \\le 10^9$）。  \r\n接下来 $m$ 行：$(u, v)$，保证没有重边。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果方案唯一，输出方案，每行一个数 $x_i$（$-10^9 \\le xi \\le 10^9$）表示第 $i$ 条管道的流量变化。放水为负数，灌水为正数。否则输出 `0`。\r\n\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 3\r\n-1\r\n1\r\n-3\r\n1\r\n1 2\r\n1 3\r\n1 4\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n2\r\n-6\r\n2\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n4 5\r\n1\r\n2\r\n1\r\n2\r\n1 2\r\n2 3\r\n3 4\r\n4 1\r\n1 3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\le N \\le 10^5,$ $1 \\le M \\le 5\\times 10^5,$ $−10^9 \\le c_i \\le 10^9$。  \r\n如果方案唯一，$−10^9 \\le x_i \\le 10^9$。  \r\n对于 $30\\%$ 的测试数据，水库为树结构。\r\n\r\n翻译来自 abcdabcd987。"}]}