{"title":"「JOI Open 2016」摩天大楼","time_limit":2000,"memory_limit":512,"tags":["2016","JOI","DP"],"operation":{"submit":"https://loj.ac/problem/2743#submit_code","submissions":"https://loj.ac/submissions?problem_id=2743","statistics":"https://loj.ac/problem/2743/statistics/fastest","testdata":"https://loj.ac/problem/2743/testdata","discussion":"https://loj.ac/discussion/problem/2743"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [JOI Open 2016](https://contests.ioi-jp.org/open-2016/index.html) T3 「高層ビル街 / Skyscraper」**\r\n\r\n将互不相同的 $N$ 个整数 $A_1, A_2, \\dots, A_N$ 按照一定顺序排列。  \r\n假设排列为 $f_1, f_2, \\dots, f_N$，要求：$ | f_1 − f_2| + | f_2 − f_3| + \\dots + | f_{N−1} − f_N| ≤ L$。  \r\n求满足题意的排列的方案数 $\\bmod (10^9+7)$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $N, L$。  \r\n第二行有 $N$ 个整数 $A_1, A_2, \\dots, A_N$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行，一个整数，表示方案数 $\\bmod (10^9+7)$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 10\r\n3 6 2 9\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n6\r\n```\r\n\r\n#### 样例说明 1\r\n$2\\ 3\\ 6\\ 9$, $|2 − 3| + |3 − 6|$ $+ |6 − 9| = 7$。  \r\n$2\\ 3\\ 9\\ 6$, $|2 − 3| + |3 − 9|$ $+ |9 − 6| = 10$。  \r\n$3\\ 2\\ 6\\ 9$, $|3 − 2| + |2 − 6|$ $+ |6 − 9| = 8$。  \r\n$6\\ 9\\ 3\\ 2$, $|6 − 9| + |9 − 3|$ $+ |3 − 2| = 10$。  \r\n$9\\ 6\\ 2\\ 3$, $|9 − 6| + |6 − 2|$ $+ |2 − 3| = 8$。  \r\n$9\\ 6\\ 3\\ 2$, $|9 − 6| + |6 − 3|$ $+ |3 − 2| = 7$。\r\n\r\n#### 样例输入 2\r\n```plain\r\n8 35\r\n3 7 1 5 10 2 11 6\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n31384\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\le N\\le 100,$ $1\\le L\\le 1000,$ $1\\le A_i\\le 1000$。\r\n\r\n**子任务 1（5 分）** $\\ \\ N\\le 8$。  \r\n**子任务 2（15 分）** $\\ \\ N\\le 14,$ $L\\le 100$。  \r\n**子任务 3（80 分）** $\\ \\ $没有额外限制。"}]}