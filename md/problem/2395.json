{"title":"「JOISC 2017 Day 2」火车旅行","time_limit":2000,"memory_limit":512,"tags":["2017","JOISC","LCA","子任务"],"operation":{"submit":"https://loj.ac/problem/2395#submit_code","submissions":"https://loj.ac/submissions?problem_id=2395","statistics":"https://loj.ac/problem/2395/statistics/fastest","testdata":"https://loj.ac/problem/2395/testdata","discussion":"https://loj.ac/discussion/problem/2395"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2017](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/index.html) Day2 T3「[鉄道旅行](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d2.pdf) / [Railway Trip](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d2-en.pdf)」**\r\n\r\n某条铁路线（非环线）有 $N$ 站，依次编号为 $1\\ldots N$。这条线路上跑着 $K$ 类列车，编号为 $1\\ldots K$。每种列车都是双向运行的。  \r\n这条铁路线上的每个车站都有个旅客流量，旅客流量是一个 $\\le K$ 的正整数。车站 $i(1\\le i\\le N)$ 的旅客流量为 $L_i$，$L_1=L_N=K$。  \r\n第 $j$ 类列车 $(1\\le j\\le K)$ 在且只在旅客流量 $\\ge j$ 的车站停车。\r\n现有 $Q$ 名旅客，依次编号为 $1\\ldots Q$，旅客 $k(1\\le k\\le Q)$ 的起点是车站 $A_k$，终点是 $B_k$ $(1\\le A_k, B_k\\le N)$。假设这些旅客只能靠这条铁路线移动。  \r\n对于每个旅客，求这名旅客的途中至少要**停几次站**（不含该旅客的起终点站）。保证同一名旅客的起点与终点不同。允许走回头路。  \r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有三个整数 $N, K, Q$，用空格分隔。  \r\n在接下来的 $N$ 行中，第 $i$ 行 $(1\\le i\\le N)$ 有一个整数 $L_i$。  \r\n在接下来的 $Q$ 行中，第 $k$ 行 $(1\\le k\\le N)$ 有两个整数 $A_k,B_k$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共 $Q$ 行，每行一个整数，表示旅客 $k$ 最少的停站次数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n9 3 3\r\n3\r\n1\r\n1\r\n1\r\n2\r\n2\r\n2\r\n3\r\n3\r\n2 4\r\n4 9\r\n6 7\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n3\r\n0\r\n```\r\n\r\n#### 样例解释 1\r\n旅客 $1$ 从车站 $2$ 出发，可以直接坐 $1$ 类车抵达车站 $4$。中途站只有车站 $3$。  \r\n旅客 $2$ 从车站 $4$ 出发，可以先坐 $1$ 类车到车站 $5$，再换乘 $2$ 类车坐到车站 $1$，再换乘 $3$ 类车坐到车站 $9$。中途站为车站 $5,1,8$。  \r\n旅客 $3$ 从车站 $6$ 出发，直接坐 $1$ 类车抵达车站 $7$。\r\n\r\n#### 样例输入 2\r\n```plain\r\n5 2 1\r\n2\r\n1\r\n1\r\n1\r\n2\r\n1 4\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例解释 2\r\n注意可以走过目的地，再走回来。\r\n\r\n#### 样例输入 3\r\n```plain\r\n15 5 15\r\n5\r\n4\r\n1\r\n2\r\n3\r\n1\r\n1\r\n2\r\n4\r\n5\r\n4\r\n1\r\n5\r\n3\r\n5\r\n8 1\r\n11 1\r\n5 3\r\n6 11\r\n9 12\r\n15 14\r\n15 2\r\n3 12\r\n2 1\r\n4 8\r\n15 5\r\n12 6\r\n1 13\r\n13 8\r\n14 9\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n2\r\n1\r\n1\r\n3\r\n2\r\n0\r\n3\r\n4\r\n0\r\n1\r\n3\r\n4\r\n1\r\n2\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$2\\le N\\le 10^5, 1\\le K\\le N, 1\\le Q\\le 10^5, 1\\le L_i\\le K(1\\le i\\le N), 1\\le A_k, B_k\\le N, A_k\\not=B_k(1\\le k\\le Q)$。\r\n<!-- BEGIN: Migrated markdown table -->\r\n\r\n| Subtask # | 分值 | $N$ | $K$ | $Q$ |\r\n|-|-|-|-|-|\r\n| 1 | 5 | $N\\le 100$ | $K\\le 100$ | $Q\\le 50$ |\r\n| 2 | 15 |  |  | $Q\\le 50$ |\r\n| 3 | 25 |  | $K\\le 20$ |  |\r\n| 4 | 55 |  |  |  |\r\n\r\n<!-- Migrated from original HTML table:\r\n<table class=\"ui celled table\">\r\n<thead>\r\n<tr>\r\n<th>Subtask #</th>\r\n<th>分值</th>\r\n<th> $N$ </th>\r\n<th> $K$ </th>\r\n<th> $Q$ </th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<td>1</td>\r\n<td>5</td>\r\n<td> $N\\le 100$ </td>\r\n<td> $K\\le 100$ </td>\r\n<td> $Q\\le 50$ </td>\r\n</tr>\r\n<tr>\r\n<td>2</td>\r\n<td>15</td>\r\n<td></td>\r\n<td></td>\r\n<td> $Q\\le 50$ </td>\r\n</tr>\r\n<tr>\r\n<td>3</td>\r\n<td>25</td>\r\n<td></td>\r\n<td> $K\\le 20$ </td>\r\n<td></td>\r\n</tr>\r\n<tr>\r\n<td>4</td>\r\n<td>55</td>\r\n<td></td>\r\n<td></td>\r\n<td></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n-->\r\n\r\n<!-- END: Migrated markdown table -->\r\n表格中留空的均无特殊限制。"}]}