{"title":"Optimal Sort","time_limit":10000,"memory_limit":1024,"tags":["交互题"],"operation":{"submit":"https://loj.ac/problem/6628#submit_code","submissions":"https://loj.ac/submissions?problem_id=6628","statistics":"https://loj.ac/problem/6628/statistics/fastest","testdata":"https://loj.ac/problem/6628/testdata","discussion":"https://loj.ac/discussion/problem/6628"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**请注意，本题为非传统题，你不应该期望在此题得到满分，根据你做法的优劣你将得到不超过 100 的一个分值。本题只支持 C++ 语言，不保证使用其他语言能通过编译。**\r\n\r\n有 $n$ 个编号分别为 $0,1 \\cdots n-1$ 的球。这 $n$ 个球的大小两两不同。你每次可以比较两个球的大小关系，你需要调用尽量少次比较将它们排序。\r\n\r\n你需要在程序的第一行 `#include \"sort.hpp\"`。你不应该实现 `main` 函数，你只需要实现一个函数：`std::vector<int> my_sort(int n)`，它接受球的个数 $n$，返回球按大小从小到大排列后的编号顺序。你可以调用一个函数：`bool query(int a, int b)`，如果球 $a$ 比球 $b$ 轻，该函数会返回 $1$，否则返回 $0$。\r\n\r\n评分方法请见【数据范围与提示】一节。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"本题共 $1$ 个测试点，$n=10^5$。在这个测试点中，你的 $\\text{my_sort}$ 函数会被调用恰好 $10$ 次。每次球的大小均匀独立随机生成且两两不同。\r\n\r\n+ 若你没有正确地将球按大小排序，你得到$0$分。\r\n\r\n+ 否则设你一共调用了 $p$ 次 $\\text{query}$，若 $p>10^8$ 你会得到 $0$ 分，否则设 $q=10\\lceil \\log_2(n!)\\rceil=15167050$，你的得分为  $\\lfloor \\sum_{i=1}^{100}(\\frac{q}{p})^i+0.5 \\rfloor$。\r\n\r\n**请不要恶意攻击交互库（包括但不限于查看交互库源码并生成相同的排列、读取内存）。**\r\n\r\n一个可以获得分数的程序：\r\n\r\n```C++\r\n#include \"sort.hpp\"\r\n#include <bits/stdc++.h>\r\nstd::vector<int> my_sort(int n)\r\n{\r\n\tstd::vector<int> v;\r\n\tfor(int i=0;i<n;++i) v.push_back(i);\r\n\tsort(v.begin(),v.end(),query); return v;\r\n}\r\n```"}]}