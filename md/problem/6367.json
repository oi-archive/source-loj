{"title":"初始化","time_limit":1000,"memory_limit":256,"tags":["组合计数","数学"],"operation":{"submit":"https://loj.ac/problem/6367#submit_code","submissions":"https://loj.ac/submissions?problem_id=6367","statistics":"https://loj.ac/problem/6367/statistics/fastest","testdata":"https://loj.ac/problem/6367/testdata","discussion":"https://loj.ac/discussion/problem/6367"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"对一个长度为 $n$ 的数组进行 $n$ 次操作,每次将 $1$ 到 $p_i$ 赋值。\r\n\r\n由于蒟蒻非常鶸，所以在第 $2$ 到 $n$ 次操作之前，他只会将 $1$ 到 $\\min(p_{i-1},p_i)$ 初始化。\r\n\r\n如果不是第一次的某个操作将一个未初始化的变量赋值，则该操作为无效操作。第一次操作不需要初始化。\r\n\r\n形式化地，第 $i(2\\le i\\le n)$ 次操作无效，当且仅当 $p_i>\\mathop{\\max}\\limits_{j=1}^{i-1}\\min(p_j,p_{j+1})$。\r\n\r\n现给定 $n,m$ 和 $p_1,p_2,\\ldots,p_m$。\r\n\r\n求对于所有满足条件的排列 $p$（共有 $(n-m)!$ 种）中，蒟蒻没有无效操作的种数。\r\n\r\n若没有满足条件的方案则输出 `-1`。**注意，是 $-1$，不是 $0$！**\r\n\r\n否则，你只要回答答案 $\\bmod 10^9+7$ 的结果即可。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n,m$；  \r\n第二行 $m$ 个整数 第 $i$ 个数为 $p_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个正整数或 `-1`，表示满足题意的方案数 $\\bmod 10^9+7$ 的结果或无解。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 0\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n4\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$n\\le 10^{18},m\\le 1000000,n\\ge m$  \r\n$p_i$ 互不重复且小于等于 $n$"}]}