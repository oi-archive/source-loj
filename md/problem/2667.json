{"title":"「NOI2013」矩阵游戏","time_limit":1000,"memory_limit":256,"tags":["NOI","2013"],"operation":{"submit":"https://loj.ac/problem/2667#submit_code","submissions":"https://loj.ac/submissions?problem_id=2667","statistics":"https://loj.ac/problem/2667/statistics/fastest","testdata":"https://loj.ac/problem/2667/testdata","discussion":"https://loj.ac/discussion/problem/2667"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"婷婷是个喜欢矩阵的小朋友，有一天她想用电脑生成一个巨大的 $n$ 行 $m$ 列的矩阵（你不用担心她如何存储）。她生成的这个矩阵满足一个神奇的性质：若用 $F[i][j]$ 来表示矩阵中第 $i$ 行第 $j$ 列的元素，则 $F[i][j]$ 满足下面的递推式：\r\n$$\r\n\\begin{cases}\r\nF[1][1] = 1 \\\\\r\nF[i][j] = a * F[i][j-1]+b & j \\neq 1 \\\\\r\nF[i][1] = c * F[i-1][m]+d & i \\neq 1\r\n\\end{cases}\r\n$$\r\n递推式中 $a$，$b$，$c$，$d$ 都是给定的常数。\r\n\r\n现在婷婷想知道 $F[n][m]$ 的值是多少，请你帮助她。由于最终结果可能很大，你只需要输出 $F[n][m]$ 除以 $1\\ 000\\ 000\\ 007$ 的余数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"一行有六个整数 $n$，$m$，$a$，$b$，$c$，$d$。意义如题所述。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"包含一个整数，表示 $F[n][m]$ 除以 $1\\ 000\\ 000\\ 007$ 的余数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 4 1 3 2 6\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n85\r\n```\r\n\r\n#### 样例解释 1\r\n样例中的矩阵为：$\\begin{pmatrix} 1& 4& 7& 10\\\\ 26& 29& 32& 35\\\\ 76& 79& 82& 85\\end{pmatrix}$\r\n\r\n#### 样例输入输出 2\r\n见附加文件中的 `matrix.in` 与 `matrix.ans`."},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| 测试点编号 | 数据范围 |\r\n| :-: | :-: |\r\n| 1 | $1 \\le n,m \\le 10$；$1 \\le a,b,c,d \\le 1000$ |\r\n| 2 | $1 \\le n,m \\le 100$；$1 \\le a,b,c,d \\le 1000$ |\r\n| 3 | $1 \\le n,m \\le 10^3$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 4 | $1 \\le n,m \\le 10^3$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 5 | $1 \\le n,m \\le 10^9$；$1 \\le a = c \\le 10^9$；$1 \\le b = d \\le 10^9$ |\r\n| 6 | $1 \\le n,m \\le 10^9$；$a = c = 1$；$1 \\le b,d \\le 10^9$ |\r\n| 7 | $1 \\le n,m,a,b,c,d \\le 10^9$ |\r\n| 8 | $1 \\le n,m,a,b,c,d \\le 10^9$ |\r\n| 9 | $1 \\le n,m,a,b,c,d \\le 10^9$ |\r\n| 10 | $1 \\le n,m,a,b,c,d \\le 10^9$ |\r\n| 11 | $1 \\le n,m \\le 10^{1000}$；$a = c = 1$；$1 \\le b,d \\le 10^9$ |\r\n| 12 | $1 \\le n,m \\le 10^{1000}$；$1 \\le a = c \\le 10^9$；$1 \\le b = d \\le 10^9$ |\r\n| 13 | $1 \\le n,m \\le 10^{1000}$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 14 | $1 \\le n,m \\le 10^{1000}$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 15 | $1 \\le n,m \\le 10^{20000}$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 16 | $1 \\le n,m \\le 10^{20000}$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 17 | $1 \\le n,m \\le 10^{1,000,000}$；$a = c = 1$；$1 \\le b,d \\le 10^9$ |\r\n| 18 | $1 \\le n,m \\le 10^{1,000,000}$；$1 \\le a = c \\le 10^9$；$1 \\le b = d \\le 10^9$ |\r\n| 19 | $1 \\le n,m \\le 10^{1,000,000}$；$1 \\le a,b,c,d \\le 10^9$ |\r\n| 20 | $1 \\le n,m \\le 10^{1,000,000}$；$1 \\le a,b,c,d \\le 10^9$ |"}]}