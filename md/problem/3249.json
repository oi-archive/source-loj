{"title":"「COCI 2020.2」Matching","time_limit":2500,"memory_limit":512,"tags":["COCI","2020"],"operation":{"submit":"https://loj.ac/problem/3249#submit_code","submissions":"https://loj.ac/submissions?problem_id=3249","statistics":"https://loj.ac/problem/3249/statistics/fastest","testdata":"https://loj.ac/problem/3249/testdata","discussion":"https://loj.ac/discussion/problem/3249"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [COCI 2019/2020 Contest #5](https://hsin.hr/coci/contest5_tasks.pdf) T3「Matching」**\r\n\r\n给定一个偶数 $N$，表示二维平面上有 $N$ 个整点（整点即点坐标均为整数的点）。对于每个整数 $a$，最多有两个点坐标为 $(a,x)$，类似地，对于每个整数 $b$，最多有两个点坐标为 $(x,b)$。\r\n\r\n你可以在两点之间画一条竖直或水平的线段，请问是否可能画出 $\\frac{N}{2}$ 条线段，使得每个给出的点都是恰好一条线段的一个端点，且线段之间两两不相交。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $N$，意义如题目描述；\r\n\r\n接下来 $N$ 行，每行两个整数 $X_i,Y_i$，表示第 $i$ 个点的坐标。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果不能按题目描述的规定划线，则在第一行输出 `NE`（克罗地亚语中的「否」）。\r\n\r\n否则第一行输出 `DA`（克罗地亚语中的「是」）。在接下来的 $\\frac{N}{2}$ 行，每行输出两个整数 $i,j$，用一个空格隔开，表示 $i,j$ 两个点间画一条线段。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n8\r\n1 1\r\n1 3\r\n2 2\r\n2 4\r\n3 1\r\n3 3\r\n4 2\r\n4 4\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\nDA\r\n1 5\r\n3 7\r\n2 6\r\n4 8\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n6\r\n1 2\r\n1 3\r\n2 1\r\n2 4\r\n3 2\r\n3 3\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\nDA\r\n1 2\r\n3 4\r\n5 6\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n2\r\n1 1\r\n2 2\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\nNE\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$2\\le N\\le 10^5,1\\le X_i,Y_i\\le 10^5$。\r\n\r\n详细子任务附加限制及分值如下：\r\n\r\n|Subtask|附加限制|分值|\r\n|:-:|:-:|:-:|\r\n|$1$|$2\\le N\\le 20$，对于任意整数 $a$，坐标为 $(a,x),(x,a)$ 的点都有偶数个|$5$|\r\n|$2$|$2\\le N\\le 20$|$5$|\r\n|$3$|$2\\le N\\le 40$|$6$|\r\n|$4$|$2\\le N\\le 2\\times 10^3$|$36$|\r\n|$5$|无附加限制|$48$|"}]}