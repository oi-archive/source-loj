{"title":"「APIO2015」雅加达的摩天楼 Jakarta Skyscrapers","time_limit":1000,"memory_limit":256,"tags":["2015","APIO","最短路"],"operation":{"submit":"https://loj.ac/problem/2887#submit_code","submissions":"https://loj.ac/submissions?problem_id=2887","statistics":"https://loj.ac/problem/2887/statistics/fastest","testdata":"https://loj.ac/problem/2887/testdata","discussion":"https://loj.ac/discussion/problem/2887"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"雅加达（印尼首都）有 $N$ 座摩天楼排成一列，依次编号为 $0$ 到 $N−1$。  \r\n有 $M$ 只神秘生物 doge 住在雅加达，分别编号为 $0$ 到 $M−1$。$i$ 号 doge 最初居住于 $B_i$ 号摩天楼。  \r\ndoge 能够在摩天楼间跳跃，$i$ 号 doge 的弹跳力为 $P_{\\,i} (P_{\\,i}>0)$ 。每次跳跃，位于 $b$ 号摩天楼、弹跳力为 $p$ 的 doge **只能**跳跃到 $b-p$ 号（若 $0\\le b-p\\le N$）或 $b+p$ 号（若 $0\\le b+p\\le N$）摩天楼。  \r\n$0$ 号 doge 有一条紧急的消息要尽快传送给 $1$ 号 doge。任何一个收到消息的 doge 可以跳跃到其他摩天楼上，也可以将消息传递给它当前所在的摩天楼上的其他 doge。  \r\n请帮助 doge 们计算：将消息从 $0$ 号 doge 传递到 $1$ 号 doge 的最少跳跃步数，或者告诉它们消息永远不可能传递到 $1$ 号 doge 。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $N$ 和 $M$。  \r\n接下来 $M$ 行，每行包含两个整数 $B_i$ 和 $P_{\\,i}$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，表示所需要的最少步数。如果消息永远无法传递到 doge $1$，输出 $\\texttt{−1}$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 3\r\n0 2\r\n1 1\r\n4 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n5\r\n```\r\n\r\n#### 样例说明\r\n下面是一种步数为 5 的解决方案：\r\n\r\ndoge $0$ 跳跃到 2 号摩天楼，再跳跃到 4 号摩天楼（2 步）。\r\ndoge $0$ 将消息传递给 doge $2$ 。\r\ndoge $2$ 跳跃到 3 号摩天楼，接着跳跃到 2 号摩天楼，再跳跃到 1 号摩天楼（3 步）。\r\ndoge $2$ 将消息传递给 doge $1$ 。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"所有数据都保证 $0≤B_i<N$。\r\n\r\n**子任务 1 （10 分）**\r\n- $1≤N≤10$\r\n- $1≤P_i≤10$\r\n- $2≤M≤3$\r\n\r\n**子任务 2 （12 分）**\r\n- $1≤N≤100$\r\n- $1≤P_i≤100$\r\n- $2≤M≤2000$\r\n\r\n**子任务 3 （14 分）**\r\n- $1≤N≤2000$\r\n- $1≤P_i≤2000$\r\n- $2≤M≤2000$\r\n\r\n**子任务 4 （21 分）**\r\n- $1≤N≤2000$\r\n- $1≤P_i≤2000$\r\n- $2≤M≤30000$\r\n\r\n**子任务 5 （43 分）**\r\n- $1≤N≤30000$\r\n- $1≤P_i≤30000$\r\n- $2≤M≤30000$"}]}