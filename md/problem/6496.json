{"title":"「雅礼集训 2018 Day1」仙人掌","time_limit":2000,"memory_limit":512,"tags":["雅礼集训","2018","DFT（含 NTT）及FFT","仙人掌"],"operation":{"submit":"https://loj.ac/problem/6496#submit_code","submissions":"https://loj.ac/submissions?problem_id=6496","statistics":"https://loj.ac/problem/6496/statistics/fastest","testdata":"https://loj.ac/problem/6496/testdata","discussion":"https://loj.ac/discussion/problem/6496"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给出一张 $n$ 个点 $m$ 条边的无向连通图，其中每条边至多属于一个简单环，保证没有自环，可能有重边。你需要为其中每条边定向，其中第 $i$ 个点的出度不能超过 $a_i$，求方案数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包括两个正整数 $n, m$。\r\n\r\n接下来 $m$ 行，每行两个正整数，表示有一条边连接这两个点。\r\n\r\n最后一行 $n$ 个正整数，其中第 $i$ 个表示 $a_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个非负整数，表示答案对 $998244353$ 取模后的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 4\r\n1 2\r\n2 1\r\n2 3\r\n3 2\r\n1 2 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$1 \\leq a_i \\leq n \\leq 10^5, 1 \\leq m \\leq 2×10^5$。\r\n\r\n- 子任务 $\\rm 1(points:10)$：$m \\leq 20$\r\n- 子任务 $\\rm 2(points:10)$：$m= n - 1$且 $a_i = 2$\r\n- 子任务 $\\rm 3(points:20)$：$a_i = 2$\r\n- 子任务 $\\rm 4(points:20)$：$m = n - 1$\r\n- 子任务 $\\rm 5(points:20)$：每个点至多属于一个简单环\r\n- 子任务 $\\rm 6(points:20)$：无特殊限制\r\n\r\n\r\n"}]}