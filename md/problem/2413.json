{"title":"「JOI Open 2017」推土机","time_limit":2000,"memory_limit":512,"tags":["2017","JOI","线段树"],"operation":{"submit":"https://loj.ac/problem/2413#submit_code","submissions":"https://loj.ac/submissions?problem_id=2413","statistics":"https://loj.ac/problem/2413/statistics/fastest","testdata":"https://loj.ac/problem/2413/testdata","discussion":"https://loj.ac/discussion/problem/2413"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [JOI Open 2017](https://contests.ioi-jp.org/open-2017/index.html) T2 「ブルドーザー / Bulldozer」**\r\n\r\n平面上有 $N$ 个点，点 $i\\:(1≤i≤N)$ 位于 $(X_i, Y_i)$，点 $i\\:(1≤i≤N)$ 的权值为非零整数 $W_i$（可能为负数）。  \r\n在平面上画两条平行线，所得的总价值为平行线之间（压线也算）所有点的权值之和。求总价值至多不超过多少。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个整数 $N$。  \r\n在接下来的 $N$ 行中，第 $i$ 行包含三个用空格分隔的整数 $X_i,Y_i,W_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行，一个整数，表示最大总价值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5\r\n-5 5 -2\r\n2 5 10\r\n1 4 -2\r\n4 -5 4\r\n-2 2 7\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n19\r\n```\r\n\r\n#### 样例解释 1\r\n<img src=\"https://www.z4a.net/images/2018/08/03/JOI-Open-17-T2.png\" alt=\"JOI-Open-17-T2.png\" border=\"0\" width=\"40%\"/>\r\n\r\n选择点 $2, 3, 4, 5$。\r\n\r\n#### 样例输入 2\r\n```plain\r\n6\r\n0 0 6\r\n1 0 -2\r\n2 0 8\r\n0 1 -2\r\n1 1 5\r\n2 1 -2\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n15\r\n```\r\n\r\n#### 样例解释 2\r\n注意，点 $1,2,3$ 共线。点 $4,5,6$ 共线。\r\n\r\n#### 样例输入 3\r\n```plain\r\n5\r\n0 0 2\r\n4 0 2\r\n3 2 -1\r\n1 2 2\r\n1 1 -1\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n5\r\n```\r\n\r\n#### 样例解释 3\r\n这组样例中没有三点共线。选择的平行线一条过点 $1,2$，另一条过点 $3,4$。\r\n\r\n#### 样例输入 4\r\n```plain\r\n2\r\n0 0 -1\r\n1 0 -1\r\n```\r\n\r\n#### 样例输出 4\r\n```plain\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"所有输入数据都满足以下条件。\r\n\r\n $1≤N≤2000, |X_i|,|Y_i|≤10^9,1 ≤|W_i|≤10^9(1≤i≤N)$ 。$(X_i,Y_i)≠(X_j,Y_j)\\:(1≤i<j≤N)$ 。\r\n\r\n|子任务|分值|$N≤100$|无三点共线|设 $L$ 是在平面上通过两个不同点的</br>一条线，$L'$ 是在平面上另一条通过两个</br>不同点的线，那么 $L$ 和 $L'$ **不**相互平行|其他条件|\r\n|:---------:|:------------:|:-------------:|:---------------:|:-:|:------------:|\r\n|$1$     |$5$    |√            |×                 |×|所有点都在 $x$ 轴上|\r\n|$2$     |$20$  |√          |√               |√|无|\r\n|$3$     |$35$  |×          |√                |√|无|\r\n|$4$     |$20$  |×          |√                |×|无|\r\n|$5$     |$20$  |×          |×                |×|无|"}]}