{"title":"「XXOI 2018」暑假时在做什么？有没有空？可以来学物理吗？","time_limit":400,"memory_limit":256,"tags":["RMQ","前缀和","分治"],"operation":{"submit":"https://loj.ac/problem/6490#submit_code","submissions":"https://loj.ac/submissions?problem_id=6490","statistics":"https://loj.ac/problem/6490/statistics/fastest","testdata":"https://loj.ac/problem/6490/testdata","discussion":"https://loj.ac/discussion/problem/6490"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"众所周知，zrq 在机房不仅可以学物理，甚至可以学竞赛！\r\n\r\nzrq 看着自己的一堆物理书（每本物理书有权值，表示难易度，即 $a_i$），同时想出了一对 $l,r$。他先将这些书在地上排成一行，他想知道对于某本书 $i$，所有经过这本书、且长度在 $[l,r]$ 之间的连续子序列中，最大的连续子序列的权值和。即对于每一个 $i$ ，求：\r\n\r\n$$\r\n\\Large f_i = \\max_{1 \\le x \\le i \\le y \\le n \\mathop{且}\\:\\; l \\le y - x + 1 \\le r} \\,\\, \\sum_{k=x}^{y}a_k\r\n$$\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $n,l,r$，表示序列长度、区间范围。  \r\n第二行 $n$ 个整数，其中第 $i$ 个整数表示 $a_i$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行 $n$ 个整数，第 $i$ 个整数表示 $f_i$"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 1 3\r\n-1 -6 7 7 -4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n0 8 14 14 10\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $10 \\%$ 的数据，保证$n \\le 10$  \r\n对于另外 $10 \\%$ 的数据，保证 $\\forall i,j \\in [1,n] \\cap Z, a_i=a_j$  \r\n对于另外 $10 \\%$ 的数据，保证 $r - l + 1 \\le 10$  \r\n对于另外 $10 \\%$ 的数据，保证 $\\forall i \\in [1, n] \\cap Z, a_i = i$  \r\n对于另外 $10 \\%$ 的数据，保证 $\\forall i \\in [1, n] \\cap Z, a_i \\ge 0$  \r\n对于另外 $10 \\%$ 的数据，保证 $\\forall i \\in [1, n] \\cap Z, 0 \\le | a_i | \\le 10$  \r\n对于另外 $10 \\%$ 的数据，保证 $\\forall i \\in [1, n] \\cap Z, a_i = 0$  \r\n对于 $100 \\%$ 的数据，保证$1 \\le l \\le r \\le n \\le 10^5,0 \\le | a_i | \\le 10^5$"}]}