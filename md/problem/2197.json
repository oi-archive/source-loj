{"title":"「SDOI2014」向量集","time_limit":2000,"memory_limit":256,"tags":["SDOI","2014","标签待整理","数据待检查"],"operation":{"submit":"https://loj.ac/problem/2197#submit_code","submissions":"https://loj.ac/submissions?problem_id=2197","statistics":"https://loj.ac/problem/2197/statistics/fastest","testdata":"https://loj.ac/problem/2197/testdata","discussion":"https://loj.ac/discussion/problem/2197"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"维护一个向量集合，在线支持以下操作：\r\n\r\n1.  ``A x y`` ：加入向量 $(x, y)$；\r\n2. ``Q x y l r``：询问第 $L$ 个到第 $R$ 个加入的向量与向量 $(x, y)$ 的点积的最大值。集合初始时为空。\r\n\r\n注：向量 $(x, y)$ 和 $(z, w)$ 的点积定义为 $xz+yw$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包含整数 $N$ 和字符 $s$，分别表示操作数和数据类别；  \r\n接下来 $N$ 行，每行一个操作，格式如上所述。\r\n\r\n请注意 $s \\neq$ ``E`` 时，输入中的所有整数都经过了加密。你可以使用以下程序得到原始输入：\r\n```\r\ninline int decode (int x long long lastans) {\r\n     return x ^ (lastans & Ox7fffffff);\r\n}\r\nfunction decode\r\nbegin\r\n```\r\n\r\n其中 ``x`` 为程序读入的数，``lastans`` 为之前最后一次询问的答案。在第一次询问之前，``lastans``$=0$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对每个 $Q$ 操作，输出一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 A\r\nA 3 2\r\nQ 1 5 1 1\r\nA 15 14\r\nA 12 9\r\nQ 12 8 12 15\r\nQ 21 18 19 18\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n13\r\n17\r\n17\r\n```\r\n\r\n#### 样例解释\r\n解密之后的输入为\r\n```plain  \r\n6 E\r\nA 3 2\r\nQ 1 5 1 1\r\nA 2 3\r\nA 1 4\r\nQ 1 5 1 2\r\nQ 4 3 2 3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有的数据，$1 \\leq N \\leq 4 \\times 10^5$，操作中的向量坐标满足 $|x|,|y| \\leq 10^8$，询问满足 $1 \\leq L \\leq R \\leq T$，其中 $T$ 为已经加入的向量个数。"}]}