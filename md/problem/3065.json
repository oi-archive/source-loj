{"title":"「ROI 2016 Day2」DNA 解码","time_limit":2000,"memory_limit":256,"tags":["2016","ROI","交互题"],"operation":{"submit":"https://loj.ac/problem/3065#submit_code","submissions":"https://loj.ac/submissions?problem_id=3065","statistics":"https://loj.ac/problem/3065/statistics/fastest","testdata":"https://loj.ac/problem/3065/testdata","discussion":"https://loj.ac/discussion/problem/3065"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"### 暂不支持评测\r\n\r\n**译自 [ROI 2016](http://neerc.ifmo.ru/school/archive/2015-2016.html) Day2 T2.** ***[Расшифровка ДНК](http://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-roi-2016-day2.pdf)***\r\n\r\n某古生物的 DNA 是一条包含 $n$ 个脱氧核苷酸的序列，但是该生物的 DNA 中核苷酸的种类可能与现代生物不同。\r\n\r\n某种机器可以扫描 DNA 中连续的一段，并给出该段中包含多少**种**核苷酸。然而你只能使用这种机器至多 $q$ 次。\r\n\r\n试求出该 DNA 中包含多少种核苷酸（假设包含 $k$ 种）。此外，你还需要给这 $k$ 种核苷酸编号（比如 GMP→1，AMP→2），然后给出用编号形式表示的完整 DNA 序列（比如 ATGC->2314）。请注意，你给出的 DNA 序列可以与标准答案中的不同，你只需保证：同种核苷酸使用编号相同，且不同种核苷酸编号不同。\r\n\r\n### 交互方式\r\n\r\n**本题使用标准输入输出进行交互。**\r\n\r\n首先，你的程序可以从 `stdin` 读取一个整数 $n$。\r\n\r\n你可以通过输出 \"$\\;\\!\\texttt{?}\\ i\\ j\\;\\!$\" 来查询 DNA 的第 $i\\sim j$ 个核苷酸中有多少种不同的核苷酸。交互器在接收到你的查询后，会在 `stdin` 中给出答复。\r\n\r\n如果你得出了答案，请输出 `Ready!`，下一行输出 $k$，再下一行输出 $n$ 个整数，表示 DNA 序列。\r\n\r\n你需要在输出你要执行的命令后刷新 `stdout` 的缓冲区来将命令发送到交互器。\r\n- 如果你使用 C++ 且使用 `iostream` 系列，可以输出 `std::flush` 或 `std::endl` 来刷新缓冲区。\r\n- 如果你使用 C/C++ 且使用 `cstdio`，那么请调用标准库函数 `fflush(stdout)` 来刷新。\r\n- 如果你使用 Python，请使用 `sys.stdout.flush()`。\r\n- 如果你使用 Java，请使用 `System.out.flush() `。\r\n\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例 1\r\n$$\r\n\\begin{array}{l|l}\r\n\\hline\r\n\\rm stdin &\\rm stdout\\\\\r\n\\hline\r\n\\tt 2 & \\\\\r\n      &\\tt ?\\ 1\\ 2 \\\\\r\n\\tt 2 & \\\\\r\n      &\\tt Ready!\\\\\r\n      &\\tt 2\\\\\r\n      &\\tt 1\\ 2\\\\\r\n\\hline\r\n\\end{array}\r\n\r\n$$\r\n```plain\r\n2\r\n2\r\n```\r\n```plain\r\n? 1 2\r\nReady!\r\n2\r\n1 2\r\n```\r\n\r\n#### 样例 2\r\n$$\r\n\\begin{array}{l|l}\r\n\\hline\r\n\\rm stdin &\\rm stdout\\\\\r\n\\hline\r\n\\tt 3     & \\\\\r\n          &\\tt ?\\ 1\\ 2 \\\\\r\n\\tt 1     & \\\\\r\n          &\\tt ?\\ 1\\ 3 \\\\\r\n\\tt 2     & \\\\\r\n          &\\tt Ready!\\\\\r\n          &\\tt 2\\\\\r\n          &\\tt 1\\ 1\\ 2\\\\\r\n\\hline\r\n\\end{array}\r\n$$\r\n```plain\r\n3\r\n1\r\n2\r\n```\r\n```plain\r\n? 1 2\r\n? 1 3\r\nReady!\r\n2\r\n1 1 2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|子任务 #|分值|$1⩽ n ⩽$|$1 ⩽ k ⩽$|$q=$   |\r\n|:-----:|:-:|:-------:|:-------:|:-----:|\r\n|1      |20 |$300$    |$2$      |$72000$|\r\n|2      |25 |$300$    |$n$      |$72000$|\r\n|3      |&nbsp;25&nbsp;|$3000$   |$10$     |$72000$|\r\n|4      |15 |$3000$   |$n$      |$72000$|\r\n|5      |&nbsp;15&nbsp;|$3000$   |$n$      |$36000$|"}]}