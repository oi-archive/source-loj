{"title":"「ROI 2018 Day 1」请问我能拐走你家使魔吗？","time_limit":1000,"memory_limit":512,"tags":["2018","ROI"],"operation":{"submit":"https://loj.ac/problem/2844#submit_code","submissions":"https://loj.ac/submissions?problem_id=2844","statistics":"https://loj.ac/problem/2844/statistics/fastest","testdata":"https://loj.ac/problem/2844/testdata","discussion":"https://loj.ac/discussion/problem/2844"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [ROI 2018](http://neerc.ifmo.ru/school/archive/2017-2018.html) Day1 T2.** ***[Вирусы](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Viruses](http://codeforces.com/gym/102147/problem/D))***\r\n\r\n现在有 $n$ 只使魔与 $n$ 个饲主，$i$ 号使魔的初始饲主的序号也为 $i$ ，每个使魔心中对每位饲主都有一定的好感度。\r\n\r\n使魔之间可以互相攻击，如果使魔甲攻击了使魔乙，且乙「对甲现在的饲主的好感度」比「对自家饲主的好感度」高，那么乙就会被甲的饲主拐走。\r\n\r\n使魔们可以任意安排攻击顺序。当且仅当没有使魔可以被任意一名饲主拐走时，游戏宣告结束。\r\n\r\n如果存在一种攻击顺序，使得饲主 $i$ 最终拥有一只或以上的使魔，那么我们则称饲主 $i$ 为「有希望的」。  \r\n如果对于任意一种攻击顺序，都使得饲主 $i$ 最终拥有一只或以上的使魔，那么我们则称饲主 $i$ 为「人生赢家」。\r\n\r\n现在饲主们想知道，有多少个有希望的饲主与人生赢家。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个正整数 $n$ ，表示使魔与饲主的数量。\r\n\r\n下面 $n$ 行，每行一个 $n$ 个正整数，表示每名饲主按当前使魔心中的好感度降序排列后的饲主编号序列。\r\n\r\n比如输入了 $\\texttt{2 1 3}$，则表示该使魔对 $2$ 号饲主的好感度最高，对 $1$ 号饲主的好感度第二高，对 $3$ 号饲主的好感度最差。\r\n\r\n最后一行一个整数 $p$ 。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行，一个整数 $x$ 。如果 $p=1$ ，输出人生赢家的数量；如果 $p=2$ ，输出有希望的饲主的数量。\r\n\r\n下面一行， $x$ 个整数，表示这 $x$ 个饲主的编号，按升序排列。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"<table class=\"ui very basic table\">\r\n<thead>\r\n<tr>\r\n<th></th>\r\n<th>1</th>\r\n<th>2</th>\r\n<th>3</th>\r\n<th>4</th>\r\n<th>5</th>\r\n<th>6</th>\r\n<th>7</th>\r\n<th>8</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr>\r\n<td><strong>输入</strong></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2<br>2 1<br>1</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2<br>2 1<br>2</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>2 1<br>1 2<br>1</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>2 1<br>1 2<br>2</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2<br>1 2<br>1</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2<br>1 2<br>2</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>4<br>3 2 4 1<br>1 4 2 3<br>3 1 2 4<br>1 4 2 3<br>1</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>4<br>3 2 4 1<br>1 4 2 3<br>3 1 2 4<br>1 4 2 3<br>2</code></pre></div></td>\r\n</tr>\r\n<tr>\r\n<td><strong>输出</strong></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2</code> </pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>0</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>2<br>1 2</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>1<br>1</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>1<br>1</code> </pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>1<br>3</code></pre></div></td>\r\n<td><div class=\"ui existing segment\"><pre style=\"margin-top: 0; margin-bottom: 0; \"><code>3<br>1 3 4</code></pre></div></td>\r\n</tr>\r\n</tbody>\r\n</table>"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|任务编号|$n$|$p$|分值|\r\n|:-:|:-:|:-:|:-:|\r\n|$1$|$1 \\leq n \\leq 5$|$p=1$|$11$|\r\n|$2$|$1 \\leq n \\leq 500$|$p=1$|$21$|\r\n|$3$|$1 \\leq n \\leq 5$|$p=1,2$|$22$|\r\n|$4$|$1 \\leq n \\leq 50$|$p=1,2$|$31$|\r\n|$5$|$1 \\leq n \\leq 500$|$p=1,2$|$15$|\r\n\r\n> 修题者：由于原译者好这口，所以上面的是魔改版题面。  \r\n> 原文标题：病毒  \r\n> 原文用语：使魔 -> 细胞，饲主 -> 病毒，好感度 -> 易感染度（一种细胞是否容易被某种病毒感染），有希望的 -> 可行的，人生赢家 -> 稳定的。  "}]}