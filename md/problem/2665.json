{"title":"「NOI2013」树的计数","time_limit":1000,"memory_limit":256,"tags":["NOI","2013"],"operation":{"submit":"https://loj.ac/problem/2665#submit_code","submissions":"https://loj.ac/submissions?problem_id=2665","statistics":"https://loj.ac/problem/2665/statistics/fastest","testdata":"https://loj.ac/problem/2665/testdata","discussion":"https://loj.ac/discussion/problem/2665"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"我们知道一棵有根树可以进行深度优先遍历（DFS）以及广度优先遍历（BFS）来生成这棵树的 DFS 序以及 BFS 序。两棵不同的树的 DFS 序有可能相同，并且它们的 BFS 序也有可能相同，例如下面两棵树的 DFS 序都是 `1 2 4 5 3`，BFS 序都是 `1 2 3 4 5`。\r\n\r\n![](https://i.loli.net/2018/06/10/5b1ce8c6521c4.png)\r\n\r\n现给定一个 DFS 序和 BFS 序，我们想要知道，符合条件的有根树中，树的高度的平均值。即，假如共有 $K$ 棵不同的有根树具有这组 DFS 序和 BFS 序，且他们的高度分别是 $h_1, h_2, \\ldots, h_K$，那么请你输出：\r\n$$\r\n\\frac{h_1+h_2+\\ldots+h_K}K\r\n$$\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含 $1$ 个正整数 $n$，表示树的节点个数。\r\n\r\n第二行包含 $n$ 个正整数，是一个 $1 \\ldots n$ 的排列，表示树的 DFS 序。\r\n\r\n第三行包含 $n$ 个正整数，是一个 $1 \\ldots n$ 的排列，表示树的 BFS 序。\r\n\r\n输入保证至少存在一棵树符合给定的两个序列。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $1$ 个实数，四舍五入保留恰好三位小数，表示树高的平均值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5\r\n1 2 4 5 3\r\n1 2 3 4 5\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n3.500\r\n```\r\n\r\n#### 样例输入输出 2\r\n见附加文件中的 `count.in` 和 `count.ans`.\r\n\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"如果输出文件的答案与标准输出的差不超过 $0.001$，则将获得该测试点上的分数，否则不得分。\r\n\r\n对于 $20\\%$ 的测试数据，满足：$n \\le 10$；\r\n\r\n对于 $40\\%$ 的测试数据，满足：$n \\le 100$；\r\n\r\n对于 $85\\%$ 的测试数据，满足：$n \\le 2000$；\r\n\r\n对于 $100\\%$ 的测试数据，满足：$2 \\le n \\le 200\\ 000$。"}]}