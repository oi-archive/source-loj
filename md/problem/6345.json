{"title":"特殊三分图匹配","time_limit":100,"memory_limit":256,"tags":["原创","最大流","网络流","图论"],"operation":{"submit":"https://loj.ac/problem/6345#submit_code","submissions":"https://loj.ac/submissions?problem_id=6345","statistics":"https://loj.ac/problem/6345/statistics/fastest","testdata":"https://loj.ac/problem/6345/testdata","discussion":"https://loj.ac/discussion/problem/6345"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"  一般三分图的匹配需要运用基于拉格朗日松弛的分支定界法，并运用启发式算法得到较优的初始下界。已被证明是 NPC 问题。出题者在此说明一般三分图的匹配可以解决本题。  \r\n三个点集 $X, Y, Z$ ，同一点集之间没有边，$X,Z$ 点集之间没有边，$X,Y$ 点集之间有边，$Y,Z$ 点集之间有边。  \r\n求三分图的最大匹配。\r\n\r\n注意：本题的一个匹配指的是 $X$ 点集中的点 $i$ ， $Y$ 点集中的点 $j$  ,  $Z$ 点集中的点 $k$  被两条边相连。三分图最大匹配指的是满足上述条件的不相交点集 $ \\{ i , j , k \\} $ 的个数"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第 1 行五个整数 $n_1,n_2,n_3,m_1,m_2$  \r\n分别表示 $X,Y,Z$ 点集的点数， $X,Y$ 之间的边数，$Y,Z$ 之间的边数。  \r\n然后 $m_1$ 行，一行两个整数 $a,b$ ，表示 $x_a$ 和 $y_b$ 之间有边。  \r\n然后 $m_2$ 行，一行两个整数 $a,b$ ，表示 $y_a$ 和 $z_b$ 之间有边。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个整数，三分图的最大匹配数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 4 5 6 6\r\n1 1\r\n1 3\r\n2 2\r\n2 4\r\n3 1\r\n3 3\r\n1 2\r\n2 1\r\n2 3\r\n3 2\r\n4 4\r\n4 5\r\n\r\n```\r\n#### 样例输出 1\r\n```plain\r\n2\r\n\r\n```\r\n#### 样例输入 2\r\n```plain\r\n3 3 3 5 4\r\n1 2\r\n2 3\r\n2 2\r\n1 3\r\n3 1\r\n1 2\r\n3 3\r\n3 2\r\n2 1\r\n\r\n```\r\n#### 样例输出 2\r\n```plain\r\n3\r\n\r\n```\r\n\r\n#### 样例解释 1\r\n一种最大匹配是： </br>\r\n$ X1 - Y1 - Z2 $ </br>\r\n$ X2 - Y2 - Z1 $ </br>"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"输入可能存在重边。  \r\n对于 $ 100\\% $ 的数据， $n_1,n_2,n_3 \\leq 1000,m_1,m_2 \\leq 5000$。"}]}