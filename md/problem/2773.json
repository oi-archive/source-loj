{"title":"「ROI 2017 Day 2」学习轨迹","time_limit":2000,"memory_limit":512,"tags":["2017","ROI","分治"],"operation":{"submit":"https://loj.ac/problem/2773#submit_code","submissions":"https://loj.ac/submissions?problem_id=2773","statistics":"https://loj.ac/problem/2773/statistics/fastest","testdata":"https://loj.ac/problem/2773/testdata","discussion":"https://loj.ac/discussion/problem/2773"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [ROI 2017](http://neerc.ifmo.ru/school/archive/2016-2017.html) Day 2 T4.** ***[Траектория обучения](http://neerc.ifmo.ru/school/archive/2016-2017/ru-olymp-roi-2017-day2.pdf)***\r\n\r\nT 大和 P 大同时向一位神犇抛出了橄榄枝。  \r\n清华有 $n$ 门课程，课程的编号分别为 $a_1\\dots a_n$（注意不是 $1\\ldots n$），$i$ 号课程的质量为 $x_i$。北大有 $m$ 门课程，课程的编号分别为 $b_1\\dots b_m$，$i$ 号课程的质量为 $y_i$。清华和北大开设的课程可能相同（即编号相同）。  \r\n神犇可以在清华学习课程 $l_a\\sim r_a$ $(1⩽ l_a⩽ r_a⩽ n)$，也可以不去清华。同时，神犇可以在北大学习课程 $l_b\\sim r_b$ $(1⩽ l_b⩽ r_b⩽ m)$，也可以不去北大。神犇太强了，他可以两所学校都去。  \r\n神犇不想把时间浪费在同样的课程上。因此，神犇不会选择两门相同的课程。  \r\n试求：神犇能听到的课程的质量总和的最大值 $r$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行：$n,m$。  \r\n第二行：$a_1\\dots a_n$。  \r\n第三行：$x_1\\dots x_n$。  \r\n第四行：$b_1\\dots b_m$。  \r\n第五行：$y_1\\dots y_m$。  "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行：$r$。  \r\n第二行：$l_a, r_a$（如果神犇不打算在清华听课，请输出 `0 0`）。  \r\n第三行：$l_b, r_b$（如果神犇不打算在北大听课，请输出 `0 0`）。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n7 5\r\n3 1 4 8 6 9 2\r\n2 7 4 10 1 5 3\r\n9 2 11 3 8\r\n3 5 3 4 12\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n39\r\n2 6\r\n2 4\r\n```\r\n\r\n#### 样例说明 1\r\n最优解如样例所示，课程质量之和为 $(7 + 4 + 10 + 1 + 5) + (5 + 3 + 4) = 27 + 12 = 39.$  \r\n次优解：$(7 + 4) + (3 + 5 + 3 + 4 + 12) = 11 + 27 = 38.$\r\n\r\n#### 样例输入 2\r\n```plain\r\n2 3\r\n1 2\r\n1 4\r\n2 3 1\r\n17 2 15\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n34\r\n0 0\r\n1 3\r\n```\r\n\r\n#### 样例说明 2\r\n由于北大的 $1$ 号、$2$ 号课程相比清华的相同课程的质量要高得多，因此最优解是拒掉清华，转而在北大读 $1\\sim 3$ 号课程。\r\n\r\n#### 样例输入 3\r\n```plain\r\n3 3\r\n4 2 1\r\n10 1 2\r\n5 4 2\r\n1 2 9\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n19\r\n1 1\r\n3 3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1 ⩽ n, m ⩽ 5\\times 10^5,1⩽ a_i,b_i⩽ n+m,1⩽ x_i,y_i⩽ 10^9.$\r\n\r\n|子任务编号|分值|$n,m ⩽$|子任务编号|分值|$n,m ⩽$|\r\n|:-:|:-:|:-:|:-:|:-:|:-:|\r\n|1|10|$50$|6 |5|$5000$|\r\n|2 |&nbsp;10&nbsp;|$100$|7 |&nbsp;5&nbsp;|$10^4$|\r\n|3 |10|$300$|8 |&nbsp;10&nbsp;|$3\\times 10^4$|\r\n|4 |&nbsp;10&nbsp;|$500$|9 |10|$10^5$|\r\n|5 |10|$2000$|10|&nbsp;10&nbsp;|$2.5\\times 10^5$|\r\n| |&nbsp;| |11|10|$5\\times 10^5$|"}]}