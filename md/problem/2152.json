{"title":"「SCOI2005」王室联邦","time_limit":1000,"memory_limit":256,"tags":["SCOI","树分块","数据结构","构造"],"operation":{"submit":"https://loj.ac/problem/2152#submit_code","submissions":"https://loj.ac/submissions?problem_id=2152","statistics":"https://loj.ac/problem/2152/statistics/fastest","testdata":"https://loj.ac/problem/2152/testdata","discussion":"https://loj.ac/discussion/problem/2152"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"「余」人国的国王想重新编制他的国家。他想把他的国家划分成若干个省，每个省都由他们王室联邦的一个成员来管理。\r\n\r\n他的国家有 $ n $ 个城市，编号为 $ 1\\ldots n $ 。一些城市之间有道路相连，任意两个不同的城市之间有且仅有一条直接或间接的道路。为了防止管理太过分散，每个省至少要有 $ B $ 个城市，为了能有效的管理，每个省最多只有 $ 3B $ 个城市。\r\n\r\n每个省必须有一个省会，这个省会可以位于省内，也可以在该省外。但是该省的任意一个城市到达省会所经过的道路上的城市（除了最后一个城市，即该省省会）都必须属于该省。\r\n\r\n一个城市可以作为多个省的省会。\r\n\r\n聪明的你快帮帮这个国王吧！"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个数 $ N, B $ 。接下来 $ N-1 $ 行，每行描述一条边，包含两个数，即这条边连接的两个城市的编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果无法满足国王的要求，输出 $ 0 $ 。否则第一行输出数 $ K $ ，表示你给出的划分方案中省的个数，编号为 $ 1..K $ 。第二行输出 $ N $ 个数，第 $ I $ 个数表示编号为 $ I $ 的城市属于的省的编号，第三行输出 $ K $ 个数，表示这 $ K $ 个省的省会的城市编号，如果有多种方案，你可以输出任意一种。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n8 2 \r\n1 2 \r\n2 3 \r\n1 8 \r\n8 7 \r\n8 6 \r\n4 6 \r\n6 5 \r\n```\r\n#### 样例输出\r\n```plain\r\n3 \r\n2 1 1 3 3 3 3 2 \r\n2 1 8 \r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$ 1 \\le N \\le 1000, 1 \\le B \\le N $"}]}