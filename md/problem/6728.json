{"title":"U 群把妹王","time_limit":5000,"memory_limit":512,"tags":["多项式 / 形式幂级数","组合计数"],"operation":{"submit":"https://loj.ac/problem/6728#submit_code","submissions":"https://loj.ac/submissions?problem_id=6728","statistics":"https://loj.ac/problem/6728/statistics/fastest","testdata":"https://loj.ac/problem/6728/testdata","discussion":"https://loj.ac/discussion/problem/6728"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> $\\bullet$ 小天使 忆艾 $\\bullet$：哇哦，你一个人在 UOJ 群找什么呢？  \r\n> 「1. 找多项式」  \r\n> 「2. 找小天使」\r\n\r\n有 $n\\times m$ 个格子，每个格进行染色，可以选择 $k$ 种颜色之一。对于集合 $S, T$，你需要计数有多少种格子的染色方案，满足：\r\n\r\n- 对于每一行的图案拿出来，和它相同的图案总共有 $r$ 行（含自身），则 $r\\in S$。\r\n- 对于每一列的图案拿出来，和它相同的图案总共有 $c$ 列（含自身），则 $c\\in T$。\r\n\r\n答案对 $P = 998244353$ 取模。\r\n\r\n为了让这道题看起来代码比较健康，保证 $1\\in S \\cap T$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入五个正整数，分别为 $n, m, k, a, b$。\r\n\r\n接下来一行输入 $a$ 个正整数，从小到大表示集合 $S$ 中的数，保证数不重复。\r\n\r\n接下来一行输入 $b$ 个正整数，从小到大表示集合 $T$ 中的数，保证数不重复。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，表示满足要求的染色数同余 $P$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n2 2 2 1 1\r\n1\r\n1\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n即任意两行颜色不同，任意两列颜色不同。\r\n\r\n$2^4 = 16$ 种染色方案中，有以下 $6$ 种是不合法的：\r\n\r\n```plain\r\n11 00 01 10 00 11\r\n00 11 01 10 00 11\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n49 50 666 5 4\r\n1 2 6 9 19\r\n1 2 3 5\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n132764272\r\n```\r\n\r\n#### 样例输入 3\r\n\r\n```plain\r\n10492 11451 1122334 5 5\r\n1 2 600 9700 10492\r\n1 2 301 3131 4921\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```plain\r\n208881352\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $10\\%$ 的数据，保证 $n, m\\le 50$。\r\n\r\n对于 $40\\%$ 的数据，保证 $n, m\\le 3000$。\r\n\r\n对于另外 $10\\%$ 的数据，保证 $S = T = \\{1\\}$。\r\n\r\n对于 $100\\%$ 的数据，保证 $1\\le n, m\\le 10^5, 1\\le k\\le P - 1, 1\\le a, b\\le5, 1\\in S \\cap T, S \\subseteq [1, n], T \\subseteq [1, m]$。"}]}