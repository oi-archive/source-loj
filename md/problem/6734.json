{"title":"「2020 集训队论文」图上的游戏","time_limit":5000,"memory_limit":512,"tags":["2020","交互题"],"operation":{"submit":"https://loj.ac/problem/6734#submit_code","submissions":"https://loj.ac/submissions?problem_id=6734","statistics":"https://loj.ac/problem/6734/statistics/fastest","testdata":"https://loj.ac/problem/6734/testdata","discussion":"https://loj.ac/discussion/problem/6734"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**这是一道交互题。**\r\n\r\n注意：**本题只支持以下语言的提交：**\r\n- C++\r\n- C++ 11\r\n- C++ 17\r\n- C++ (NOI)\r\n- C++ 11 (NOI)\r\n- C++ 11 (Clang)\r\n- C++ 17 (Clang)\r\n\r\n\r\n小 Z 有一张 $n$ 个点 $m$ 条边的没有自环的无向图。小 U 想要知道这张图的样子，但小 Z 不肯告诉它。\r\n\r\n小 Z：我可以告诉你这张图是**连通的**，点从 $0$ 标号至 $n-1$，边从 $0$ 标号至 $m-1$。\r\n\r\n小 U：好那删掉一条边后，这张图的连通状况如何呢？\r\n\r\n小 Z：反正你也猜不出来，就这样吧。你每次告诉我一个边的编号的集合 $S$，再给定一个点 $u$，然后我可以帮你计算把编号在 $S$ 中的边连接后，$0$ 号点与点 $u$ 是否连通。\r\n\r\n听到小 Z 的这句话后，小 U 苦思冥想，仍然不知道如何才能问出这张图的每条边到底连接哪两个端点。\r\n\r\n**因此他找到了你，想让你帮他问出这张图的信息。我们保证这张图是预先生成的，也就是说不会随小 U 的询问而改变。并且你不能询问太多次，你需要在 $\\mathbf{30000}$ 次内得到这张图的信息！**\r\n\r\n#### 实现细节\r\n\r\n你不需要实现主函数，你只需实现一个函数：\r\n\r\n```cpp\r\nstd::vector<std::pair<int, int> > solve(int n, int m)\r\n```\r\n\r\n这个函数应该返回一个长度为 $m$ 的数组 $e$，其中 $e[i]$ 表示第 $i$ 条边连接的两个端点（顺序无关）。\r\n\r\n同时，你需要在你提交的文件中包含 `graph.h` 头文件，我们下发了 `sample_graph.cpp` 供你做参考。\r\n\r\n你所实现的函数可以调用交互库中的函数：\r\n\r\n```cpp\r\nbool query(int u, std::vector<int> s)\r\n```\r\n\r\n这个函数中 $u$ 是一个 $[0, n-1]$ 中的整数，$s$ **是一个长度为 $m$ 的 `int` 数组，且值只能为 $0$ 或 $1$。若 $s[i] = 1$，则表示 $i$ 是否在小 U 询问的集合 $S$ 中，否则不在集合 $S$ 中**。这个函数的意义是给定 $u$ 和 $S$，询问 $0$ 号点能否通过编号在 $S$ 中的边到达 $u$。\r\n\r\n#### 测试程序方式\r\n\r\n你可以调用编译命令：\r\n\r\n```shell\r\ng++ graph.cpp grader.cpp -o grader -O2 -std=c++11\r\n```\r\n\r\n对于得到的 `grader`，会按如下方式输入数据：\r\n\r\n第一行输入两个正整数 $n,m$。\r\n\r\n接下来 $m$ 行，每行输入两个整数 $u_i, v_i$，表示图中的一条边。\r\n\r\n如果你的答案正确，`grader` 会输出 `Accepted!You made x attempt(s).`，其中 $x$ 是你调用的 `query` 函数的次数。\r\n\r\n否则你会得到一些错误信息。你可以对照着 `grader.cpp` 的代码和它输出的错误信息来判断你的错误原因。**但 `grader` 不会检验你的输入是否正确！**"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"当 `grader` 输入为\r\n\r\n```plain\r\n3 3\r\n0 1\r\n1 2\r\n2 0\r\n```\r\n\r\n一种正确的输出为\r\n\r\n```plain\r\nAccepted!You made 30000 attempt(s).\r\n```\r\n\r\n其他输入样例见下发文件中 `graph1~5.in`，其中 `graph5.in` 满足子任务 6 的条件。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，保证 $1\\le n, m\\le 600$。\r\n\r\n| 子任务编号 | 分值 |                        特殊性质                        |\r\n| :--------: | :--: | :----------------------------------------------------: |\r\n|    $1$     | $6$  |                  $n,m\\le 25, m = n-1$                  |\r\n|    $2$     | $10$ |                      $n,m\\le 25$                       |\r\n|    $3$     | $17$ | $m=n-1$，且图中每个点的度数 $\\le2$，$0$ 号点度数为 $1$ |\r\n|    $4$     | $24$ |                        $m=n-1$                         |\r\n|    $5$     | $19$ |       对于 $0\\le i<n-1$，第 $i$ 条边连接 $i,i+1$       |\r\n|    $6$     | $13$ |               编号 $<n-1$ 的边构成一颗树               |\r\n|    $7$     | $11$ |                                                        |\r\n\r\n\r\n"}]}