{"title":"「被厌恶者的哲学」","time_limit":2000,"memory_limit":256,"tags":["DFT（含 NTT）及FFT"],"operation":{"submit":"https://loj.ac/problem/6361#submit_code","submissions":"https://loj.ac/submissions?problem_id=6361","statistics":"https://loj.ac/problem/6361/statistics/fastest","testdata":"https://loj.ac/problem/6361/testdata","discussion":"https://loj.ac/discussion/problem/6361"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"古明地恋(koishi)和小石子(koishi)是好朋友。\r\n\r\n恋恋有一个平面直角坐标系，上面放着许多颗小石子。恋恋站在坐标系中的某个位置上，手里拿着一个跟$x$轴同向的向量（向量的起点为恋恋所在的位置）。现在，对于坐标系中的每一颗石子，恋恋都要对手中的向量做一次旋转和缩放操作（旋转是绕着恋恋所在的位置进行的），使得$x$轴方向的单位向量$(1,0)$（起点也为恋恋所在的位置）在进行同样的操作后能指向这颗石子所在的位置（向量末端与石子的位置重合）。可以证明当石子不与恋恋的位置重合时，满足条件的操作有且仅有一种。显然这里每颗石子对应的操作是确定好的，即每次进行的操作只跟当前石子的位置有关，而跟之前进行的操作无关。由于一些神秘的原因，这些石子的排布满足一个性质：对于起点和终点都在$x$轴上的任意向量，在围绕向量的起点做完这一系列操作之后，向量的终点仍在$x$轴上。\r\n\r\n现在，恋恋希望手中的向量在进行所有操作之后能变成$x$轴上的单位向量$(1,0)$。她在$x$轴上的每个位置都找到了当她位于这个位置时满足条件的向量，并把该向量逆时针旋转了$90$度。这时所有的向量末端形成了一条曲线，她希望知道这条曲线跟$x$轴之间的面积是多少。由于她不太喜欢无理数，你只需要告诉她答案除以$\\pi$之后对$998244353$取模后的值（$\\pi$为圆周率，定义为$\\pi=\\sqrt{6\\sum_{i=1}^\\infty \\frac 1{i^2}}$，可以证明答案除以$\\pi$后一定为有理数）。数据保证对于任意一颗石子，在恋恋位于该石子的位置时，做完对于所有剩余石子的操作后，向量长度的平方不为$998244353$的倍数，可以证明这使得答案除以$\\pi$后最简形式下的分母一定也不为$998244353$的倍数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个整数$n$，表示小石子的个数。\r\n接下来$n$行中，每行有两个整数$x_i,y_i$，代表每个小石子的横坐标与纵坐标。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"包含一个整数，表示答案对$998244353$取模的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n2\r\n1 2\r\n1 -2\r\n```\r\n#### 样例输出\r\n```plain\r\n499122177\r\n```\r\n\r\n#### 样例解释\r\n\r\n样例中的曲线即为函数$f(x)=1/(x^2-2x+5)$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于20%的数据，$n=2$  \r\n对于40%的数据，$n\\leq 10$  \r\n对于70%的数据，$n\\leq 1000$  \r\n对于100%的数据，$n\\leq 60000,0\\leq |x_i|,|y_i|<998244353,y_i\\ne 0$\r\n\r\n\r\n\r\n为了得到部分分，你可能会用到的一些东西：  \r\n$\\int\\frac{1}{ax^2+b}\\mbox{d}x=\\frac{1}{\\sqrt{ab}} \\arctan\\frac{\\sqrt{a}x}{\\sqrt{b}}+C$\r\n\r\n题目来源：全是水题的GD省选模拟赛 by zjt\r\n"}]}