{"title":"小马们的防护林","time_limit":500,"memory_limit":64,"tags":[],"operation":{"submit":"https://loj.ac/problem/6246#submit_code","submissions":"https://loj.ac/submissions?problem_id=6246","statistics":"https://loj.ac/problem/6246/statistics/fastest","testdata":"https://loj.ac/problem/6246/testdata","discussion":"https://loj.ac/discussion/problem/6246"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小马利亚北部防护林一共有 $m$ 棵高度不同的树，第 $i$ 个树的高度为 $h_i$。暮光闪闪一共有 $n$ 个朋友。每个朋友心中都有自己至少想要认领的树的数量 $c_i$。值得注意的是：有些小马只想正好认领某个数目的树。每只小马有自己的身高，第 $i$ 只小马的身高为 $x_i$。每个小马有一个控制范围 $p_i$，一头小马能够认领一棵树当且仅当树的高度在区间 $[\\max(0,x_i-p_i),x_i+p_i]$ 内。若一棵树被一匹小马认领，由于大家是朋友，所有控制范围中包含这棵树的小马应当一同认领。现在塞拉斯缇娅公主非常担心自己的防护林的树木的数量，她想知道她的防护林至少有多少棵树能被认领。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n,m$ 表示暮光闪闪的伙伴数和防护林的树的数量。  \r\n第二行六个整数，表示后面的限制条件是否满足，$0$ 为不满足，$1$ 为满足，这是为了方便判定部分分。  \r\n接下来一行 $m$ 个整数表示树的高度 $h_i$。  \r\n接下来 $n$ 行，每行四个整数 $k_i,x_i,p_i,c_i$，第一个数是一个判定，第二个表示小马的身高，第三个表示小马的控制范围，当第一个数为 $0$ 时，表示当前这匹小马想要正好认领 $c_i$ 棵树，第一个数为 $1$ 时，表示当前这匹小马想要认领至少 $c_i$ 棵树。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数, 表示最少有多少棵树被认领。如果没有办法满足每个小马认领的需求，则输出 `No ANSWER`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 7\r\n0 0 0 0 0 0\r\n5 9 18 14 6 30 10000000\r\n0 13 12345678 4\r\n1 10 5 2\r\n1 10 4 2\r\n1 14 1 1\r\n1 30 0 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n4\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，有$1 \\leq n,m \\leq 20000$，$1 \\leq x_i,p_i,h_i \\leq 10 ^ 9$，$k \\in \\{0,1\\}$，$0 \\leq c_i \\leq 2\\times 10 ^ 9$ ；\r\n\r\n保证 $h_i$ 各不相同 ；\r\n\r\n数据随机生成 ；\r\n\r\n题目给出六类部分分限制，具体如下：\r\n限制一：对于任意小马 $i\\in[1,n],p_i=0$。\r\n\r\n限制二：对于任意小马 $i\\in(1,n]$，有 $c_i-c_{i-1}=0$。\r\n\r\n限制三：对于任意小马 $i\\in[1,n]$，令它的控制范围为 $I_i$，则在 $(1,n]$ 上，$I_i\\cap I_{i-1}\\cap \\mathbb{Z}$ 最多只有 $1$ 个元素。\r\n\r\n限制四：对于任意小马 $i\\in[1,n]$，控制范围中含有的树的数量相同。\r\n\r\n限制五：对于任意小马 $i\\in[1,n]$，有 $k_i\\neq 0$。\r\n\r\n限制六：令 $T$ 表示大树高度集，那么 $1\\in T$，当 $a\\in T$ 且 $a<m$时，$a+1\\in T$。\r\n\r\n\r\n"}]}