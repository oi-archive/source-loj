{"title":"「JOI 2015 Final」分蛋糕 2","time_limit":2000,"memory_limit":512,"tags":["2015","JOI","区间 DP"],"operation":{"submit":"https://loj.ac/problem/2725#submit_code","submissions":"https://loj.ac/submissions?problem_id=2725","statistics":"https://loj.ac/problem/2725/statistics/fastest","testdata":"https://loj.ac/problem/2725/testdata","discussion":"https://loj.ac/discussion/problem/2725"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [JOI 2015 Final](https://www.ioi-jp.org/joi/2014/2015-ho/index.html) T2「[ケーキの切り分け２](https://www.ioi-jp.org/joi/2014/2015-ho/2015-ho.pdf)」**\r\n\r\nJOI 君和 IOI 酱是双胞胎兄妹。 JOI 君最近闲暇时常常会做甜点。今天 JOI 君也烤了蛋糕吃，IOI 酱立马嗅到了蛋糕的香气于是跑来想分着吃。  \r\n蛋糕是圆形的，从蛋糕中某点开始将蛋糕放射状切为 $ N $ 块，按逆时针顺序编号为 $ 1 $ 到 $ N $ 。切了之后的第 $ i $ 块蛋糕的大小为 $ A_i $ 。由于切蛋糕的人刀功很不好，所以 $ A_i $ 互不相同。\r\n\r\n<img src=\"https://www.z4a.net/images/2018/08/04/5c83a03e0789dafd806d5f7e488b001d.png\" width=\"40%\">\r\n\r\nJOI 君和 IOI 酱按照以下的方法分这 $N$ 块蛋糕：\r\n1. 首先 JOI 君从这 $ N $ 块蛋糕中任选一块取走；\r\n2. 然后，从 IOI 酱开始， IOI 酱和 JOI 君交替地从剩下的蛋糕中选出一块取走。不过，当且仅当一块蛋糕两旁的蛋糕至少有一块已经被选择，这块蛋糕才能被选择。如果可供选择的蛋糕有多个， IOI 酱会选择最大的一个，而 JOI 君可以任选一个。\r\n\r\nJOI 君想让自己所得到的蛋糕大小的合计值最大。\r\n\r\n#### 任务\r\n给出蛋糕的块数 $ N $ 和这 $ N $ 块蛋糕的大小。请编写程序求出 JOI 君得到的蛋糕大小的总和的最大值。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为整数 $ N $ ，表示蛋糕被切成了 $ N $ 块；  \r\n接下来 $ N $ 行中的第 $ i $ 行 $ (1 \\leq i \\leq N) $ 为一个整数 $ A_i $ 。表示第 $ i $ 块蛋糕的大小。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行： JOI 君得到的蛋糕大小的总和的最大值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n5\r\n2\r\n8\r\n1\r\n10\r\n9\r\n```\r\n#### 输出样例 1\r\n```plain\r\n18\r\n```\r\n#### 样例说明 1\r\nJOI 君依次进行以下操作时为最优解：\r\n\r\n1.  JOI 君选择第 $ 2 $ 块蛋糕，这块蛋糕的大小为 $ 8 $；\r\n2.  IOI 酱选择第 $ 1 $ 块蛋糕，这块蛋糕的大小为 $ 2 $；\r\n3.  JOI 君选择第 $ 5 $ 块蛋糕，这块蛋糕的大小为 $ 9 $；\r\n4.  IOI 酱选择第 $ 4 $ 块蛋糕，这块蛋糕的大小为 $ 10 $；\r\n5.  JOI 君选择第 $ 3 $ 块蛋糕，这块蛋糕的大小为 $ 1 $；\r\n\r\n最后 JOI 君得到的蛋糕的大小的总和为 $ 8+9+1=18 $。\r\n\r\n#### 输入样例 2\r\n```plain\r\n8\r\n1\r\n10\r\n4\r\n5\r\n6\r\n2\r\n9\r\n3\r\n```\r\n#### 输出样例 2\r\n```plain\r\n26\r\n```\r\n#### 输入样例 3\r\n```plain\r\n15\r\n182243672\r\n10074562\r\n977552215\r\n122668426\r\n685444213\r\n3784162\r\n463324752\r\n560071245\r\n134465220\r\n21447865\r\n654556327\r\n183481051\r\n20041805\r\n405079805\r\n564327789\r\n```\r\n#### 输出样例 3\r\n```plain\r\n3600242976\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$ 1 \\leq N \\leq 2000, $ $ 1 \\leq A_i \\leq 10^9, $ 每个 $ A_i $ 都不同。\r\n\r\n**子任务 1（15 分）** $\\ \\ N \\leq 20 $。  \r\n**子任务 2（45 分）** $\\ \\ N \\leq 30 $。  \r\n**子任务 3（40 分）** 无追加限制。"}]}