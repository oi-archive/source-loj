{"title":"「JLOI2014」松鼠的新家","time_limit":1000,"memory_limit":256,"tags":["2014","JLOI","标签待整理","数据待检查"],"operation":{"submit":"https://loj.ac/problem/2236#submit_code","submissions":"https://loj.ac/submissions?problem_id=2236","statistics":"https://loj.ac/problem/2236/statistics/fastest","testdata":"https://loj.ac/problem/2236/testdata","discussion":"https://loj.ac/discussion/problem/2236"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"松鼠的新家是一棵树，前几天刚刚装修好了新家，新家有 $n$ 个房间，并且有 $n-1$ 根树枝连接，每个房间都可以相互到达，且任两个房间之间的路线都是唯一的。天哪，他居然真的住在「树」上。松鼠想邀请小熊维尼前来参观，并且还指定一份参观指南，他希望维尼能够按照他的指南顺序，先去 $a_1$，再去 $a_2$，……，最后到 $a_n$，来参观新家。\r\n\r\n可是这样会导致维尼重复走很多房间，懒惰的维尼不停地推辞。可是松鼠告诉他，每走到一个房间，他就可以从房间拿一块糖果吃。维尼是个馋家伙，立马就答应了。\r\n\r\n现在松鼠希望知道为了保证维尼有糖果吃，他需要在每一个房间各放至少多少个糖果。因为松鼠参观指南上的最后一个房间 $a_n$ 是餐厅，餐厅里他准备了丰盛的大餐，所以当维尼在参观的最后到达餐厅时就不需要再拿糖果吃了。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，一个整数 $n$，表示房间个数。  \r\n第二行，$n$ 个整数，依次描述 $a_1 \\sim a_n$。\r\n接下来 $n-1$ 行，每行两个整数 $x$，$y$，表示标号 $x$ 和 $y$ 的两个房间之间有树枝相连。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一共 $n$ 行，第 $i$ 行输出标号为 $i$ 的房间至少需要放多少个糖果，才能让维尼有糖果吃。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5\r\n1 4 5 3 2\r\n1 2\r\n2 4\r\n2 3\r\n4 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n1\r\n2\r\n1\r\n2\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$2 \\leq n \\leq 300000$。"}]}