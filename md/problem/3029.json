{"title":"「ROIR 2018 Day2」大数据处理","time_limit":1500,"memory_limit":512,"tags":["2018","ROIR"],"operation":{"submit":"https://loj.ac/problem/3029#submit_code","submissions":"https://loj.ac/submissions?problem_id=3029","statistics":"https://loj.ac/problem/3029/statistics/fastest","testdata":"https://loj.ac/problem/3029/testdata","discussion":"https://loj.ac/discussion/problem/3029"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 ROI 2018 Regional. Day2 T4.** ***[Обработка больших данных](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-regional-2018-day2.pdf)***\r\n\r\n某实验室正在研发一种能处理大规模数据的新型超级计算机。\r\n\r\n这台超算的内存包含 $2^k$ 个存储单元，依次编号为 $0\\ldots 2^k-1.$ 用内存段 $[L,R]$ 表示编号 $≥L$ 且 $≤R$ 的所有存储单元，该内存段的长度为 $R-L+1.$\r\n\r\n定义：如果内存段 $[L,R]$ 的长度是 $2$ 的整数次幂（不妨假设是 $2^i$），且 $L$ 是 $2^i$ 的整数倍，那么这个内存段是「正确的内存段」。\r\n\r\n若 $k=3,$ 则正确的内存段为 $[0,7],$ $[0,3],$ $[4,7],$ $[0,1],$ $[2,3],$ $[4,5],$ $[6,7],$ $[0,0],$ $[1,1],$ $[2,2],$ $[3,3],$ $[4,4],$ $[5,5],$ $[6,6]$ 和 $[7,7].$\r\n\r\n现在，每个存储单元所存储的值均为 0. 你需要给每个存储单元赋值。简单起见，我们用游程编码的形式给出每个单元上的值。开头的 $c_1$ 个单元中存储的值为 $v_1,$ 接下来 $c_2$ 个单元中存储的的值为 $v_2,$ 以此类推，最后的 $c_n$ 个单元中存储的值为 $c_n,$ $1≤v_i≤m.$\r\n\r\n举个例子，如果 $k = 3,$ $n = 3,$ $m = 2,$ $c = \\{1,$ $2,$ $5\\},$ $v = \\{1,$ $2,$ $1\\},$ 那么内存将被赋值为 $[1,$ $2,$ $2,$ $1,$ $1,$ $1,$ $1,$ $1].$\r\n\r\n你只有一种方法给单元赋值：$\\mathtt{STORE}([l,r],x).$ 该函数表示将内存段 $[l,r]$ 中所有单元全部赋值为 $x.$ 注意，$[l,r]$ 必须是合法的内存段。\r\n\r\n试求至少需要多少次操作才能达成要求。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $k,n,m$。  \r\n接下来的 $n$ 行，每行三个整数 $c_i,v_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示至少的次数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 3 2\r\n1 1\r\n2 2\r\n5 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例解释\r\n目标：$[1, 2, 2, 1, 1, 1, 1, 1]$  \r\n- $\\mathtt{STORE}([0, 7], 1),$ 得到 $[1, 1, 1, 1, 1, 1, 1, 1];$\r\n- $\\mathtt{STORE}([1, 1], 2),$ 得到 $[1, 2, 1, 1, 1, 1, 1, 1];$\r\n- $\\mathtt{STORE}([2, 2], 2),$ 得到 $[1, 2, 2, 1, 1, 1, 1, 1].$"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$0 ≤ k ≤ 30,$ $1 ≤ n ≤ 10^5,$ $1 ≤ m ≤ 10^9.$\r\n\r\n|子任务编号|分值|$k\\le $|$k\\le$|$m\\le$|\r\n|:-:|:-:|:-:|:-:|:-:|\r\n|1|15|$3$|$8$|&nbsp;$8$&nbsp;|\r\n|2|&nbsp;15&nbsp;|$19$| |$10$|\r\n|3|15| | |$10$|\r\n|4|10| | |$50$|\r\n|5|15|$19$| | |\r\n|6|30| | | |"}]}