{"title":"「BalticOI 2017 Day1」Railway","time_limit":1000,"memory_limit":256,"tags":["2017","BalticOI"],"operation":{"submit":"https://loj.ac/problem/3355#submit_code","submissions":"https://loj.ac/submissions?problem_id=3355","statistics":"https://loj.ac/problem/3355/statistics/fastest","testdata":"https://loj.ac/problem/3355/testdata","discussion":"https://loj.ac/discussion/problem/3355"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [BalticOI 2017](http://www.boi2017.org/) Day1「[Railway](http://www.boi2017.org/wp-content/uploads/2017/05/tasks-en.pdf)」**\r\n\r\nBergen 基础设施建设部在几年前就有了把所有的城市用铁路连起来的想法。  \r\n可惜的是，过了很长时间了，这个计划并没有启动。  \r\n所以，基础设施建设部部长就准备重启这个计划，然后把它搞得简单亿点。\r\n\r\n---\r\n\r\n原定的计划是有 $n$ 个城市用 $n-1$ 条无向铁路连起来，这些铁路的编号为 $1$ 到 $n-1$。    \r\n现在有 $m$ 个副部长，每个副部长都认为有一些城市是必须连起来的。  \r\n比如说这个副部长想把 $a$ 和 $c$ 连起来，有两条道路 $a - b$ 和 $b - c$，那么副部长的要求等价过来就是选择这两条道路。  \r\n现在要找出几条道路是至少 $k$ 个副部长选择的。  \r\n部长就找到了你，想让你找出这几条道路。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $n,m,k$ 代表城市数，副部长数和最少需要满足多少个副部长。  \r\n接下来 $n-1$ 行每行两个整数 $a_i$ 和 $b_i$ 代表第 $i$ 条铁路是 $a_i$ 和 $b_i$ 之间的。  \r\n接下来 $m$ 行首先一个整数 $s_i$ 代表这个副部长觉得有 $s_i$ 个城市需要相连，接下来 $s_i$ 个整数代表副部长觉得哪些城市需要相连。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $r$ 代表至少满足 $k$ 个副部长的铁路有多少条。  \r\n第二行 $r$ 个整数代表要建设编号为哪些的铁路，请输出其升序排列。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```\r\n6 3 2\r\n1 3\r\n2 3\r\n3 4\r\n6 4\r\n4 5\r\n4 1 3 2 5\r\n2 6 3\r\n2 3 2\r\n```\r\n\r\n#### 样例输出\r\n\r\n```\r\n2\r\n2 3\r\n```\r\n\r\n#### 样例说明\r\n\r\n$3$ 个副部长的要求如下：\r\n\r\n- $1-3,2-3,3-4,4-5$\r\n- $3-4,4-6$\r\n- $2-3$\r\n\r\n至少满足 $2$ 个副部长的道路为 $2$ 号和 $3$ 号。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$2 \\le s_i \\le n \\le 10^5$，$1 \\le k \\le m \\le 5 \\times 10^4$。记 $\\sum_{i=1}^m s_i=S$，则 $S\\le 1.5\\times 10^5$\r\n\r\n详细子任务与附加限制如下：\r\n\r\n- Subtask 1（8 pts）：$n \\le 10^4$，$S \\le 2 \\times 10^3$。\r\n- Subtask 2（15 pts）：$n \\le 10^4$，$m \\le 2 \\times 10^3$。\r\n- Subtask 3（7 pts）：每个城市最多是 $2$ 条道路的端点。\r\n- Subtask 4（29 pts）：$k=m$，$s_i=2$。\r\n- Subtask 5（16 pts）：$k=m$。\r\n- Subtask 6（25 pts）：无特殊限制。"}]}