{"title":"「JOISC 2018 Day 1」栅栏","time_limit":1000,"memory_limit":256,"tags":["2018","JOISC","最短路","计算几何"],"operation":{"submit":"https://loj.ac/problem/2832#submit_code","submissions":"https://loj.ac/submissions?problem_id=2832","statistics":"https://loj.ac/problem/2832/statistics/fastest","testdata":"https://loj.ac/problem/2832/testdata","discussion":"https://loj.ac/discussion/problem/2832"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"#### 译自 [JOISC 2018](https://www.ioi-jp.org/camp/2018/2018-sp-tasks/index.html) Day1 T2「[柵](https://www.ioi-jp.org/camp/2018/2018-sp-tasks/day1/fences.pdf) / [Fences](https://www.ioi-jp.org/camp/2018/2018-sp-tasks/day1/fences-en.pdf)」\r\nJOI 君在 IOI 国拥有广阔的土地。\r\n\r\nIOI 国的土地可以表示为一个平面直角坐标系。他的土地为坐标系上 $x,y$ 坐标满足 $x \\in [-10^{100}\\, , \\, 10^{100}] \\, , \\, y \\in [-10^{100}\\, , \\, 10^{100}]$ 的区域。他的牧场是在坐标系上 $x,y$ 满足 $x \\in [-S\\, , \\, S] \\, , \\, y \\in [-S\\, , \\, S]$ 的区域。\r\n\r\nJOI 君要在牧场里修一些栅栏，来把牧场围起来，使得他的牛不可能从牧场内的任何一点走到他的土地之外。栅栏是一条长度为正实数的线段。牧场里已经有一些栅栏了。两个栅栏之间如果有共同点，那么它必然是至少一个的栅栏的端点。\r\n\r\nJOI 君可以随意建栅栏。要求栅栏既不在牧场内，也不在 JOI 君的土地外，它们的长度任意，方向任意。他甚至可以修一条将整个牧场全围起来的栅栏。建造一条长度为 $l$ 的栅栏的费用是 $l$。两条栅栏可以相交，重合...... 怎么修都没问题（可参考样例）。\r\n\r\n请你计算修栅栏的最小费用。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为整数 $N$ 和  $S$。\r\n\r\n第 $i$ 行 $(1\\le i \\le N)$ 为四个整数 $A_i,B_i,C_i,D_i$ ，代表有一条连接点 $(A_i,B_i)$ 和点 $(C_i,D_i)$ 的栅栏。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出修栅栏的最小费用。\r\n\r\n我们将会使用 SPJ。被允许的最大精度误差为 $0.01$。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n3 4\r\n-3 5 1 8\r\n-4 3 -4 6\r\n5 1 7 2\r\n```\r\n\r\n#### 输出样例 1\r\n```plain\r\n29.0000000000\r\n```\r\n#### 样例解释 1\r\n\r\n已经建好的栅栏见左图，点线为牧场的边界。\r\n\r\n一种修栅栏的方法见右图。如果你输出 $29$ 或 $28.999$ 也对。\r\n![PIC](https://s1.ax1x.com/2018/08/21/P4sY3F.png)\r\n#### 输入样例 2\r\n```plain\r\n1 2\r\n-3 -3 -3 -2\r\n```\r\n\r\n#### 输出样例 2\r\n```plain\r\n16.0000000000\r\n```\r\n\r\n#### 样例解释 2\r\n你根本用不到之前修好的任何栅栏。\r\n\r\n#### 输入样例 3\r\n```plain\r\n4 3\r\n4 -1 3 4\r\n-4 2 -2 4\r\n-4 0 -5 6\r\n0 -6 5 -2\r\n```\r\n\r\n#### 输出样例 3\r\n```plain\r\n14.1392801789\r\n```\r\n#### 输入样例 4\r\n```plain\r\n10 80\r\n175 95 60 -146\r\n-106 57 18 185\r\n190 -68 177 -142\r\n84 -195 127 -179\r\n34 143 126 69\r\n-92 133 -190 80\r\n-157 -66 -119 -161\r\n-85 -124 129 -171\r\n141 181 175 175\r\n107 -38 150 148\r\n```\r\n\r\n#### 输出样例 4\r\n```plain\r\n238.4778364511\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"数据满足以下条件：\r\n\r\n- $1 ≤ N ≤ 100 $．\r\n- $1 ≤ S ≤ 200$．\r\n- $ −200 ≤ A_i, B_i, C_i, D_i ≤ 200\\, (1 ≤ i ≤ N)$．\r\n- $(A_i, B_i) \\ne (C_i, D_i)\\, (1 ≤ i ≤ N)$．\r\n- 没有栅栏经过牧场内部。\r\n- 任意两个不同的栅栏，如果他们有公共点，那至少是一个栅栏的端点。\r\n\r\n#### 子任务 1（18 分）\r\n\r\n$N=1$。\r\n\r\n#### 子任务 2（33 分）\r\n\r\n$N\\le 6$。\r\n\r\n#### 子任务 3（49 分）\r\n\r\n没有额外限制。"}]}