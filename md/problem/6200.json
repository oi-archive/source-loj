{"title":"「YNOI2016」自己的发明","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://loj.ac/problem/6200#submit_code","submissions":"https://loj.ac/submissions?problem_id=6200","statistics":"https://loj.ac/problem/6200/statistics/fastest","testdata":"https://loj.ac/problem/6200/testdata","discussion":"https://loj.ac/discussion/problem/6200"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":">一切伟大的世界历史事件与人物，可以说都会出现两次  \r\n>第一次是作为悲剧出现  \r\n>第二次，则是作为笑剧出现  \r\n>——《路易.巴拿马的雾月十八日》  \r\n>感动、  \r\n>痛苦、  \r\n>以及快乐、  \r\n>都只是遥不可及的宝石  \r\n>即便如此，人们啊，  \r\n>获得幸福吧！  \r\n>![zqq1.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/zzd1.png)  \r\n>世界将在 7 月 20 日终结。  \r\n>世界回归天空的日子。  \r\n>万物被天空侵染的日子。  \r\n>回归天空的日子。  \r\n>世界必须回归。  \r\n>世界的极限。  \r\n>世界的尽头。  \r\n>世界的终结。  \r\n>![zqq2.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/zzd2.png)  \r\n>你看……那就是极限……最尽头的天空。  \r\n>如今，已无应该之事了如今，已无忘却之物了。  \r\n>不需要的话语。  \r\n>![zqq3.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/zzd3.png)  \r\n>告别了永不相交的平行，我被吸进了……  \r\n>垂直下落的世界。  \r\n>![zqq4.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/zzd4.png)  \r\n>虽哭亦喜  \r\n>虽悲亦喜  \r\n>各种感情混在一起……  \r\n>比起其他所有，想必还是高兴占多吧  \r\n>她高兴地抱着我  \r\n>紧紧地抱着  \r\n>再也不会松开了……  \r\n>想永远这样……  \r\n>她的思绪，以比语言更快的速度，传达给了我  \r\n>有些东西，比语言更快  \r\n>她的思绪，以比语言更快的速度，传达给了我  \r\n>有些东西，比语音更准确  \r\n>世界上无论多么短暂的瞬间，都有意义  \r\n>有意义  \r\n>快临近终结了  \r\n>最后的瞬间  \r\n>啊啊……  \r\n>远方的警笛声  \r\n>黑色的天空  \r\n>月正笑  \r\n>地正润潮  \r\n>星正舞  \r\n>风正凉  \r\n>在我怀中，温暖的，  \r\n>橘希实香  \r\n>![zqq5.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/zzd5.png)  \r\n>她在我的怀中……静静地合上了双眼  \r\n>然后我也……  \r\n>静静地合上了双眼\r\n\r\n您正在打 galgame，然后突然家长进来了，于是您假装在写数据结构题：\r\n\r\n给一个树，$n$ 个点，有点权，初始根是 $1$。\r\n\r\n$m$ 个操作，每次操作：\r\n\r\n1.\t将树根换为 $x$。\r\n\r\n2.\t给出两个点 $x,y$，从 $x$ 的子树中选每一个点，$y$ 的子树中选每一个点，如果两个点点权相等，$\\text{ans}$ 自增 $1$，求 $\\text{ans}$。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个数表示 $n,m$。\r\n\r\n第二行 $n$ 个数，表示每个点的点权 $a_i$。\r\n\r\n之后 $n-1$ 行，每行两个数 $x,y$，表示一条边\r\n\r\n之后 $m$ 行，每行为 $1$ $x$ 或者 $2$ $x$ $y$。\r\n\r\n$1$ $x$，表示将根变成 $x$ 点。\r\n\r\n$2$ $x$ $y$，表示查询 $x$ 点的子树与 $y$ 点的子树。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问，输出一个数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 5\r\n1 2 3 4 5\r\n1 2\r\n1 3\r\n3 4\r\n3 5\r\n2 4 5\r\n2 1 5\r\n2 3 5\r\n1 5\r\n2 4 5\r\n```\r\n#### 样例输出\r\n```plain\r\n0\r\n1\r\n1\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n \\leq 10^{5},1 \\leq m \\leq 5 \\times 10^{5},1 \\leq a_i \\leq 10^{9}$\r\n\r\n"}]}