{"title":"「BalkanOI 2018 Day2」Parentrises","time_limit":300,"memory_limit":256,"tags":["2018","BalkanOI","子任务"],"operation":{"submit":"https://loj.ac/problem/2713#submit_code","submissions":"https://loj.ac/submissions?problem_id=2713","statistics":"https://loj.ac/problem/2713/statistics/fastest","testdata":"https://loj.ac/problem/2713/testdata","discussion":"https://loj.ac/discussion/problem/2713"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"> 如何将两题拼成一题.jpg\r\n\r\n**翻译自 [BalkanOI 2018](http://boi2018.ro) Day2 T1「[Parentrises](http://boi2018.ro/assets/Tasks/BOI/Day_2/parentrises/parentrises_en.pdf)」**\r\n\r\n**「括号串」**是一个仅由 `(` 和 `)` 构成的字符串。如果在括号串中插入一些 `1` 和 `+` 可以将其转化为正确的表达式，该字符串就是一个**「良括号串」**。例如，`(())` 和 `(())` 是良括号串，而 `)(` 和 `(` 不是。空字符串可视为良括号串。（就是你们学 Catalan 数时学的那个啊）  \r\n将一个**括号串**（不是良括号串）的每个括号都涂成红绿蓝三种颜色之一，如果有一种方案同时满足：\r\n+ 忽略该串的所有蓝色括号后它是**良括号串**；\r\n+ 忽略该串的所有红色括号后它是良括号串；\r\n\r\n该串就是 **RGB 可读**的。  \r\n\r\n你会接到两类任务之一。任务类型用一个整数 $P$ 表示，$P=1$ 或 $2$。\r\n\r\n* $P=1$：你会接到 $T$ 组询问，每组询问包含一个括号串，试问该串是否 RGB 可读，如果是，请输出一种染色方案，如果否请输出 `impossible`；\r\n* $P=2$：你会接到 $T$ 组询问，每组询问包含一个数 $N$，试求：有多少个长度为 $N$ 的 RGB 可读的良括号串。输出答案模 $(10^9+7)$ 的结果。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有一个整数 $P$。  \r\n第二行有一个整数 $T$。  \r\n+ 如果 $P=1$，在接下来的 $T$ 行中，每行有一个括号串，表示询问。\r\n+ 如果 $P=2$，在接下来的 $T$ 行中，每行有一个数 $N$，表示询问。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果 $P=1$，对于每组询问，\r\n+ 如果该串是 RGB 可读的，请输出一种染色方案；\r\n+ 如果该串不是 RGB 可读的，请输出 `impossible`；\r\n\r\n如果 $P=2$，对于每组询问，请输出长度为 $N$ 的 RGB 可读的良括号串的个数模 $(10^9+7)$ 的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n1\r\n3\r\n())(()\r\n()(()\r\n()))\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\nGRBRBG\r\nBBRBG\r\nimpossible\r\n```\r\n\r\n#### 样例解释 1\r\n对于查询 1，忽略原串的所有蓝色括号后它变为 `()()`；忽略原串的所有红色括号后它也变为 `()()`。  \r\n对于查询 2，忽略原串的所有蓝色括号后它变为 `()`；忽略原串的所有红色括号后它变为 `()()`。\r\n\r\n#### 样例输入 2\r\n```plain\r\n2\r\n2\r\n6\r\n100\r\n```\r\n\r\n#### 样例输出 2 \r\n```plain\r\n12\r\n959772055\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$P = 1$：  \r\n设 $L$ 为字符串总长。  \r\n* 子任务 #1（5 分）：$1 ≤ T ≤ 5,$ $1 ≤ len(S) ≤ 13$。  \r\n* 子任务 #2（11 分）：$1 ≤ L ≤ 100$。  \r\n* 子任务 #3（6 分）：$1 ≤ L ≤ 1000$。  \r\n* 子任务 #4（28 分）：$1 ≤ L ≤ 10^6$。\r\n\r\n$P = 2$：\r\n* 子任务 #5（6 分）：$1 ≤ N, T ≤ 15$。  \r\n* 子任务 #6（16 分）：$1 ≤ N, T ≤ 30$。  \r\n* 子任务 #7（28 分）：$1 ≤ N, T ≤ 300$。\r\n\r\n------\r\n**感谢 [applese](/user/873) 提供 SPJ。**"}]}