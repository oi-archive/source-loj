{"title":"「JOISC 2017 Day 2」门票安排","time_limit":4000,"memory_limit":256,"tags":["2017","JOISC","子任务"],"operation":{"submit":"https://loj.ac/problem/2393#submit_code","submissions":"https://loj.ac/submissions?problem_id=2393","statistics":"https://loj.ac/problem/2393/statistics/fastest","testdata":"https://loj.ac/problem/2393/testdata","discussion":"https://loj.ac/discussion/problem/2393"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2017](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/index.html) Day2 T1「[切符の手配](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d2.pdf) / [Arranging Tickets](https://www.ioi-jp.org/camp/2017/2017-sp-tasks/2017-sp-d2-en.pdf)」**\r\n\r\n某条铁路环线共有 $N$ 个车站，顺时针依次编号为 $1\\ldots N$。  \r\n该线路有 $N$ 种车票，分别编号为 $1\\ldots N$。一张车票 $i(1\\le i\\le N-1)$ 仅供一人从车站 $i$ 顺时针移动到车站 $i+1$，或供一人从车站 $i+1$ 逆时针移动到车站 $i$。一张车票 $N$ 仅供一人从车站 $N$ 顺时针移动到车站 $1$，或供一人从车站 $1$ 逆时针移动到车站 $N$。  \r\n购买车票只有一种方法：购买套餐，套餐包含车票 $1\\ldots N$ 各 $1$ 张。\r\n你是一名导游，你正在为游客订票。现有 $M$ 个订票请求，订票请求 $i(1\\le i\\le M)$ 表示从车站 $A_i$ 到车站 $B_i$ 有 $C_i$ 名旅客（路线可以不同）。  \r\n求最少需要购买多少套餐。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $N,M$，用空格分隔。  \r\n在接下来的 $M$ 行中，第 $i$ 行 $(1\\le i\\le M)$ 有三个整数 $A_i,B_i,C_i$，用空格分隔。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数，表示最少需要购买的套餐数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 3\r\n1 2 1\r\n2 3 1\r\n3 1 1\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例解释 1\r\n所有人都顺时针移动。\r\n\r\n#### 样例输入 2\r\n```plain\r\n3 2\r\n1 2 4\r\n1 2 2\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例解释 2\r\n下面是一种需购买 $3$ 个套餐的方法：\r\n- 对于请求 $1$，$3$ 人顺时针移动，$1$ 人逆时针移动。\r\n- 对于请求 $2$，$2$ 人逆时针移动。\r\n\r\n没有更优的方案。\r\n\r\n#### 样例输入 3\r\n```plain\r\n6 3\r\n1 4 1\r\n2 5 1\r\n3 6 1\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n2\r\n```\r\n\r\n#### 样例解释 3\r\n把车票 $1,2,3$ 给第一个人，把车票 $1,6,5$ 给第二个人，把车票 $3,4,5$ 给第三个人。  \r\n没有更优的方案。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|Subtask #|分值|$N$|$M$|$C_i(1\\le i\\le M)$|\r\n|-|-|-|-|-|\r\n|1|10|$N\\le 20$|$M\\le 20$|$C_i=1$|\r\n|2|35|$N\\le 300$|$M\\le 300$|$C_i=1$|\r\n|3|20|$N\\le 3000$|$M\\le 3000$|$C_i=1$|\r\n|4|20|$N\\le 2\\times 10^5$|$M\\le 10^5$|$C_i=1$|\r\n|5|15|$N\\le 2\\times 10^5$|$M\\le 10^5$||"}]}