{"title":"「USACO 2020 US Open Platinum」Sprinklers 2: Return of the Alfalfa","time_limit":1000,"memory_limit":256,"tags":["USACO Contest","2020","DP"],"operation":{"submit":"https://loj.ac/problem/3283#submit_code","submissions":"https://loj.ac/submissions?problem_id=3283","statistics":"https://loj.ac/problem/3283/statistics/fastest","testdata":"https://loj.ac/problem/3283/testdata","discussion":"https://loj.ac/discussion/problem/3283"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [USACO 2020 US Open Contest, Platinum](http://usaco.org/index.php?page=open20results) Problem 1. [Sprinklers 2: Return of the Alfalfa](http://usaco.org/index.php?page=viewproblem2&cpid=1032)**\r\n\r\nFarmer John 有一块大小为 $N \\times N$ 的网格形土地，将从上到下第 $i$ 行、从左到右第 $j$ 列（$1 \\le i, j \\le N$）的格子记作 $(i, j)$。\r\n\r\n他想要在这片土地上种植甜玉米和紫苜蓿（mù xu），所以他需要安装一些特别的洒水器。\r\n\r\n一个安装在 $(I, J)$ 的甜玉米洒水器会为所有在左下角方向的格子（也就是所有满足 $I \\le i$，$j \\le J$ 的格子 $(i, j)$）洒水。\r\n\r\n一个安装在 $(I, J)$ 的紫苜蓿洒水器会为所有在右上角方向的格子（也就是所有满足 $i \\le I$，$J \\le j$ 的格子 $(i, j)$）洒水。\r\n\r\n如果一个格子被一个或多个甜玉米洒水器喷洒到，那么它就能够种植甜玉米；如果一个格子被一个或多个紫苜蓿洒水器喷洒到，那么它就能够种植紫苜蓿。但是如果一个格子被两种洒水器都喷洒到了（或都没喷洒到），那么它就什么都种不了。\r\n\r\n请你帮助 FJ 计算安装洒水器的方案数（对 ${10}^9 + 7$ 取模），满足每个格子最多安装一个洒水器，且每个格子都能种植（也就是说，每个格子恰好被一种洒水器喷洒到）。\r\n\r\n有些格子已经被毛乎乎的奶牛占据了，导致这些格子上不能放置洒水器，但不影响格子能否种植植物。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从标准输入中读入数据。\r\n\r\n第一行一个正整数 $N$。  \r\n接下来 $N$ 行，第 $i$ 行一个长度为 $N$ 的字符串，表示网格第 $i$ 行的状态。字符串中只包含 `W` 和 `.` 两种字符，如果第 $j$ 个字符为 `W` 则表示 $(i, j)$ 被毛乎乎的奶牛占据了，否则表示没有被占据。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出到标准输出中。\r\n\r\n输出安装洒水器的方案数，对 ${10}^9 + 7$ 取模。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2\r\n..\r\n..\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n28\r\n```\r\n\r\n#### 样例解释 1\r\n下列是甜玉米能种植在 $(1, 1)$ 的 $14$ 种情况。\r\n\r\n```plain\r\nCC  .C  CA  CC  .C  CA  CA  C.  CA  C.  CC  .C  CC  .C\r\nCC, CC, CC, .C, .C, .C, CA, CA, .A, .A, C., C., .., ..\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n4\r\n..W.\r\n..WW\r\nWW..\r\n...W\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n2304\r\n```\r\n\r\n#### 样例解释 2\r\n此样例满足第一个子任务（见下）的限制。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1 \\le N \\le 2000$。\r\n\r\n对于测试点 $3 \\sim 4$，满足 $N \\le 10$ 且最多有 $10$ 个未被占据的格子。  \r\n对于测试点 $5 \\sim 9$，满足 $N \\le 200$。  \r\n对于测试点 $10 \\sim 16$，无特殊限制。\r\n\r\n出题人：Benjamin Qi"}]}