{"title":"拉格朗日插值","time_limit":1000,"memory_limit":256,"tags":["模板","多项式 / 形式幂级数"],"operation":{"submit":"https://loj.ac/problem/165#submit_code","submissions":"https://loj.ac/submissions?problem_id=165","statistics":"https://loj.ac/problem/165/statistics/fastest","testdata":"https://loj.ac/problem/165/testdata","discussion":"https://loj.ac/discussion/problem/165"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"这是一道模板题。\r\n\r\n维护一个点集 $S$，初始时点集为空集。下面依次进行 $n$ 个操作，操作有两种：\r\n\r\n* `1 x y`：向点集中添加点 $(x, y)$。保证点集中 $x$ 互不相同。\r\n* `2 k`：输出 $f(k) \\bmod 998244353$ 的值，其中 $f(x)$ 是一个次数不超过 $|S| - 1$ 次的函数，且经过 $S$ 中所有的点。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，一个整数 $n$，表示操作个数。\r\n\r\n接下来 $n$ 行，每行 $2$ 或 $3$ 个整数，描述操作。\r\n\r\n数据保证第一个操作必定为 `1` 类型操作。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"多行，第 $i$ 行，一个整数，表示对第 $i$ 个 `2` 类型操作要求计算的 $f(k) \\bmod 998244353$ 的值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6\r\n1 2 3\r\n2 5\r\n1 4 7\r\n2 5\r\n1 1 4\r\n2 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n9\r\n12\r\n```\r\n\r\n#### 样例解释\r\n初始时点集 $S = \\emptyset$。\r\n\r\n第一个操作 `1 2 3`，向点集中插入点 $(2, 3)$。此时点集 $S = \\{(2, 3)\\}$。\r\n\r\n第二个操作 `2 5`，询问 $f(5)$ 的值。唯一满足次数不超过 $0$ 次且经过点 $(2, 3)$ 的函数为 $f(x) = 3$，因此 $f(5) = 3$。\r\n\r\n第三个操作 `1 4 5`，向点集中插入点 $(4, 7)$。此时点集 $S = \\{(2, 3), (4, 7)\\}$。\r\n\r\n第四个操作 `2 5`，询问 $f(5)$ 的值。唯一满足次数不超过 $1$ 次且经过点 $(2, 3), (4, 7)$ 的函数为 $f(x) = 2x - 1$，因此 $f(5) = 9$。\r\n\r\n第五个操作 `1 1 4`，向点集中插入点 $(1, 4)$。此时点集 $S = \\{(2, 3), (4, 7), (1, 4)\\}$。\r\n\r\n第六个操作 `2 5`，询问 $f(5)$ 的值。唯一满足次数不超过 $2$ 次且经过点 $(2, 3), (4, 7), (1, 4)$ 的函数为 $f(x) = x^2 - 4x + 7$，因此 $f(5) = 12$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$1 \\leq n \\leq 3000, 1 \\leq x, y, k < 998244353$，所有 $x$ 互不相同。\r\n\r\n数据有一定梯度。"}]}