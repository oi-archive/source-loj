{"title":"「ICPC World Finals 2018」三角形","time_limit":6000,"memory_limit":1024,"tags":["2018","ICPC","World Final"],"operation":{"submit":"https://loj.ac/problem/6411#submit_code","submissions":"https://loj.ac/submissions?problem_id=6411","statistics":"https://loj.ac/problem/6411/statistics/fastest","testdata":"https://loj.ac/problem/6411/testdata","discussion":"https://loj.ac/discussion/problem/6411"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"来到北京前，你准备了不少童书，许多书包含了像这样的问题：下图中有多少个三角形？\r\n\r\n![无标题.png](https://i.loli.net/2018/05/21/5b022a7a45048.png)\r\n\r\n尽管这些题一开始吸引了你的兴趣，但你很快感到无聊，希望用算法来解决这样的问题。说不定今年的比赛会考到这样的问题，谁知道呢。所以今天你很幸运！"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有两个整数 $r$ 和 $c (1 \\le r \\le 3\\ 000,1 \\le c \\le 6\\ 000)$，表示图片的大小，其中 $r$ 是顶点的行数，$c$ 是列数。接下来有 $2r-1$ 行，每行至多有 $2c-1$ 个字符。奇数行为顶点（用小写字母 `x` 表示）及不少于 $0$ 个水平边，偶数行则有不少于 $0$ 条对角线。特别地，形如 $4k+1$ 的行号在 $1,5,9,13,...$ 位置上有顶点，而形如 $4k+3$ 的行号在 $3,7,11,15,...$ 位置上有顶点。所有可能出现的顶点都在输入中（见图和样例 2）。连接相邻顶点的水平边用三条横线表示，对角线用一个斜杠 / 或反斜杠 \\ 表示，恰好放在对应的顶点之间。其它的字符都是空格。注意如果一行末尾有空格，这个空格可能被省略。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出原图网格形成的三角形（不限大小）的个数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 3\r\nx---x\r\n \\ /\r\n  x\r\n / \\\r\nx   x\r\n```\r\n\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n4 10\r\nx   x---x---x   x\r\n     \\ /   / \\\r\n  x   x---x   x   x\r\n     / \\ / \\   \\\r\nx   x---x---x---x\r\n   /   / \\   \\ / \\\r\n  x---x---x---x---x\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n12\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"在不侵犯原题版权的情况下，本题面中文翻译基于[知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议](http://creativecommons.org/licenses/by-nc-sa/4.0/)发布，注明出处时需指向本题链接。"}]}