{"title":"「Antileaf's Round」你这衣服租来的吗","time_limit":1200,"memory_limit":512,"tags":["Special Round","平衡树","线段树","数据结构"],"operation":{"submit":"https://loj.ac/problem/557#submit_code","submissions":"https://loj.ac/submissions?problem_id=557","statistics":"https://loj.ac/problem/557/statistics/fastest","testdata":"https://loj.ac/problem/557/testdata","discussion":"https://loj.ac/discussion/problem/557"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"![衣服](https://img.51nod.com/upload/000FC44D/08D5731F72CD03BC000000000000007E.png)\r\n\r\n给你一个长为 $n$ 的序列，然后对序列进行 $m$ 次操作，操作有两种： \r\n- `M l r v`：把区间 $[l,r]$ 的所有数都改成 $v$。  \r\n- `Q l r k v`：询问区间 $[l,r]$ 中从左到右第 $k$ 个 $v$ 的下标（下标从 $1$ 开始），不存在则输出 $0$。  \r\n为了防止你采用离线算法，本题强制在线，每次输入的所有整数都需要异或上次询问的答案（如果还没有进行过询问则为 $0$），得到的才是真正的输入。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个非负整数，分别表示 $n,m$。  \r\n第二行 $n$ 个正整数，表示原来的序列。  \r\n以下 $m$ 行，每行描述一个操作，格式如上所述。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个 $ Q $ 操作，单独一行输出一个整数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n5 5\r\n2 3 3 3 3\r\nQ 2 4 3 3\r\nM 7 0 2\r\nQ 0 1 5 2\r\nM 5 5 7\r\nQ 7 1 6 7\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n4\r\n4\r\n0\r\n```\r\n\r\n#### 样例解释\r\n\r\n原本的输入应该是\r\n```plain\r\n5 5\r\n2 3 3 3 3\r\nQ 2 4 3 3\r\nM 3 4 6\r\nQ 4 5 1 6\r\nM 1 1 3\r\nQ 3 5 2 3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$n,m\\le 10^5$，保证任何时刻均有 $0\\le a_i\\le 10^9$。"}]}