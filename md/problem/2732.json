{"title":"「JOISC 2016 Day 2」雇佣计划","time_limit":1000,"memory_limit":256,"tags":["2016","JOISC","离线","树状数组"],"operation":{"submit":"https://loj.ac/problem/2732#submit_code","submissions":"https://loj.ac/submissions?problem_id=2732","statistics":"https://loj.ac/problem/2732/statistics/fastest","testdata":"https://loj.ac/problem/2732/testdata","discussion":"https://loj.ac/discussion/problem/2732"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2016](https://www.ioi-jp.org/camp/2016/2016-sp-tasks/index.html) Day2 T1 「[雇用計画](https://www.ioi-jp.org/camp/2016/2016-sp-tasks/2016-sp-d2.pdf)」**\r\n\r\nJOI 社为了扩大业务而开始了新社员招募。社员有 $N$ 名候补者，编号从 $1$ 到 $N$， 每名候补者有称为评价值的一个确定整数。\r\n评价值高于某一个值的候补者全部都将被聘用， 他们还将分为几个组别。如果 $a, b(a \\lt b)$ 同时被聘用且 $c(a \\le c\\le b)$ 全部被聘用时，$a,b$ 进入同一组。\r\n\r\n你要处理 $M$ 个查询，查询有以下两种：\r\n\r\n1. 评价值 $B_j$ 以上的候补者全部聘用时的组数；\r\n2. 将候补者 $C_j$ 的评价值更新为 $D_j$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $N, M$；  \r\n接下来 $N$ 行第 $i$ 行给出候补者评价值的初始值 $A_i$；  \r\n接下来 $M$ 行中，第 $j$ 行有一个整数 $T_j$：  \r\n- $T_j=1$ 时给出 $B_j$，意义如上；\r\n- $T_j=2$ 时给出 $C_j, D_j$，意义如上。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"每行一个整数表示分组个数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n5 4\r\n8\r\n6\r\n3\r\n5\r\n4\r\n1 5\r\n2 4 1\r\n1 5\r\n1 3\r\n```\r\n\r\n#### 输出样例 1\r\n```plain\r\n2\r\n1\r\n2\r\n```\r\n#### 样例说明 1\r\n第一次查询时，候补者 $1,2,4$ 被聘用，$1,2$ 一组，$4$ 为一组，输出 $2$；  \r\n第二次查询将候补者 $4$ 的评价值更新为 $1$；  \r\n第三次查询时，候补者 $1,2$ 为一组，输出 $1$；  \r\n第四次查询时候补者 $1,2,3$ 一组，$5$ 一组，输出 $2$。\r\n\r\n#### 输入样例 2\r\n```plain\r\n7 5\r\n13\r\n19\r\n1\r\n15\r\n13\r\n1\r\n19\r\n1 20\r\n1 1\r\n1 6\r\n1 11\r\n1 17\r\n\r\n```\r\n#### 输出样例 2\r\n```plain\r\n0\r\n1\r\n3\r\n3\r\n2\r\n```\r\n\r\n#### 输入样例 3\r\n```plain\r\n10 5\r\n8\r\n10\r\n15\r\n2\r\n2\r\n8\r\n5\r\n12\r\n11\r\n4\r\n1 5\r\n2 8 4\r\n1 12\r\n2 5 11\r\n1 16\r\n```\r\n#### 输出样例 3\r\n```plain\r\n2\r\n1\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$1 \\le N,M \\le 2\\times 10^5,1\\le A_i,B_j,D_j\\le 10^9,1\\le T_j\\le 2,1\\le C_j\\le N$，并保证至少有一次查询 $T_j=1$。\r\n\r\n具体子任务限制及得分情况如下表：\r\n\r\n| Subtask |     限制      | 分数 |\r\n| :-----: | :-----------: | :--: |\r\n|   $1$   | $N,M\\le 2000$ | $10$ |\r\n|   $2$   |    $T_j=1$    | $20$ |\r\n|   $3$   |  无追加限制   | $60$ |\r\n\r\n"}]}