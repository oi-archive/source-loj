{"title":"「HNOI2016」大数","time_limit":1000,"memory_limit":256,"tags":["2016","HNOI","离线","莫队","数学","数论"],"operation":{"submit":"https://loj.ac/problem/2053#submit_code","submissions":"https://loj.ac/submissions?problem_id=2053","statistics":"https://loj.ac/problem/2053/statistics/fastest","testdata":"https://loj.ac/problem/2053/testdata","discussion":"https://loj.ac/discussion/problem/2053"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小 B 有一个很大的数 $ S $，长度达到了 $ N $ 位；这个数可以看成是一个串，它可能有前导 $ 0 $，例如 ``00009312345`` 。小 B 还有一个素数 $ P $。\r\n\r\n现在，小 B 提出了 $ M $ 个询问，每个询问求 $ S $ 的一个子串中有多少子串是 $ P $ 的倍数（$ 0 $ 也是 $ P $ 的倍数）。例如 $ S $ 为 ``0077`` 时，其子串 ``007 `` 有六个子串：``0``, ``0``, ``7``, ``00``, ``07``, ``007``；显然 ``0077`` 的子串 ``077`` 的六个子串都是素数 $ 7 $ 的倍数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数：$ P $。  \r\n第二行一个串：$ S $。  \r\n第三行一个整数：$ M $。  \r\n接下来 $ M $ 行，每行两个整数 $ \\text{fr}, \\text{to}$，表示对 $ S $ 的子串 $S[\\text{fr} \\ldots \\text {to}]$ 的一次询问。  \r\n注意：$ S $ 的最左端的数字的位置序号为 $ 1 $；例如 $ S $ 为 $ 213567 $，则 $ S[1] $ 为 $ 2 $，$ S[1 \\ldots 3] $为 $ 213 $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $ M $ 行，每行一个整数，第 $ i $ 行是第 $ i $ 个询问的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n11 \r\n121121 \r\n3 \r\n1 6 \r\n1 5 \r\n1 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n5\r\n3\r\n2\r\n``` \r\n\r\n#### 样例解释\r\n第一个询问问的是整个串，满足条件的子串分别有：`121121`、`2112`、`11`、`121`、`121`。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有的数据，$ N,M \\leq 100000 $，$ P $ 为素数。"}]}