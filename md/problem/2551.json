{"title":"「JSOI2018」列队","time_limit":3000,"memory_limit":512,"tags":["JSOI","2018","数据结构"],"operation":{"submit":"https://loj.ac/problem/2551#submit_code","submissions":"https://loj.ac/submissions?problem_id=2551","statistics":"https://loj.ac/problem/2551/statistics/fastest","testdata":"https://loj.ac/problem/2551/testdata","discussion":"https://loj.ac/discussion/problem/2551"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"作为一名大学生，九条可怜在去年参加了她人生中的最后一次军训。\r\n\r\n军训中的一个重要项目是练习列队，为了训练学生，教官给每一个学生分配了一个休息位置。每次训练开始前，所有学生都在各自的休息位置休息，但是当教官发出集合命令后，被点到的学生必须要到指定位置集合。\r\n\r\n为了简化问题，我们把休息位置和集合位置抽象成一根数轴。一共有 $n$ 个学生，第 $i$ 个学生的休息位置是 $a_i$。每一次命令，教官会指定一个区间 $[l,r]$ 和集合点 $K$ ，所有编号在 $[l,r]$ 内的学生都必须赶到集合点列队。在列队时，每一个学生需要选择 $[K,K+r-l]$ 中的一个整数坐标站定且不能有任何两个学生选择的坐标相同。学生从坐标 $x$ 跑到坐标 $y$ 需要耗费体力 $|y-x|$ 。\r\n\r\n在一天的训练中，教官一共发布了 $m$ 条命令 $(l,r,K)$ ，现在你需要计算对于每一条命令，在所有可能的列队方案中，消耗的体力值总和最小是多少。\r\n\r\n以下是对题意的一些补充：\r\n\r\n* 任何两条命令是无关的，即在一条集合命令结束后，所有学生都会回到自己的休息位置，然后教官才会发出下一条命令。\r\n* 在集合的时候，可能有编号不在 $[l,r]$ 内的学生处在区间 $[K,K+r-l]$ 中，这时他会自己跑开，且跑动的距离不记在消耗的体力值总和中。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入两个整数 $n,m$。\r\n\r\n第二行 $n$ 个整数 $a_i$ 表示学生的休息位置。保证学生休息的位置两两不同。\r\n\r\n接下来 $m$ 行每行三个整数 $l,r,K$ 表示一条命令。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一条命令输出一行一个整数表示最小的体力值总和。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5 5\r\n1 5 7 6 2\r\n1 5 2\r\n1 5 3\r\n1 3 9\r\n2 4 2\r\n3 5 5\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n5\r\n4\r\n17\r\n9\r\n3\r\n```\r\n\r\n#### 样例解释 1\r\n* 在第一条命令中，五名学生依次跑到 $[2,5,4,6,3]$，则总代价为 $|2-1|+|5-5|+|4-7|+|6-6|+|3-2|=5$。\r\n* 在第二条命令中，五名学生依次跑到 $[4,5,7,6,3]$，则总代价为 $|4-1|+|5-5|+|7-7|+|6-6|+|3-2|=4$。\r\n* 在第三条命令中，三名学生依次跑到 $[11,10,9]$，则总代价为 $|11-1|+|10-5|+|9-7|=17$。\r\n* 在第四条命令中，三名学生依次跑到 $[4,2,3]$，则总代价为 $|4-5|+|2-7|+|3-6|=9$。\r\n* 在第五条命令中，三名学生依次跑到 $[7,6,5]$，则总代价为 $|7-7|+|6-6|+|5-2|=3$。\r\n\r\n#### 样例 2\r\n见下发文件。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $10\\%$ 的数据，$n,m \\leq 10$。\r\n\r\n对于 $40\\%$ 的数据，$n,m \\leq 10^3$。\r\n\r\n对于 $70\\%$ 的数据，$n,m \\leq 10^5$。\r\n\r\n对于 $100\\%$ 的数据，$n,m \\leq 5 \\times 10^5,1 \\leq a_i,K \\leq 10^6$。\r\n\r\n对于 $100\\%$ 的数据，学生休息的位置两两不同。"}]}