{"title":"「BalticOI 2011 Day2」多边形 Polygon","time_limit":1000,"memory_limit":256,"tags":["2011","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2636#submit_code","submissions":"https://loj.ac/submissions?problem_id=2636","statistics":"https://loj.ac/problem/2636/statistics/fastest","testdata":"https://loj.ac/problem/2636/testdata","discussion":"https://loj.ac/discussion/problem/2636"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"** 译自 BalticOI 2011 Day2 T3「Polygon」**\r\n\r\n在平面直角网格图中有一个简单多边形，它有 $N$ 个顶点，每个顶点都在格点上（格点=整点）。  \r\n试求：严格在多边形内部的网格线有多长。在「样例解释」中， 严格在多边形内部的网格线将会加粗显示。  \r\n请注意精度。设你的答案为 $L$，标准答案为 $R$，则只需满足 $|L − R| ≤ R \\times 10^{−6}$ 和 $|L − R| ≤ 10^{−6}$ 两个条件中的其中一个即可得分。\r\n\r\nA simple polygon with N vertices is drawn on an infinite rectangular grid. For such a polygon, only neighboring edges touch at their common vertex; no other of its edges intersect or touch. All vertices of the polygon lie on grid points, i.e., vertices have integer coordinates.  \r\nYour task is to find the total length of grid line segments which lie strictly inside the given polygon (these line segments are highlighted in the drawings below)."},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行有一个整数 $N$。  \r\n在接下来的 $N$ 行中，每行两个整数 $x$ 和 $y$，表示一个顶点的坐标。\r\n\r\nThe first line of input contains a single integer N, the number of vertices of the polygon. Each of the following N lines contains two integers x and y, the coordinates of one vertex. The vertices are given either in clockwise or counterclockwise order. All vertices are distinct, but more than two consecutive vertices may lie on a line."},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出仅一行，一个数，表示严格在多边形内部的网格线的长度。\r\n\r\nThe only line of output must contain a decimal number: the total length of grid line segments which lie strictly inside the given polygon."},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3\r\n5 1\r\n2 4\r\n1 1\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n10.0\r\n```\r\n\r\n#### 样例解释 1\r\n<img src=\"https://loj.ac/problem/2636/testdata/download/1.PNG\" width=\"50%\">\r\n\r\n符合要求的竖线之长为 $\\frac{4}{3} + \\frac{8}{3} =4$，横线之长为 $3+2+1=6$。总长 $4+6=10$。\r\n\r\nThe length of horizontal lines is 4/3 + 8/3 = 4. The length of vertical lines is 3 + 2 + 1 = 6.\r\nThe total length is 4 + 6 = 10.\r\n\r\n#### 样例输入 2\r\n```plain\r\n5\r\n0 0\r\n-2 2\r\n-2 -1\r\n2 -2\r\n2 0\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n12.5\r\n```\r\n\r\n#### 样例解释 2\r\n<img src=\"https://loj.ac/problem/2636/testdata/download/2.PNG\" width=\"50%\">\r\n\r\n符合要求的竖线之长为 $1+2+4=7$，横线之长为 $\\frac{9}{4}+\\frac{3}{2}+\\frac{7}{4}=5.5$。总长 $7+5.5=12.5$。\r\n\r\nThe length of horizontal lines is 1+2+4 = 7. The length of vertical lines is 9/4+3/2+7/4 = 5.5. The total length is 7 + 5.5 = 12.5."},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $50\\%$ 的数据，多边形所有的边均在网格线上。  \r\n对于所有数据，$3 ≤ N ≤ 10^5, -5\\times 10^8 ≤ x,y ≤ 5\\times 10^8$。"}]}