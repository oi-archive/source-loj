{"title":"「一本通 3.1 例 1」黑暗城堡","time_limit":1000,"memory_limit":512,"tags":["最短路","数学"],"operation":{"submit":"https://loj.ac/problem/10064#submit_code","submissions":"https://loj.ac/submissions?problem_id=10064","statistics":"https://loj.ac/problem/10064/statistics/fastest","testdata":"https://loj.ac/problem/10064/testdata","discussion":"https://loj.ac/discussion/problem/10064"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"你知道黑暗城堡有 $N$ 个房间，$M$ 条可以制造的双向通道，以及每条通道的长度。 \r\n\r\n城堡是树形的并且满足下面的条件：\r\n\r\n设 $D_i$ 为如果所有的通道都被修建，第 $i$ 号房间与第 $1$ 号房间的最短路径长度；\r\n\r\n而 $S_i$ 为实际修建的树形城堡中第 $i$ 号房间与第 $1$ 号房间的路径长度；\r\n\r\n要求对于所有整数 $i$  ($1\\le i\\le N$)，有 $S_i= D_i$ 成立。\r\n\r\n你想知道有多少种不同的城堡修建方案。当然，你只需要输出答案对 $2^{31} -1$ 取模之后的结果就行了。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为两个由空格隔开的整数 $N, M$;\r\n\r\n第二行到第 $M+1$ 行为 $3$ 个由空格隔开的整数 $x, y, l$：表示 $x$ 号房间与  $y$ 号房间之间的通道长度为 $l$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一个整数：不同的城堡修建方案数对 $2^{31} -1$ 取模之后的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4 6\r\n1 2 1\r\n1 3 2\r\n1 4 3\r\n2 3 1\r\n2 4 2\r\n3 4 1\r\n```\r\n#### 样例输出\r\n```plain\r\n6\r\n```\r\n\r\n#### 样例说明\r\n一共有 $4$ 个房间，$6$ 条道路，其中 $1$ 号和 $2$ 号，$1$ 号和 $3$ 号，$1$ 号和 $4$ 号，$2$ 号和 $3$ 号，$2$ 号和 $4$ 号，$3$ 号和 $4$ 号房间之间的通道长度分别为 $1$，$2$，$3$，$1$，$2$，$1$。\r\n\r\n而不同的城堡修建方案数对 $2^{31} -1$ 取模之后的结果为 $6$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据，$ 1\\le N\\le 1000 $，$ 1\\le M\\le \\frac{N(N-1)}{2} $，$1\\le l\\le 200$。"}]}