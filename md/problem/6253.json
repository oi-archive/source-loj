{"title":"「CodePlus 2017 11 月赛」Yazid 的新生舞会","time_limit":4000,"memory_limit":256,"tags":["CodePlus"],"operation":{"submit":"https://loj.ac/problem/6253#submit_code","submissions":"https://loj.ac/submissions?problem_id=6253","statistics":"https://loj.ac/problem/6253/statistics/fastest","testdata":"https://loj.ac/problem/6253/testdata","discussion":"https://loj.ac/discussion/problem/6253"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"这道题是没有舞伴的 Yazid 用新生舞会的时间出的。\r\n\r\n---\r\n\r\nYazid 有一个长度为 $n$ 的序列 $A$，下标从 $1$ 至 $n$。显然地，这个序列共有 $\\frac{n\\left( n+1\\right)}{2}$ 个子区间。\r\n\r\n对于任意一个子区间 $[l,r]$，如果该子区间内的众数在该子区间的出现次数严格大于 $\\frac{r-l+1}{2}$（即该子区间长度的一半），那么 Yazid 就说这个子区间是「新生舞会的」。\r\n\r\n所谓众数，即为该子区间内出现次数最多的数。特别地，如果出现次数最多的数有多个，我们规定值最小的数为众数。\r\n\r\n现在，Yazid 想知道，共有多少个子区间是「新生舞会的」。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行 $2$ 个用空格隔开的非负整数 $n,type$，表示序列的长度和**数据类型**。数据类型的作用将在「子任务」中说明。\r\n\r\n第二行 $n$ 个用空格隔开的非负整数，依次为 $A_1,A_2,\\dots ,A_n$，描述这个序列。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5 0\r\n1 1 2 2 3\r\n```\r\n#### 样例输出 1\r\n```plain\r\n10\r\n```\r\n#### 样例解释 1\r\n「新生舞会的」子区间有 $[1,1],[1,2],[1,3],[2,2],[2,4],[3,3],[3,4],[3,5],[4,4],[5,5]$ 共 $10$ 个。\r\n\r\n#### 样例输入/输出 2\r\n见页面顶部「附加文件下载」中的 `2.in` 与 `2.ans`。\r\n\r\n#### 样例输入/输出 3\r\n见页面顶部「附加文件下载」中的 `3.in` 与 `3.ans`。\r\n\r\n#### 样例输入/输出 4\r\n见页面顶部「附加文件下载」中的 `4.in` 与 `4.ans`。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，保证 $1 \\leqslant n \\leqslant 500000$，$0\\leqslant A_i\\leqslant n-1$。\r\n\r\n---\r\n\r\n来自 CodePlus 2017 11 月赛，清华大学计算机科学与技术系学生算法与竞赛协会 荣誉出品。  \r\nCredit：idea/郑林楷　命题/王聿中　验题/郑林楷  \r\nGit Repo：https://git.thusaac.org/publish/CodePlus201711  \r\n感谢腾讯公司对此次比赛的支持。"}]}