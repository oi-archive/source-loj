{"title":"「BalticOI 2018」火星人的 DNA","time_limit":2000,"memory_limit":1024,"tags":["2018","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2775#submit_code","submissions":"https://loj.ac/submissions?problem_id=2775","statistics":"https://loj.ac/problem/2775/statistics/fastest","testdata":"https://loj.ac/problem/2775/testdata","discussion":"https://loj.ac/discussion/problem/2775"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [BalticOI 2018](https://boi2018.progolymp.se/tasks/) Day1「[Martian DNA](https://boi18-day1-open.kattis.com/problems/boi18.dna)」**\r\n\r\n给定一个字符集大小 $|\\Sigma| = K$ 的长度为 $N$ 的字符串和 $R$ 个要求，每个要求为使子串中的字符 $B$ 至少出现 $Q$ 次。求出满足所有要求的最短子串长度。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包括三个整数 $N,\\, K,\\, R$，分别表示字符串的长度、字符集的大小和要求个数，保证 $1\\leqslant R\\leqslant K\\leqslant N$。  \r\n第二行包含 $N$ 个用空格隔开的整数，表示这个字符串。字符从 $0$ 开始编号，每个字符集中的字符至少出现一次。  \r\n接下来的 $R$ 行，每行两个整数 $B$ 和 $Q$，表示一组要求，满足 $0\\leqslant B < K,\\, 1\\leqslant Q\\leqslant N$，同一个字符不会被重复要求两次。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，满足所有要求的最短子串长度。特别地，如果不存在这样的子串，输出 \"``impossible``\"。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n5 2 2\r\n0 1 1 0 1\r\n0 1\r\n1 1\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n2\r\n```\r\n\r\n#### 样例 1 解释\r\n\r\n有三个长度为 $2$ 的子串含有字符 $0$ 和 $1$ 各一个，分别为 ``0 1``、``1 0`` 和 ``0 1``，但是不存在长度为 $1$ 的子串满足要求，因此满足要求的最短子串的长度为 $2$。\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n13 4 3\r\n1 1 3 2 0 1 2 0 0 0 0 3 1\r\n0 2\r\n2 1\r\n1 2\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n7\r\n```\r\n\r\n#### 样例 2 解释\r\n\r\n最短的满足要求的子串为 ``1 3 2 0 1 2 0``。\r\n\r\n#### 样例输入 3\r\n\r\n```plain\r\n5 3 1\r\n1 2 0 1 2\r\n0 2\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```plain\r\nimpossible\r\n```\r\n\r\n#### 样例 3 解释\r\n\r\n在这个字符串中，``0`` 的数量不足。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| 子任务 | 分值 | 限制 |\r\n|:--------:|:------:|:------:|\r\n|$1$     |$16$  |$1\\leqslant N\\leqslant 100,\\, R\\leqslant 10$|\r\n|$2$     |$24$  |$1\\leqslant N\\leqslant 4\\, 000,\\, R\\leqslant 10$|\r\n|$3$     |$28$  |$1\\leqslant N\\leqslant 200\\, 000,\\, R\\leqslant 10$|\r\n|$4$     |$32$  |$1\\leqslant N\\leqslant 200\\, 000$|\r\n**请注意在 LibreOJ 上共有 $5$ 个子任务，其中第一个子任务为样例。**"}]}