{"title":"赛道修建","time_limit":3000,"memory_limit":1024,"tags":["bitset"],"operation":{"submit":"https://loj.ac/problem/6674#submit_code","submissions":"https://loj.ac/submissions?problem_id=6674","statistics":"https://loj.ac/problem/6674/statistics/fastest","testdata":"https://loj.ac/problem/6674/testdata","discussion":"https://loj.ac/discussion/problem/6674"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小 $\\clubsuit$ 是 OI 国马拉松协会的会长。有一天，他打算举办全国青少年马拉松奥林匹克联赛（National Olympiad in Marathon in Provinces, NOMP），于是准备在 OI 国中修建一条赛道。\r\n\r\nOI 国有 $n$ 个城市，一共有 $n - 1$ 条道路将它们连通。也就是说，OI 国的结构是一棵树。\r\n\r\n小 $\\clubsuit$ 会选择一个城市作为起点，再选择一个城市作为终点，这样赛道的长度就等于起点到终点路径上的边数。由于 OI 国的群众非常懒，所以赛道长为 $0$ 也是允许的。\r\n\r\n由于一些特殊原因，赛道的终点只能是一些特定的城市，而赛道的起点可以是任意一个城市。\r\n\r\n现在小 $\\clubsuit$ 想知道：对于每个城市，如果选择它作为起点，那么赛道的长度有几种可能的取值？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$。\r\n\r\n接下来一行 $n$ 个整数，第 $i$ 个整数如果为 $0$，表示城市 $i$ 不能作为终点；如果为 $1$，表示城市 $i$ 可以作为终点。\r\n\r\n接下来 $n - 1$ 行，每行两个整数 $u, v$($1 \\le u, v \\le n$)，表示有一条连接城市 $u$ 和城市 $v$ 的道路。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $n$ 行，第 $i$ 行一个整数，表示如果选择城市 $i$ 作为赛道的起点，赛道的长度有几种可能的取值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n6\r\n1 0 1 0 1 0\r\n1 2\r\n2 3\r\n3 4\r\n3 5\r\n2 6\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n3\r\n2\r\n3\r\n3\r\n3\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"子任务一：$n = 2000$，$30$ 分；  \r\n子任务二：$n = 50000$，$70$ 分。"}]}