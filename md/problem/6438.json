{"title":"框出一个正方形","time_limit":2000,"memory_limit":256,"tags":["数学","数论","计算几何","构造"],"operation":{"submit":"https://loj.ac/problem/6438#submit_code","submissions":"https://loj.ac/submissions?problem_id=6438","statistics":"https://loj.ac/problem/6438/statistics/fastest","testdata":"https://loj.ac/problem/6438/testdata","discussion":"https://loj.ac/discussion/problem/6438"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"（本题的最初想法非原创，原始链接有剧透，可参见讨论区）\r\n\r\n在平面直角坐标系中，你可以每次选择两个格点（$(x,y)$，其中 $x$ 和 $y$ 都是整数的点），然后做出过这两个点的直线。\r\n\r\n画出四条这样的直线，可以围成一个正方形，这个正方形具有面积 $S$。\r\n\r\n给定面积 $S$，是否存在一种方案能围出这个正方形？如果是，请给出一种构造。\r\n\r\n我们只考虑有理数 $S = p / q$ 的情况，而你的输出也必须是精确解。\r\n\r\n举例：\r\n\r\n- $1/2$、$5/2$、$4/5$ 可以构造\r\n- $1/4$、$2/3$ 不能构造\r\n- $12/15$ 就是 $4/5$，所以可以构造\r\n\r\n例如，下面是一个 $4/5$ 的构造\r\n\r\n![](https://dram.cf/repo/square.svg)"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行是一个整数 $T$，表示总共有 $T$ 组询问\r\n\r\n之后 $T$ 行，每行两个整数 $p$、$q$（$0 < p, q < 5 \\times 10^6$），表示本次询问的是 $S = p/q$ 的构造。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组询问，输出一行：\r\n\r\n- 如果给出的面积 $S$ 可以构造，输出 $16$ 个空格分隔的整数表示你的构造，包含：\r\n    - $4$ 条能围成面积为 $S$ 的正方形的线（不必在意线的顺序）\r\n    - 每条线 $2$ 个点\r\n    - 每个点两个整数 $x$ 和 $y$ 表示 $(x, y)$ 这个点，其中，$-2^{64} < x, y < 2^{64}$ （参见“数据范围与提示”）\r\n- 否则，面积 $S$ 不能构造，输出一行 `impossible`"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n2\r\n1 3\r\n4 5\r\n```\r\n#### 样例输出\r\n\r\n（一个可以接受的输出）\r\n\r\n```plain\r\nimpossible\r\n0 0 1 2 1 2 3 1 2 2 1 0 1 1 3 0\r\n```\r\n\r\n这里给出的 $4/5$ 的构造即是上文图中的构造，给出的 $4$ 条线依次是 $EA, AB, GF, DC$"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"总共有 $10$ 个测试点，每个测试点记 $10$ 分。其中：\r\n\r\n- 测试点 $1$ 的输入如下：\r\n  ```plain\r\n  5\r\n  4999889 3988009\r\n  4012009 4999762\r\n  3674633 4999348\r\n  4997709 2000066\r\n  4782969 1953125\r\n  ```\r\n- 对于测试点 $2 \\dots 5$，$T = 1$\r\n- 对于测试点 $6 \\dots 10$，$T = 20000$\r\n\r\n虽然检查器使用高精度整数读入答案，但是**极不推荐**输出绝对值超过 $2^{64}$ 的坐标值 $x$、$y$。这一点不应在解题过程之中产生限制。如果因坐标值绝对值过大且超出此范围，而导致无法正常评测，本题作者不接受为解决此问题改动题目的请求。"}]}