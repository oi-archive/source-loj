{"title":"「BalticOI 2016 Day1」螺旋","time_limit":1500,"memory_limit":256,"tags":["2016","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2782#submit_code","submissions":"https://loj.ac/submissions?problem_id=2782","statistics":"https://loj.ac/problem/2782/statistics/fastest","testdata":"https://loj.ac/problem/2782/testdata","discussion":"https://loj.ac/discussion/problem/2782"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一个矩阵的大小为 $(2n+1)\\times (2n+1)$，我们们通过下述方法填数：数字 $1$ 在中心，数字 $2$ 在其右，其他数字依次按照逆时针螺旋摆放。\r\n\r\n你的任务是对于 $q$ 个询问，计算出一个给定子矩阵所有数字的和对 $(10^9+7)$ 取余的结果。比如以下 $n=2$ 的矩阵，灰色区域的数字之和为 $74$：\r\n\r\n![](https://i.loli.net/2018/08/11/5b6e3ead24175.png)"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，两个整数 $n$ 和 $q$，分别表示矩阵的大小和询问的个数。\r\n\r\n接下来 $q$ 行，每行四个整数 $x_1,y_1,x_2$ 和 $y_2$ $(-n \\leq x_1 \\leq x_2 \\leq n,$ $-n \\leq y_1 \\leq y_2 \\leq n)$。这表示你需要计算一个对角为 $(x_1,y_1)$ 和 $(x_2,y_2)$ 的子矩阵的数字之和。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问，输出一行表示答案（对 $10^9+7$ 取余）。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n2 3\r\n0 -2 1 1\r\n-1 0 1 0\r\n1 2 1 2\r\n```\r\n#### 样例输出\r\n```plain\r\n74\r\n9\r\n14\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于每个子任务，$1 \\leq q \\leq 100$。\r\n\r\n|子任务|分数|数据范围|\r\n|:-:|:-:|-|\r\n|1|12|$1 \\leq n \\leq 1000$|\r\n|2|15|$1 \\leq n \\leq 10^9,x1=x2\\ \\mathrm{and}\\ y1=y2$|\r\n|3|17|$1 \\leq n \\leq 10^5$|\r\n|4|31|$1 \\leq n \\leq 10^9,x1=y1=1$|\r\n|5|25|$1 \\leq n \\leq 10^9$|"}]}