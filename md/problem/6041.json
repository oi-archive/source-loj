{"title":"「雅礼集训 2017 Day7」事情的相似度","time_limit":4000,"memory_limit":1024,"tags":["2017","雅礼集训","后缀数组","莫队","数据结构"],"operation":{"submit":"https://loj.ac/problem/6041#submit_code","submissions":"https://loj.ac/submissions?problem_id=6041","statistics":"https://loj.ac/problem/6041/statistics/fastest","testdata":"https://loj.ac/problem/6041/testdata","discussion":"https://loj.ac/discussion/problem/6041"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"人的一生不仅要靠自我奋斗，还要考虑到历史的行程。\r\n\r\n历史的行程可以抽象成一个 01 串，作为一个年纪比较大的人，你希望从历史的行程中获得一些姿势。\r\n\r\n你发现在历史的不同时刻，不断的有相同的事情发生。比如，有两个人同时在世纪之交 11 年的时候上台，同样喜欢与洋人谈笑风生，同样提出了以「三」字开头的理论。\r\n\r\n你发现，一件事情可以看成是这个 01 串的一个前缀，这个前缀最右边的位置就是这个事情的结束时间。\r\n\r\n两件事情的相似度可以看成，这两个前缀的最长公共后缀长度。\r\n\r\n现在你很好奇，在一段区间内结束的事情中最相似的两件事情的相似度是多少呢？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $ n $、$ m $，表示串长和询问个数。  \r\n第二行长度为 $ n $ 的 01 串，表示历史的行程。  \r\n接下来 $ m $ 行，每行两个正整数 $ l $、$ r $ 表示询问的区间，包括端点，保证 $ 1 \\leq l < r \\leq n $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $ m $ 行，对每个询问输出一个整数表示最大的相似度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 2\r\n0101\r\n1 3\r\n2 4\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|测试点|$ n = $|$ m = $\r\n|:---:|:---:|:---:|\r\n|1 ~ 2| $ 100 $ | $ 100 $ |\r\n|3 ~ 4| $ 300 $ | $ 1000 $ |\r\n|5 ~ 6| $ 5000 $ | $ 5000 $ |\r\n|7 ~ 10| $ 100000 $ | $ 300 $ |\r\n|11 ~ 14| $ 50000 $ | $ 50000 $ |\r\n|15 ~ 20| $ 100000 $ | $ 100000 $ |"}]}