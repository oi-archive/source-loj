{"title":"「CQOI2018」解锁屏幕","time_limit":1000,"memory_limit":256,"tags":["CQOI","2018"],"operation":{"submit":"https://loj.ac/problem/2536#submit_code","submissions":"https://loj.ac/submissions?problem_id=2536","statistics":"https://loj.ac/problem/2536/statistics/fastest","testdata":"https://loj.ac/problem/2536/testdata","discussion":"https://loj.ac/discussion/problem/2536"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"使用过 Android 手机的同学一定对手势解锁屏幕不陌生。 Android 的解锁屏幕由 $3 \\times 3$ 个点组成，手指在屏幕上画一条线，将其中一些点连接起来，即可构成一个解锁图案。如下面三个例子所示：\r\n\r\n\r\n![无标题.png](https://i.loli.net/2018/04/30/5ae686d6cd485.png)\r\n![无标题.png](https://i.loli.net/2018/04/30/5ae686e313950.png)\r\n![无标题.png](https://i.loli.net/2018/04/30/5ae686f2b5832.png)\r\n\r\n\r\n画线时还需要遵循一些规则：\r\n1. 连接的点数不能少于 $4$ 个。也就是说只连接两个点或者三个点会提示错误。\r\n2. 两个点之间的联线不能弯曲。\r\n3. 每个点只能“使用”一次，不可重复。这里的“使用”是指手指划过一个点，该点变绿。\r\n4. 两个点之间的连线不能“跨过”另一个点，除非那个点之前已经被“使用”过。\r\n\r\n对于最后一条规则，参见下图的解释。左边两幅图违反了该规则；而右边两幅图（分别为 $ 2 \\rightarrow 4 \\rightarrow 1 \\rightarrow 3 \\rightarrow 6$ 和 $ 6 \\rightarrow 5 \\rightarrow 4 \\rightarrow 1 \\rightarrow 9 \\rightarrow 2$ ）则没有违反规则，因为在“跨过”点时，点已经被使用过了。\r\n\r\n![无标题.png](https://i.loli.net/2018/04/30/5ae6871be5103.png)\r\n\r\n现在工程师希望改进解锁屏幕，增减点的数目，并移动点的位置，不再是一个九宫格形状，但保持上述画线规则不变。\r\n\r\n请计算新的解锁屏幕上，一共有多少满足规则的画线方案。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入第一行为一个整数 $n$ ，表示点的数目。   \r\n接下来 $n$ 行，每行两个空格分开的整数 $x_i$ 和 $y_i$ ，表示每个点的坐标。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共一行，为题目所求方案数除以 $100000007$ 的余数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4\r\n0 0\r\n1 1\r\n2 2\r\n3 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n8\r\n```\r\n\r\n#### 样例解释 1\r\n设 $4$ 个点编号为 $1$ 到 $4$ ，方案有 $1 \\rightarrow 2 \\rightarrow 3 \\rightarrow 4$ ， $2 \\rightarrow 1 \\rightarrow 3 \\rightarrow 4$ ，  $3 \\rightarrow 2 \\rightarrow 1 \\rightarrow 4$ ，  $2 \\rightarrow 3 \\rightarrow 1 \\rightarrow 4$ 以及它们的镜像。\r\n\r\n#### 样例输入 2\r\n```plain\r\n4\r\n0 0\r\n0 1\r\n0 2\r\n1 0\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n18\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据， $1 \\le n \\le 10$ 。     \r\n对于 $100\\%$ 的数据， $-1000 \\le x_i ,y_i \\le 1000$ ， $ 1 \\le n < 20$ 。各点坐标不相同。"}]}