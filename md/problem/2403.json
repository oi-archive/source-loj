{"title":"「THUPC 2017」机场 / Airport","time_limit":1000,"memory_limit":512,"tags":["2017","THUPC","费用流"],"operation":{"submit":"https://loj.ac/problem/2403#submit_code","submissions":"https://loj.ac/submissions?problem_id=2403","statistics":"https://loj.ac/problem/2403/statistics/fastest","testdata":"https://loj.ac/problem/2403/testdata","discussion":"https://loj.ac/discussion/problem/2403"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"飞机场有 $a+b$ 个停机位，其中 $a$ 个停机位有登机桥连接飞机和候机厅，乘客可以通过登机桥直接由候机厅登上飞机；另外 $b$ 个停机位没有登机桥和候机厅相连，所以乘客登机需要先搭乘摆渡车再登机。\r\n\r\n毫无疑问，搭乘摆渡车的体验是非常差的，所以每位搭乘摆渡车的乘客都会产生不愉快度。\r\n\r\n现在，给定每架飞机的乘客数量，登机时间和起飞时间；飞机需要在登机时间点选择一个空闲的停机位，在这个时间点内所有乘客会完成登机，然后飞机会一直停在该停机位，直到起飞时间；\r\n\r\n若某飞机在时刻 $x$ 起飞，则在时刻 $x$ 该飞机所在的停机位是空闲的。\r\n\r\n飞机场的管理层希望能够尽量减少乘客的不愉快度，为此飞机在登机时间到起飞时间之间，可以切换停机位；\r\n\r\n假设某飞机从 $x$ 时间开始由停机位 A 切换到停机位 B，那么停机位 A 在 $x+1$ 时间是空闲的。能进行这样的切换当且仅当停机位 B 在 $x+1$ 时间是空闲的。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入有多组数据，第一行一个正整数 $T$ 表示数据组数；对于每组数据：\r\n\r\n第一行输入三个非负整数 $n,a,b$，分别表示飞机数量、有登机桥的停机位数量、没有登机桥的停机位数量；\r\n\r\n第二行一个浮点数 $p$，输入最多保留小数点后两位；\r\n\r\n接下来 $n$ 行，每行三个正整数 $x,s,t$，描述一架飞机的乘客数量、登机时间和起飞时间。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组数据，输出一行一个整数，表示最小的不愉快度。\r\n\r\n如果无法安排一个合理的方案使得所有飞机都完成登机，则输出 `impossible`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n2\r\n3 1 1\r\n0.5\r\n1 1 5\r\n1 1 5\r\n1 1 5\r\n6 2 2\r\n0.5\r\n4 1 4\r\n4 2 7\r\n8 4 8\r\n8 4 8\r\n10 5 9\r\n1 7 9\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nimpossible\r\n7\r\n```\r\n\r\n#### 样例解释\r\n\r\n飞机从 $1$ 开始编号\r\n\r\n在时刻 $1$，$1$ 号飞机安排到登机桥 A，乘客开始登机；目前 $1$ 号飞机在登机桥 A。\r\n\r\n在时刻 $2$，$2$ 号飞机安排到登机桥 B，乘客开始登机；目前 $1$ 号飞机在登机桥 A，$2$ 号飞机在登机桥 B。\r\n\r\n在时刻 $3$，$2$ 号飞机切换到摆渡车 A，此时登机桥 B 尚不可用。\r\n\r\n在时刻 $4$，$1$ 号飞机起飞，$2$ 号飞机到达摆渡车 A，$3$ 号飞机安排到登机桥 A，$4$ 号飞机安排到登机桥 B，$3$ 号和 $4$ 号的乘客开始登机，登机完成之后 $3$ 号飞机切换到摆渡车 B，此时登机桥 A 和登机桥 B 都不空闲。\r\n\r\n在时刻 $5$，$3$ 号飞机到达摆渡车 B，登机桥 A 变为可用，$5$ 号飞机安排到登机桥 A，开始登机；目前 $5$ 号——登机桥 A，$4$ 号——登机桥 B，$3$ 号——摆渡车 B，$2$ 号——摆渡车 A。\r\n\r\n在时刻 $7$，$2$ 号飞机起飞，$6$ 号飞机安排到摆渡车 A。\r\n\r\n不愉快度为 $7= 1$（$6$ 号飞机乘客乘摆渡车）$+4 \\times 0.5$（$2$ 号飞机切换停机位）$+8 \\times 0.5$（$3$ 号飞机切换停机位）"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\le T \\le 8$\r\n\r\n$ 1 \\le n \\le 200$\r\n\r\n$0 \\le p \\le 1$\r\n\r\n$ 1 \\le x \\le 100000; 1 \\le s < t \\le 10^{9}$"}]}