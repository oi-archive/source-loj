{"title":"「YNOI2016」镜中的昆虫","time_limit":2000,"memory_limit":512,"tags":[],"operation":{"submit":"https://loj.ac/problem/6201#submit_code","submissions":"https://loj.ac/submissions?problem_id=6201","statistics":"https://loj.ac/problem/6201/statistics/fastest","testdata":"https://loj.ac/problem/6201/testdata","discussion":"https://loj.ac/discussion/problem/6201"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":">镜子的世界里会有美丽的东西吗？  \r\n>镜子的世界里会有快乐的事情吗？  \r\n>镜子世界的我，像我一样摆着一副无聊的表情  \r\n> ——出自《镜之国的爱丽丝》  \r\n>![1.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/ftc1.png)  \r\n>两个少女的战斗故事。  \r\n>文学代表强烈的意志，化学是对抗物理世界的力量。  \r\n>她们只有这两样对抗现实的武器。  \r\n>![2.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/ftc2.png)  \r\n>啊，勒布雷！  \r\n>我今天要登上乳白色的月球了！  \r\n>不需要发明是机器，真是如此，我要一跃而出！  \r\n>没错朋友！那个月亮的世界！  \r\n>才是为我们创造的世界！  \r\n>不止一个我所爱的人，大概都被放逐到那里……然后在等着我……  \r\n>苏格拉底！伽利略！  \r\n>物质的基本要素的灵魂就是……  \r\n>这是……不，这有问题……哥白尼说过！  \r\n>没错朋友们，究竟为何，会中了魔障？  \r\n>究竟为何，会中了魔障，他到底去双桅战船上干什么呢？  \r\n>作为哲学家！  \r\n>物理学家！  \r\n>诗人！  \r\n>剑客！  \r\n>音乐家！  \r\n>空中旅行家！  \r\n>针尖对麦芒的辩士！  \r\n>他无所不能。  \r\n>作为至高……但是……  \r\n>却又一事无成……  \r\n>……没错，你们这些家伙，想夺走我的一切！  \r\n>……来，夺走吧，夺走就是了……  \r\n>但是……无论你们再怎么叫嚷，在去往新世界的路上，我还是会带走一个！  \r\n>让我看看你坚强的心吧！  \r\n>没错，你帽子上的羽饰！  \r\n>象征你内心的勇气的纹章……毛子上的羽饰！  \r\n>对不起，我该走了，我不能让人久等！  \r\n>你们看……月亮来迎接我了！  \r\n>Mon panache！  \r\n>![3.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/ftc3.png)  \r\n>我往空中踏出一步  \r\n>两人拼命地想要拉住我  \r\n>但是我往空中踏出一步  \r\n>没错  \r\n>我要为了崭新的世界，从天而降  \r\n>为了获得新的力量  \r\n>为了新的真实  \r\n>我踏出了这一步  \r\n>从手上，感到了两人的颤抖  \r\n>没关系……  \r\n>我在你们身边！  \r\n>Sora！  \r\n>![4.png](https://herano.coding.net/p/PicPlace/d/PicPlace/git/raw/master/ftc4.png)  \r\n>我完全投身于空中  \r\n>我的身体瞬间从空中向地面落去  \r\n>我紧紧地握住两人手腕，拉着两人  \r\n>看见两人的表情……  \r\n>她们边哭边笑……  \r\n>似乎很害怕……  \r\n>却又似很高兴的表情……  \r\n>啊……  \r\n>什么嘛，飞翔好舒服啊  \r\n>宛如变成了天使一般……  \r\n>好快的速度……  \r\n>好快的风……  \r\n>但是却听不见声音……  \r\n>世界在静静地回转  \r\n>已经，马上就要到地面了……  \r\n>空气力学的先驱者……  \r\n>我知道一切都在回转的天空，  \r\n>还有包容着我的大地  \r\n>还差一点，就抵达世界了……  \r\n>还差一点，就抵达地面了……  \r\n>接近着的影子  \r\n>地面映出我的身影  \r\n\r\n您正在欣赏 galgame 的 HS，然后游戏崩溃了，于是您只能做数据结构题了：\r\n\r\n维护一个长为 $n$ 的序列 $a_i$，有 $m$ 次操作。\r\n\r\n1.\t将区间 $[ l ,r ]$ 的值修改为 $x$。\r\n\r\n2.\t询问区间 $[ l , r ]$ 出现了多少种不同的数。\r\n\r\n也就是说同一个数出现多次只算一个。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个数 $n , m$。\r\n\r\n第二行 $n$ 个数表示 $a_i$。\r\n\r\n后面 $m$ 行每行为 $1$ $l$ $r$ $x$ 或者 $2$ $l$ $r$，分别表示修改和询问。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问，输出一个数表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 5\r\n1 2 3 4 5\r\n2 1 5\r\n1 2 3 4\r\n2 1 5\r\n2 3 3\r\n2 2 4\r\n```\r\n#### 样例输出\r\n```plain\r\n5\r\n3\r\n1\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n,m \\leq 10^{5}$ , $1 \\leq a_i \\leq 10^{9}$\r\n"}]}