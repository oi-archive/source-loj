{"title":"「SCOI2011」镜像拆分","time_limit":1000,"memory_limit":256,"tags":["SCOI","2011"],"operation":{"submit":"https://loj.ac/problem/2439#submit_code","submissions":"https://loj.ac/submissions?problem_id=2439","statistics":"https://loj.ac/problem/2439/statistics/fastest","testdata":"https://loj.ac/problem/2439/testdata","discussion":"https://loj.ac/discussion/problem/2439"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" lxhgww 非常喜欢数字游戏，他发现，很多数都可以表示成两个相互反转的数之和，他把这个现象称为数的“镜像拆分”。比如 $66$ 共有五种镜像拆分方法：  \r\n\r\n  - $66=15+51$   \r\n  - $66=24+42$  \r\n  - $66=33+33$  \r\n  - $66=42+24$  \r\n  - $66=51+15$  \r\n\r\n注意，前导 $0$ 是不允许的，所以 $66=60+06$ 不算做合法的镜像拆分。     \r\n现在 lxhgww 想知道，在 $K$ 进制下，对于在 $[A,B]$ 区间内的数，其镜像拆分的方案数之和是多少？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行是一个数 $K$ 。  \r\n输入的第二行是一个数 $n$ ，表示数字 $A$ 的长度。  \r\n接下来 $n$ 行，表示 $A$ 从低位开始的每一位数字。  \r\n然后是一个数 $m$ ，表示数字 $B$ 的长度。  \r\n接下来 $m$ 行，表示 $B$ 从低位开始的每一位数字。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行，包一个整数，表示镜像拆分的方案数之和。由于这个答案非常大，只需要输出这个答案除以 $20110521$ 的余数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n10\r\n2\r\n6\r\n6\r\n2\r\n6\r\n6\r\n```\r\n\r\n#### 输出样例 1\r\n```plain\r\n5\r\n```\r\n\r\n#### 输入样例 2 \r\n```plain\r\n10\r\n1\r\n1\r\n4\r\n0\r\n0\r\n0\r\n1\r\n```\r\n\r\n#### 输出样例 2\r\n```plain\r\n410\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据， $2 \\le K \\le 100 , 1 \\le n , m \\le 100$ 。   \r\n对于 $50\\%$ 的数据， $2 \\le K \\le 10^3 , 1 \\le n , m \\le 10^3$ 。   \r\n对于 $100\\%$ 的数据， $2 \\le K \\le 10^5 , 1 \\le n , m \\le 10^5 , 0<A \\le B$ ，且 $A$ ， $B$ 的每一位数字都在 $[0,K-1]$ 的范围内，没有前导 $0$ 。"}]}