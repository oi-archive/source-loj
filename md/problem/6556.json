{"title":"「CERC2018」Matrice","time_limit":1000,"memory_limit":1024,"tags":["2018","ICPC","前缀和","字符串"],"operation":{"submit":"https://loj.ac/problem/6556#submit_code","submissions":"https://loj.ac/submissions?problem_id=6556","statistics":"https://loj.ac/problem/6556/statistics/fastest","testdata":"https://loj.ac/problem/6556/testdata","discussion":"https://loj.ac/discussion/problem/6556"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [CERC 2018](https://contest.felk.cvut.cz/18cerc/)「[J. Matrice](https://contest.felk.cvut.cz/18cerc/solved/matrice.pdf)」**\r\n\r\n特工 Sue Thomas 和她的儿子正在网格中寻找 trinity。trinity 是一个新词，正如词素 tri 所示，指的是由网格中单元格组成的三角形。\r\n\r\n每个 trinity 是一个正方形的单元格区域去除某对角线上方或下方的部分（一个等腰直角三角形，两腰分别与网格两边分别平行）。对角线可以是主对角线（东南-西北方向），也可以是副对角线（西南-东北方向）。一个合法的 trinity 至少包含三个单元格，并且所有单元格中字符都相同。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行是两个整数 $N,M$，分别表示这个网格的行数和列数。\r\n\r\n接下来 $N$ 行每行一个长为 $M$ 的字符串，表示这个网格。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出网格中所有不同合法的 trinity 个数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 2\r\nAA\r\nAd\r\n```\r\n#### 样例输出 1\r\n```plain\r\n1\r\n```\r\n#### 样例输入 2\r\n```plain\r\n5 5\r\n#####\r\n####.\r\n###..\r\n##...\r\n#....\r\n```\r\n#### 样例输出 2\r\n```plain\r\n60\r\n```\r\n#### 样例输入 3\r\n```plain\r\n5 4\r\nhwwr\r\neahe\r\nlroy\r\nlswo\r\noaau\r\n```\r\n#### 样例输出 3\r\n```plain\r\n0\r\n```\r\n#### 样例输入 4\r\n```plain\r\n5 6\r\n#girls\r\n##areb\r\n#.#est\r\n#..#!!\r\n#####!\r\n```\r\n#### 样例输出 4\r\n```plain\r\n7\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1\\le N,M\\le 10^3$，保证输入中出现的字符 ASCII 码在 $33$ 到 $126$ 之间。"}]}