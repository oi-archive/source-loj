{"title":"「CCO 2020」千山万壑","time_limit":7000,"memory_limit":512,"tags":["CCO","2020"],"operation":{"submit":"https://loj.ac/problem/3319#submit_code","submissions":"https://loj.ac/submissions?problem_id=3319","statistics":"https://loj.ac/problem/3319/statistics/fastest","testdata":"https://loj.ac/problem/3319/testdata","discussion":"https://loj.ac/discussion/problem/3319"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [CCO 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) Day1 T3「[Mountains and Valleys](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day1.pdf)」**，翻译者：[PinkRabbit](/user/9437)。\r\n\r\n---\r\n\r\n给定一张 $N$ 个点 $M$ 条边的无向图，节点的标号为 $0 \\sim (N - 1)$，其中边有正整数边权。\r\n\r\n特别地，有恰好 $N - 1$ 条边的边权为 $1$，且仅考虑这些边时，图形成了一棵树。而对于其它边，它们的边权至少为 $\\displaystyle \\left\\lceil \\frac{N}{3} \\right\\rceil$。\r\n\r\n请你找出一条路径，可以从任意节点出发，并最终在任意节点停下，但需要经过每一个节点至少一次，且最小化总边权。注意，如果你经过一条边权为 $d$ 的边 $k$ 次，那么这条边会为总边权贡献 $k \\cdot d$。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个正整数 $N, M$。  \r\n接下来 $M$ 行，每行三个正整数 $x_i, y_i, w_i$，表示一条连接着节点 $x_i$ 和 $y_i$ 的边权为 $w_i$ 的边。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个数表示最小的总边权。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n9 10\r\n0 1 1\r\n0 2 1\r\n0 3 1\r\n1 4 1\r\n2 5 1\r\n2 6 1\r\n3 7 1\r\n3 8 1\r\n2 4 5\r\n6 7 3\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n11\r\n```\r\n\r\n#### 样例解释\r\n\r\n![](https://loj-img.upyun.menci.memset0.cn/2020/06/22/5ef076f05982a.png)\r\n\r\n最优方案之一为路径 $4 \\to 1 \\to 0 \\to 2 \\to 5 \\to 2 \\to 6 \\to 7 \\to 3 \\to 8$，总边权为 $1 + 1 + 1 + 1 + 1 + 1 + 3 + 1 + 1 = 11$。不存在总边权更小的能够经过每个点至少一次的路径。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，保证 $4 \\le N \\le 5 \\times {10}^5$，$N - 1 \\le M \\le 2 \\times {10}^6$，$0 \\le x_i, y_i < N$，$w_i = 1$ 或 $\\displaystyle \\left\\lceil \\frac{N}{3} \\right\\rceil \\le w_i \\le N$，无重边或自环。\r\n\r\n| 子任务编号 | 分值 | $N \\le$ | $M \\le$ | 特殊限制 |\r\n| :-: | :-: | :-: | :-: | :-: |\r\n| $1$ | $4$ | $6$ | $10$ | 无特殊限制 |\r\n| $2$ | $8$ <!-- --> | $20$ | $40$ | 无特殊限制 |\r\n| $3$ | $8$ | $5000$ | $10000$ | $w_i = 1$ 或 $\\displaystyle \\left\\lceil \\frac{N}{2} \\right\\rceil \\le w_i \\le N$ |\r\n| $4$ | $24$ | $100$ | $200$ | 无特殊限制 |\r\n| $5$ | $8$ | $500$ |  $1000$  | 无特殊限制 |\r\n| $6$ | $12$ | $5000$ | $10000$ | 无特殊限制 |\r\n| $7$ | $20$ | $80000$ | $160000$ | 无特殊限制 |\r\n| $8$ | $16$ | 无特殊限制 | 无特殊限制 | 无特殊限制 |"}]}