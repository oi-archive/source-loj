{"title":"西湖观光","time_limit":1000,"memory_limit":64,"tags":["DP"],"operation":{"submit":"https://loj.ac/problem/6706#submit_code","submissions":"https://loj.ac/submissions?problem_id=6706","statistics":"https://loj.ac/problem/6706/statistics/fastest","testdata":"https://loj.ac/problem/6706/testdata","discussion":"https://loj.ac/discussion/problem/6706"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"2020 年 10 月 7 日，$\\text{Jary}$ 与她的同学们结束了为期七天的 $\\text{qblt}$ 的集训，决定到西湖周围游玩一番。\r\n\r\n在坐的士前往西湖的路上， $\\text{Jary}$ 不禁想起去年学长们的经历，特意提前找来了西湖的旅游地图决定好好计划一番。\r\n\r\n$\\text{Jary}$ 发现西湖附近共有 $n$ 处景点，景点与景点之间有 $m$ 条单向的道路，第 $i$ 条道路的长度为 $dis_i$，到达西湖后，她们将从第 $s$ 处景点出发，并在游览完第 $t$ 处景点后踏上回宾馆的路。\r\n\r\n「嗯……还得考虑不同景点的风景和我们的精力」 $\\text{Jary}$ 喃喃道。\r\n\r\n根据网络上的评价， $\\text{Jary}$ 给不同的景点设定了一个观赏值 $val_i$ ，由于景区中需要徒步行走，同学们也会不断消耗体力， $\\text{Jary}$ 认为消耗的体力是途径的所有道路的长度之和。\r\n\r\n「太疲倦的话，大概就没心情欣赏美景了吧」\r\n\r\n采纳了同学们的建议，大家一致认为当消耗了 $sum$ 的体力后，欣赏第 $u$ 处景点只能增加 $\\left\\lceil\\frac{val_{ u\r\n}}{sum}\\right\\rceil$ 点心情值。\r\n\r\n$\\text{Jary}$ 还发现景区中各处都配有观光车，但是她们带的钱只够乘坐 $k$ 次，在车上同学们可以有一定时间休息，换句话说，坐车经过一条长为 $dis_i$ 的道路，会使 $sum$ 减少 $dis_i$（ $sum$ 初始为 $1$ ，若减少后小于 $1$ 也视为 $1$ ），现在 $\\text{Jary}$ 想知道怎样安排行程才能得到尽可能多的心情值，你需要帮她求出这个最大值。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含五个整数 $n,\\,m,\\,k,\\,s,\\,t$ ，含义见题面。\r\n\r\n第二行包含 $n$ 个整数，第 $i$ 个数表示第 $i$ 个景点的观赏值 $val_i$。\r\n\r\n下面 $m$ 行，每行三个整数 $u,\\,v,\\,w$ ，表示景点 $u,\\,v$ 直接有一条长度为 $w$ 的单向道路，数据保证所有边不成环。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出包含一个数，表示 $\\text{Jary}$ 一行人能取得的最大心情值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n7 8 1 1 7\r\n5 7 2 8 3 4 6\r\n1 2 4\r\n1 3 3\r\n1 5 1\r\n2 4 1\r\n3 6 2\r\n4 7 2\r\n5 7 7\r\n6 7 5\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n18\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，保证 $n\\le200,\\;m\\le500,\\;k\\le5,\\;\\sum dis_i\\le10^4$"}]}