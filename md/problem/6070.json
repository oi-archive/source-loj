{"title":"「2017 山东一轮集训 Day4」基因","time_limit":2000,"memory_limit":512,"tags":["2017","山东省队集训","标签待整理"],"operation":{"submit":"https://loj.ac/problem/6070#submit_code","submissions":"https://loj.ac/submissions?problem_id=6070","statistics":"https://loj.ac/problem/6070/statistics/fastest","testdata":"https://loj.ac/problem/6070/testdata","discussion":"https://loj.ac/discussion/problem/6070"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定一个长度为 $ n $ 的字符串 $ s $，有 $ q $ 组询问，每个询问给定 $ l, r $，询问 $ s[l \\ldots r] $ 中有多少本质不同的回文子串。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $ \\text{type} $，若 $ \\text{type} = 0 $，表示这个数据没有进行加密，若 $ \\text{type} = 1 $，表示这个数据进行了加密。  \r\n第二行两个整数 $ n, q $。  \r\n第三行一个字符串 $ s $。  \r\n接下来 $ q $ 行，每行两个整数 $ l', r' $。记 $ \\text{lastAns} $ 为上一次询问的答案，若这是第一次询问，$ \\text{lastAns} = 0 $，则这次猜测的 $ l, r $ 为 $ l = l' \\mathbin{\\text{xor}} (\\text{type} \\times \\text{lastAns}), r = r' \\mathbin{\\text{xor}} (\\text{type} \\times \\text{lastAns}) $。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出共 $ q $ 行，代表每个询问的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n1\r\n8 4\r\nabbabbba\r\n1 7\r\n3 2\r\n6 10\r\n1 0\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n7\r\n2\r\n5\r\n2\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$n\\le 100000,q\\le 2n$，解密后 $1\\le l\\le r\\le n$，字符串字符集为小写英文字母。\r\n\r\n对于 $ 5\\% $ 的数据，$ n \\leq 100; \\text{type} = 1 $；  \r\n对于另外 $ 15\\% $ 的数据，$ n \\leq 1000; \\text{type} = 1 $；  \r\n对于另外 $ 15\\% $ 的数据，$ n \\leq 30000; \\text{type} = 0 $；  \r\n对于另外 $ 15\\% $ 的数据，$ n \\leq 100000; \\text{type} = 0 $；  \r\n对于另外 $ 50\\% $ 的数据，$ n \\leq 100000; \\text{type} = 1 $。"}]}