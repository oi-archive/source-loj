{"title":"「JOI 2013 Final」彩灯","time_limit":1000,"memory_limit":256,"tags":["2013","JOI","模拟"],"operation":{"submit":"https://loj.ac/problem/2761#submit_code","submissions":"https://loj.ac/submissions?problem_id=2761","statistics":"https://loj.ac/problem/2761/statistics/fastest","testdata":"https://loj.ac/problem/2761/testdata","discussion":"https://loj.ac/discussion/problem/2761"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [JOI 2013 Final](https://www.ioi-jp.org/joi/2012/2013-ho/index.html) T1「[電飾](https://www.ioi-jp.org/joi/2012/2013-ho/2013-ho.pdf)」**\r\n\r\n每年 JOI 高中的文化祭上，走廊上都会有彩灯装饰。共有 $ N $ 个彩灯，从走廊的西侧到东侧排成一列。每个彩灯要么亮要么不亮。\r\n\r\nJOI 高中的仓库里沉睡着一台能够对彩灯进行操作的机器。对于指定的连续的一段彩灯，此机器能将这些彩灯中所有亮的变成不亮的，所有不亮的变成亮的。但是由于这个机器已经老化了，所以最多只能使用一次。\r\n\r\nJOI 高中的学生们很喜欢彩灯的交替列（亮的彩灯和不亮的彩灯交替排列的一段连续的彩灯）。他们希望能够在必要时使用一次这个机器，使得所有彩灯中所含的最长的交替列最长。\r\n\r\n#### 例子\r\n例如，彩灯从西向东依次为：\r\n\r\n![TIM20180807230724.png](https://www.z4a.net/images/2018/08/07/TIM20180807230724.png)\r\n\r\n（$ ○ $ 表示亮的彩灯， $ ● $ 表示不亮的彩灯）。此时，对从第 $ 4 $ 个彩灯到第 $ 7 $ 个彩灯进行操作。\r\n\r\n![TIM20180807230736.png](https://www.z4a.net/images/2018/08/07/TIM20180807230736.png)\r\n\r\n这样，第 $ 2 $ 个彩灯到第 $ 8 $ 个彩灯之间的彩灯组成了长为 $ 7 $ 的交替列。\r\n\r\n![TIM20180807230748.png](https://www.z4a.net/images/2018/08/07/TIM20180807230748.png)\r\n\r\n另外，可以对第 $ 8 $ 个彩灯进行操作。\r\n\r\n![TIM20180807230754.png](https://www.z4a.net/images/2018/08/07/TIM20180807230754.png)\r\n\r\n这样，第 $ 4 $ 个彩灯到第 $ 10 $ 个彩灯之间的彩灯组成了长为 $ 7 $ 的交替列。\r\n\r\n![TIM20180807230804.png](https://www.z4a.net/images/2018/08/07/TIM20180807230804.png)\r\n\r\n使用一次此机器不可能有长度为 $ 8 $ 或以上的交替列。\r\n\r\n#### 任务\r\n给出每个彩灯的情况，求出在最多使用一次机器的情况下，最长交替列长度的最大值。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入标准如下：\r\n- 第一行为一个整数 $ N $；  \r\n- 第二行为 $ N $ 个以空格分开的数字 $ 0 $ 或 $ 1  $ ，表示机器操作前的彩灯的情况。第 $ i(1 \\leq i \\leq N) $ 个数字表示从西侧开始的第 $ i $ 个彩灯的状态，为 $ 1 $ 表示彩灯是亮的，为 $ 0 $ 表示彩灯是不亮的。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数：表示可能的最长交替列的最大长度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n10\r\n1 1 0 0 1 0 1 1 1 0\r\n```\r\n#### 输出样例 1\r\n```plain\r\n7\r\n```\r\n#### 样例说明 1\r\n这就是题目描述中的例子。\r\n#### 输入样例 2\r\n```plain\r\n10\r\n1 0 0 0 0 1 0 1 0 1\r\n```\r\n#### 输出样例 2\r\n```plain\r\n8\r\n```\r\n#### 样例说明 2\r\n对从西侧开始的第 $ 4 $ 个彩灯进行操作，得到长度为 $ 8 $ 的最长交替列。\r\n#### 输入样例 3\r\n```plain\r\n5\r\n1 1 0 1 1\r\n```\r\n#### 输出样例 3\r\n```plain\r\n5\r\n```\r\n#### 样例说明 3\r\n对从西侧开始第 $ 2 $ 个彩灯到第 $ 4 $ 个彩灯进行操作，所有彩灯共同构成最长交替列。\r\n#### 输入样例 4\r\n```plain\r\n3\r\n0 1 0\r\n```\r\n#### 输出样例 4\r\n```plain\r\n3\r\n```\r\n#### 样例说明 4\r\n注意：存在不使用机器而能达到最大值的情况。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 20\\% $ 的分值：\r\n- $ N \\leq 500 $\r\n\r\n对于 $ 40\\% $ 的分值：\r\n- $ N \\leq 2000 $\r\n\r\n对于 $ 100\\% $ 的数据：\r\n- $ 2 \\leq N \\leq 10^5 $"}]}