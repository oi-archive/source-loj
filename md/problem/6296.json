{"title":"迷失的字符串","time_limit":1000,"memory_limit":1024,"tags":["标签待整理"],"operation":{"submit":"https://loj.ac/problem/6296#submit_code","submissions":"https://loj.ac/submissions?problem_id=6296","statistics":"https://loj.ac/problem/6296/statistics/fastest","testdata":"https://loj.ac/problem/6296/testdata","discussion":"https://loj.ac/discussion/problem/6296"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"来源：[Claris](/user/192)，另见 [BZOJ 4713](http://www.lydsy.com/JudgeOnline/problem.php?id=4713)。\r\n\r\n一棵树有 $n$ 个结点，树上每条边都有一个小写字母。  \r\n对于任意两个不同的点 $u,v$，我们可以在树上找到以 $u$ 为起点，以 $v$ 为终点的唯一一条最短路径，并将沿途经过的边上的字符依次写下来，得到一个字符串。  \r\n对于一个字符串，如果存在一个点对 $(u,v)$，使得它们路径上的字符串与其完全匹配，那么我们就称这个字符串属于这棵树。  \r\n现在有 $m$ 个迷失的字符串，请你写一个程序帮助判断每一条字符串是否属于这棵树。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个正整数 $n$，表示树的点数。  \r\n接下来 $n-1$ 行，每行包含两个正整数 $a, b$ 和一个小写字符 $c(1\\le a, b\\le n, a≠b)$，表示点 $a, b$ 间有一条边，边上的字符为 $c$。  \r\n接下来一行包含一个正整数 $m$，表示迷失的字符串的个数。  \r\n接下来 $m$ 行，每行一个由小写字符组成的字符串，分别表示每个迷失的字符串。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"包含 $m$ 行，对于第 $i$ 行，如果在树上可以找到第 $i$ 个字符串，输出 `YES`，否则输出 `NO`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4\r\n1 2 b\r\n1 4 a\r\n2 3 c\r\n9\r\nbc\r\ncb\r\nb\r\nc\r\nd\r\naa\r\nab\r\nabc\r\ncba\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nYES\r\nYES\r\nYES\r\nYES\r\nNO\r\nNO\r\nYES\r\nYES\r\nYES\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2\\le n\\le 30000, 1\\le m\\le 30000$，所有迷之字符串的长度之和不超过 $30000$。"}]}