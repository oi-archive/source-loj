{"title":"「HAOI2017」供给侧改革","time_limit":2000,"memory_limit":256,"tags":["2017","HAOI","字符串","数据结构"],"operation":{"submit":"https://loj.ac/problem/2313#submit_code","submissions":"https://loj.ac/submissions?problem_id=2313","statistics":"https://loj.ac/problem/2313/statistics/fastest","testdata":"https://loj.ac/problem/2313/testdata","discussion":"https://loj.ac/discussion/problem/2313"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Anihc 国提高社会生产力水平，落实好以人民为中心的发展思想。决定进行供给侧结构性改革。\r\n\r\n为了提高供给品质，你调查了某个产业近来 $ n $ 个时期的供求关系平衡情况，每个时期的情况都用 $ 0 $ 或 $ 1 $ 中的一个数字来表示，于是这就是—个长度为 $ n $ 的 $ 01 $ 字符串 $S$ 。为了更好的了解这一些数据，你需要解决一些询问，我们令 $ \\operatorname{data}(l,r) $ 表示：在字符串 $S$ 中，起始位置在$ [l,r] $之间的这些后缀之中，具有最长公共前缀的两个后缀的最长公共前缀的长度。\r\n\r\n对于每一个询问 $ L , R $。求\r\n\r\n$$ \\mathit{ans} = \\sum\\limits_{ L \\le i \\lt R } \\operatorname{data}(i, R) $$\r\n\r\n由于你其实根本没有时间调查，所以这些数据都是乱编的，即串 $ S $ 中的每一位都是在 $ 0 $ 和 $ 1 $ 之间随机产生的。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行 $ 2 $ 个整数 $ n $，$ Q $，表示字符串的长度，以及询问个数。\r\n\r\n接下来一行长度为 $n$ 的一个 $01$ 串 $S$。\r\n\r\n接下来 $Q$ 行，每行 $2$ 个整数 $L,R$，一个询问 $L.R$ 。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"共 $Q$ 行，每行一个整数，表示对应询问的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 3\r\n010110\r\n2 5\r\n1 6\r\n1 2\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n4\r\n6\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|数据点|$ n  $ 的规模|$ Q $ 的规模|\r\n|:-:|:-:|:-:|\r\n|$ 1 $| $ n \\leq 20$|$Q \\leq 20 $|\r\n|$ 2 $|$ n \\leq 20$|$ Q \\leq 20 $|\r\n|$ 3 $|$ n \\leq 100$|$Q \\leq 100 $|\r\n|$ 4 $ |$ n \\leq 100$|$ Q \\leq 100 $|\r\n|$ 5 $| $ n \\leq 5000$|$Q \\leq 5000 $|\r\n|$ 6 $| $ n \\leq 5000$|$ Q \\leq 5000 $|\r\n|$ 7 $| $ n \\leq 100000$|$ Q \\leq 100000 $|\r\n|$ 8 $| $ n \\leq 100000$|$Q \\leq 100000 $|\r\n|$ 9 $|$ n \\leq 100000$| $Q \\leq 100000 $|\r\n|$ 10 $ |$ n \\leq 100000$|$ Q \\leq 100000 $|\r\n\r\n对于所有的数据保证：$ n \\leq 100000 $，$ Q\\leq 100000 $，$ 1\\leq L<R\\leq n $，$01$ 串随机生成。"}]}