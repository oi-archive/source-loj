{"title":"「COI 2019」SEGWAY","time_limit":1000,"memory_limit":512,"tags":["COCI","2019"],"operation":{"submit":"https://loj.ac/problem/3139#submit_code","submissions":"https://loj.ac/submissions?problem_id=3139","statistics":"https://loj.ac/problem/3139/statistics/fastest","testdata":"https://loj.ac/problem/3139/testdata","discussion":"https://loj.ac/discussion/problem/3139"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [COI 2019](https://hsin.hr/coci/archive/2018_2019/) T3「[SEGWAY](https://hsin.hr/coci/archive/2018_2019/olympiad_tasks.pdf)」**\r\n\r\n在杜布罗夫尼克举行了一次平衡车比赛。赛道包含三段，每段长 $100$ 米，即，赛道总长是 $300$ 米。基于选手平衡车的电池限制，每个选手都有一个策略：在第一段上的速度，在第二段上的速度和在第三段上的速度，除非允许加速到最大速度（具体操作会在下一段解释）。遗憾的是，平衡车很慢，它们的速度在 $1$ 到 $50$ **秒每米**之间。因此，题目中速度单位为**秒每米**（而不是米每秒）。\r\n\r\n在赛道沿途有一些加速点（放置加速器）。当选手到达加速点处时，他的平衡车就会获得额外的能量，可以以 $1$ 秒每米的速度行驶 $X\\bmod 20$ 米，这里 $X$ 是在他到达加速点处时，严格在他前面的人数（包含已到达终点的人）。选手不能在额外获得的能量用尽之前使用加速器。额外的能量用尽时，如果没有新的加速器，他将按原定速度继续行驶。\r\n\r\n假设选手有能用的加速器就会用，即使不是最优的。一个加速器可以被多人同时使用，并且不会使用后不会失效。你的任务是模拟这次比赛。假设所有选手同时出发，输出他们到达终点所用的时间。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个整数 $N$，表示选手数；\r\n\r\n接下来 $N$ 行，分别描述选手的策略，每行包含一个范围在 $[1,50]$ 的整数，分别表示在第一段，第二段和第三段的速度；\r\n\r\n接下来一行一个整数 $M$，表示加速器个数；\r\n\r\n如果 $M>0$，接下来一行有 $M$ 个范围在 $[1,299]$ 的整数，表示每个加速器到起点的距离。距离按严格递增的顺序给出。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $N$ 行，每行一个整数，第 $i$ 行输出第 $i$ 名选手到达终点的用时。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2\r\n1 2 3\r\n4 5 6\r\n0\r\n```\r\n#### 样例输出 1\r\n```plain\r\n600\r\n1500\r\n```\r\n#### 样例说明 1\r\n因为没有加速器，所以所有选手按原定速度进行比赛。\r\n\r\n#### 样例输入 2\r\n```plain\r\n3\r\n5 5 5\r\n6 2 10\r\n10 9 2\r\n2\r\n100 199\r\n```\r\n#### 样例输出 2\r\n```plain\r\n1496\r\n1799\r\n2075\r\n```\r\n#### 样例说明 2\r\n第一名选手不会使用第一个加速器（因为在他前面没有选手），但是他会使用第二个加速器，因为第二名选手在此时超过了他。总得来说，第一名选手以 $5$ 秒每米的速度行驶了 $299$ 米，以 $1$ 秒每米的速度行驶了 $1$ 米。\r\n\r\n第二名选手会使用第一个加速器（他前面有一名选手），但是他不会使用第二个加速器。总得来说，第二名选手以 $6$ 秒每米的速度行驶了 $100$ 米，以 $1$ 秒每米的速度行驶了 $1$ 米，以 $2$ 秒每米的速度行驶了 $99$ 米，以 $10$ 秒每米的速度行驶了 $100$ 米。\r\n\r\n第三名选手在两个加速器处均会以 $1$ 秒每米的速度行驶 $2$ 米。总得来说，第三名选手以 $10$ 秒每米的速度行驶了 $100$ 米，以 $1$ 秒每米的速度行驶了 $2$ 米，以 $9$ 秒每米的速度行驶了 $97$ 米，以 $1$ 秒每米的速度行驶了 $2$ 米，以 $2$ 秒每米的速度行驶了 $99$ 米。\r\n\r\n#### 样例输入 3\r\n```plain\r\n5\r\n2 2 2\r\n6 6 6\r\n8 8 8\r\n9 9 9\r\n10 10 10\r\n2\r\n297 298\r\n```\r\n#### 样例输出 3\r\n```plain\r\n600\r\n1790\r\n2386\r\n2676\r\n2973\r\n```\r\n#### 样例说明 3\r\n两个加速器离终点都很近。第一名选手不会使用任何加速器，第二名选手使用两个加速器（均加速 $1$ 米），然后剩下最后 $1$ 米按原速度行驶，第三名选手会使用第一个加速器（加速 $2$ 米），然后剩下 $1$ 米按原速度行驶。最后两名选手利用最后额外的能量加速冲线。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\le N\\le 2\\times 10^4$。\r\n\r\n详细子任务附加限制及分值如下表：\r\n\r\n|子任务编号|附加限制|分值|\r\n|:-:|:-:|:-:|\r\n|$1$|$M=1$|$15$|\r\n|$2$|$N\\le 300$|$40$|\r\n|$3$|无附加限制|$45$|"}]}