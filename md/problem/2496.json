{"title":"「AHOI / HNOI2018」毒瘤","time_limit":1000,"memory_limit":512,"tags":["HNOI","2018","AHOI"],"operation":{"submit":"https://loj.ac/problem/2496#submit_code","submissions":"https://loj.ac/submissions?problem_id=2496","statistics":"https://loj.ac/problem/2496/statistics/fastest","testdata":"https://loj.ac/problem/2496/testdata","discussion":"https://loj.ac/discussion/problem/2496"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"从前有一名毒瘤。\r\n\r\n毒瘤最近发现了量产毒瘤题的奥秘。考虑如下类型的数据结构题：给出一个数组，要求支持若干种奇奇怪怪的修改操作（例如给一个区间内的数同时加上 $c$，或者将一个区间内的数同时开平方根），并且支持询问区间的和。毒瘤考虑了 $n$ 个这样的修改操作,并将它们编号为 $1 \\ldots n$。当毒瘤要出数据结构题的时候，他就将这些修改操作中选若干个出来，然后出成一道题。\r\n\r\n当然了，这样出的题有可能不可做。通过精妙的数学推理，毒瘤揭露了这些修改操作之间的关系：有 $m$ 对「互相排斥」的修改操作，第 $i$ 对是第 $u_i$ 个操作和第 $v_i$ 个操作。当一道题中同时含有 $u_i$ 和 $v_i$ 这两个操作时，这道题就会变得不可做。另一方面，当一道题中不包含任何「互相排斥」的操作时，这个题就是可做的。此外，毒瘤还发现了一个规律：$m − n$ 是一个很小的数字（参见「数据范围」中的说明），且任意两个修改操作都是连通的。两个修改操作 $a, b$ 是连通的，当且仅当存在若干操作 $t_0, t_1, ... , t_l$，使得 $t_0 = a,t_l = b$，且对任意 $1 \\le i \\le l$，$t_{i−1}$ 和 $t_i$ 都是「互相排斥」的修改操作。\r\n\r\n一对「互相排斥」的修改操作称为互斥对。现在毒瘤想知道，给定值 $n$ 和 $m$ 个互斥对，他一共能出出多少道可做的不同的数据结构题。两个数据结构题是不同的，当且仅当其中某个操作出现在了其中一个题中，但是没有出现在另一个题中。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为正整数 $n, m$。\r\n\r\n接下来 $m$ 行，每行两个正整数 $u, v$，代表一对「互相排斥」的修改操作。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行一个整数，表示毒瘤可以出的可做的不同的数据结构题的个数。这个数可能很大，所以只输出模 $998244353$ 后的值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 2\r\n1 2\r\n2 3\r\n```\r\n#### 样例输出 1\r\n```plain\r\n5\r\n```\r\n#### 样例输入 2\r\n```plain\r\n6 8\r\n1 2\r\n1 3\r\n1 4\r\n2 4\r\n3 5\r\n4 5\r\n4 6\r\n1 6\r\n```\r\n#### 样例输出 2\r\n```plain\r\n16\r\n```\r\n#### 样例输入 3\r\n```plain\r\n12 18\r\n12 6\r\n3 11\r\n8 6\r\n2 9\r\n10 4\r\n1 8\r\n6 2\r\n11 5\r\n10 6\r\n12 2\r\n9 3\r\n7 6\r\n2 7\r\n3 2\r\n7 3\r\n5 6\r\n2 11\r\n12 1\r\n```\r\n#### 样例输出 3\r\n```plain\r\n248\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|测试点 #|1~4|5~6|7~8|9|10~11|12~14|15~16|17~20|\r\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\r\n|$n \\le$|$20$|$10^5$|$10^5$|$3000$|$10^5$|$3000$|$10^5$|$10^5$|\r\n|$m \\le$|$n + 10$|$n - 1$|$n$|$n + 1$|$n + 1$|$n + 10$|$n + 7$|$n + 10$|"}]}