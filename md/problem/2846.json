{"title":"「ROI 2018 Day 1」量子隐形传态","time_limit":4000,"memory_limit":512,"tags":["2018","ROI"],"operation":{"submit":"https://loj.ac/problem/2846#submit_code","submissions":"https://loj.ac/submissions?problem_id=2846","statistics":"https://loj.ac/problem/2846/statistics/fastest","testdata":"https://loj.ac/problem/2846/testdata","discussion":"https://loj.ac/discussion/problem/2846"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [ROI 2018](http://neerc.ifmo.ru/school/archive/2017-2018.html) Day1 T4.** ***[Квантовая телепортация](http://neerc.ifmo.ru/school/archive/2017-2018/ru-olymp-roi-2018-day1.pdf) ([Quantum teleportation](http://codeforces.com/gym/102147/problem/C))***\r\n\r\n在一个平面直角坐标系上有编号为 $1\\dots k$ 的 $k$ 块 CPU。\r\n\r\n每块 CPU 的位置可以用平面上的坐标来表示。$1$ 号 CPU 位于 $(1,1)$，$k$ 号 CPU 位于 $(n,m)$。保证所有 CPU 均位于整点上，且对于每块 CPU 的坐标 $(x_i, y_i)$，保证 $1 \\le x_i \\le n,$ $1 \\le y_i \\le m$。\r\n\r\n$i$ 号 CPU 通过总线将一笔数据传输到 $j$ 号 CPU 的耗时为 ${2^{\\large\\max(|x_{\\normalsize{i}}-x_{\\normalsize{j}}|,|y_{\\normalsize{i}}-y_{\\normalsize{j}}|)}}$ 个单位时间。\r\n\r\n试求：要将这笔数据从 $1$ 号 CPU 传送到 $k$ 号 CPU，至少需要多久，另外，请给出：在用时最短的（一组 / 多组）方案中，至少要经过多少块 CPU。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行三个整数 $n,m,k$。  \r\n以下 $k$ 行，每行两个整数 $x,y$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $L$，表示最快的方案中至少要经过多少块 CPU。  \r\n第二行 $L$ 个整数，表示依次经过的 CPU。\r\n\r\n如果存在多组路径使耗时最少，输出任意一种即可。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n4 5 3\r\n1 1\r\n2 3\r\n4 5\r\n```\r\n#### 样例输出 1\r\n```plain\r\n3\r\n1 2 3\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n5 6 9\r\n1 1\r\n4 3\r\n4 6\r\n2 5\r\n3 1\r\n3 3\r\n3 6\r\n5 4\r\n5 6\r\n```\r\n#### 样例输出 2\r\n```plain\r\n5\r\n1 6 2 8 9\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|任务编号|$n,m,k$|特殊性质|分值|\r\n|:-:|:-:|:-:|:-:|\r\n|$1$|$2 \\leq n,m,k \\leq 20$||$21$|\r\n|$2$|$2 \\leq n,m,k \\leq 500$||$13$|\r\n|$3$|$2 \\leq n,m,k \\leq 10000$|每行、每列只有一个 CPU|$33$|\r\n|$4$|$2 \\leq n,m,k \\leq 10000$||$33 $|"}]}