{"title":"「美团 CodeM 初赛 Round A」最长树链","time_limit":500,"memory_limit":512,"tags":["树的直径","质因数分解","数学"],"operation":{"submit":"https://loj.ac/problem/6159#submit_code","submissions":"https://loj.ac/submissions?problem_id=6159","statistics":"https://loj.ac/problem/6159/statistics/fastest","testdata":"https://loj.ac/problem/6159/testdata","discussion":"https://loj.ac/discussion/problem/6159"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"Mr. Walker 最近在研究树，尤其是最长树链问题。现在树中的每个点都有一个值，他想在树中找出最长的链，使得这条链上对应点的值的最大公约数不等于$1$。请求出这条最长的树链的长度。  "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $n$，表示点的个数。  \r\n接下来 $n-1$ 行，每行两个整数 $x,y$ 表示 $x,y$ 之间有边。  \r\n数据保证给出的是一棵树。  \r\n接下来一行 $n$ 个整数表示每个点对应的权值 $a_i$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，表示这条树链的长度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4\r\n1 2\r\n1 3\r\n2 4\r\n6 4 5 2\r\n```\r\n\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n \\leq 10^5, 1 \\leq a_i  \\leq 10^9$。"}]}