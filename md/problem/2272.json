{"title":"「SDOI2017」文本校正","time_limit":1000,"memory_limit":512,"tags":["SDOI","2017","KMP","Manacher","字符串"],"operation":{"submit":"https://loj.ac/problem/2272#submit_code","submissions":"https://loj.ac/submissions?problem_id=2272","statistics":"https://loj.ac/problem/2272/statistics/fastest","testdata":"https://loj.ac/problem/2272/testdata","discussion":"https://loj.ac/discussion/problem/2272"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"小 Q 在研发一种数据混淆的算法时不慎将重要的文档都给混淆了。幸运的是，将这些文档校正对于他来说并不是难事。他凭借着敏锐的观察力成功地用肉眼完成了校正。\r\n\r\n为了防止这种情况再次发生，小 Q 希望开发一种文本校正工具，他的目标是将一个文本串 $T$ 分成连续的 $3$ 段，要求每段都不能为空，然后按一定顺序将这 $3$ 段从左往右拼接起来，将其还原为初始文本串 $S$。\r\n在进行了大量肉眼校正工作之后，小 Q 需要休息一下，因此他把这个任务交给了你。请写一个程序，判断是否可以还原，并给出一个合法的还原方案。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含一个正整数 $\\mathrm {Case}$，表示需要进行的校正次数。  \r\n接下来 $\\mathrm {Case}$ 个部分依次表示每次校正工作，每个部分第一行包含两个正整数 $n$，$m$，分别表示文本串的长度以及字符集的大小。  \r\n每个部分第二行包含 $n$ 个正整数 $S_1, S_2, \\dots, S_n$，表示 $S$ 串。  \r\n每个部分第三行包含 $n$ 个正整数 $T_1, T_2, \\dots, T_n$，表示 $T$ 串。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每次校正工作，若无解，则仅输出一行 ``NO``，否则第一行输出 ``YES``，接下来三行每行两个正整数 $l_i$，$r_i$，按拼接顺序依次表示 $T$ 的 $3$ 个子串。  \r\n若存在多种还原方案，请输出任意一种。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3\r\n5 3\r\n2 1 1 1 1\r\n1 1 1 1 2\r\n5 5\r\n5 2 3 3 4\r\n2 5 3 4 3\r\n5 5\r\n4 5 2 1 4\r\n5 4 2 1 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nYES\r\n5 5\r\n1 3\r\n4 4\r\nNO\r\nYES\r\n2 2\r\n1 1\r\n3 5\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100\\%$ 的数据，$3 \\leq n \\leq 1000000$，$1 \\leq S_i. T_i \\leq m \\leq 1000000$。\r\n\r\n| 测试点编号 | $n, m$ | $\\mathrm {Case}$ | $\\sum n, \\sum m$ |\r\n| :-: | :-: | :-: | :-: |\r\n| 1 ~ 2 | $\\leq 6$ | $\\leq 50000$ | $\\leq 300000$ |\r\n| 3 ~ 6 | $\\leq 2000$ | $\\leq 10$ | $\\leq 20000$ |\r\n| 7 ~ 12 | $\\leq 200000$ | $\\leq 30$ | $\\leq 200000$ |\r\n| 13 ~ 20 | $\\leq 1000000$ | $\\leq 30$ | $\\leq 1000000$ |"}]}