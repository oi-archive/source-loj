{"title":"「BalticOI 2016 Day1」公园","time_limit":2500,"memory_limit":256,"tags":["2016","BalticOI"],"operation":{"submit":"https://loj.ac/problem/2781#submit_code","submissions":"https://loj.ac/submissions?problem_id=2781","statistics":"https://loj.ac/problem/2781/statistics/fastest","testdata":"https://loj.ac/problem/2781/testdata","discussion":"https://loj.ac/discussion/problem/2781"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"在 Byteland 的首都，有一个以围墙包裹的矩形公园，其中以圆形表示游客和树。  \r\n公园里有四个入口，分别在四个角落（$1, 2, 3, 4$ 分别对应左下、右下、左上、右上）。游客只能从入口进出。  \r\n游客可以在他们与公园的两邻边相切的时候进出对应的出口。游客可以在公园里自由活动但不允许与树重叠。  \r\n你的任务是为每个游客计算，给定他们进入公园的入口，他们可以从哪个入口离开公园。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含两个整数 $n$ 和 $m$，分别为树的个数和游客的个数。  \r\n第二行包含两个整数 $w$ 和 $h$，公园的左下角在 $(0,0)$，右上角在 $(w,h)$。  \r\n接下来 $n$ 行，每行三个整数 $x,y$ 和 $r$，表示有一棵圆心在 $(x,y)$ 且半径为 $r$ 的树。保证树与树之间不会互相重叠。  \r\n接下来 $m$ 行，每行两个整数 $r$ 和 $e$，表示有一个半径为 $r$ 的游客从入口 $e$ 进入。  \r\n此外，保证没有树会与每个角落的一个大小为 $2k^2$ 的方形区域重叠，$k$ 表示最大的游客半径。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个游客，输出没有空格的一行，表示该游客可以从这几个入口离开，按照升序排列。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5 3\r\n16 11\r\n11 8 1\r\n6 10 1\r\n7 3 2\r\n10 4 1\r\n15 5 1\r\n1 1\r\n2 2\r\n2 1\r\n```\r\n#### 样例输出\r\n```plain\r\n1234\r\n2\r\n14\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"两个物体有重叠定义为它们不止一个公共点。\r\n\r\n下图展示了每个游客的入口和可能的路线：\r\n\r\n![](https://i.loli.net/2018/08/11/5b6e30c4b5a35.png)\r\n\r\n对于每个子任务，$4k \\leq w,h \\leq 10^9$，$k$表示最大的游客半径。\r\n\r\n|子任务|分数|数据范围|\r\n|:-:|:-:|-|\r\n|1|27|$1 \\leq n \\leq 2000,m=1$|\r\n|2|31|$1 \\leq n \\leq 200,1 \\leq m \\leq 10^5$|\r\n|3|42|$1 \\leq n \\leq 2000,1 \\leq m \\leq 10^5$|"}]}