{"title":"「USACO 2020.1 Platinum」Falling Portals","time_limit":2000,"memory_limit":256,"tags":["USACO Contest","2020","半平面交","凸包","贪心"],"operation":{"submit":"https://loj.ac/problem/3248#submit_code","submissions":"https://loj.ac/submissions?problem_id=3248","statistics":"https://loj.ac/problem/3248/statistics/fastest","testdata":"https://loj.ac/problem/3248/testdata","discussion":"https://loj.ac/discussion/problem/3248"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目来自 [USACO 2020 January Contest, Platinum](http://usaco.org/index.php?page=jan20results) Problem 3. [Falling Portals](http://usaco.org/index.php?page=viewproblem2&cpid=998)**\r\n\r\n有 $N$ 个世界，每个世界有一个传送门。初始时，世界 $i$（对于 $1\\le i\\le N$）位于 $x$ 坐标 $i$，$y$ 坐标 $A_i$。每个世界里还有一头奶牛。在时刻 $0$，所有的 $y$ 坐标各不相同，然后这些世界开始坠落：世界 $i$ 沿着 $y$ 轴负方向以 $i$ 单位每秒的速度移动。\r\n\r\n在任意时刻，如果两个世界在某一时刻 $y$ 坐标相同（可能是非整数时刻），传送门之间就会「同步」，使得其中一个世界的奶牛可以选择瞬间传送到另一个世界。\r\n\r\n对于每一个 $i$，在世界 $i$ 的奶牛想要去往世界 $Q_i$。帮助每头奶牛求出如果她以最优方案移动需要多少时间。\r\n\r\n每个询问的输出是一个分数 `a/b`，其中 $a$ 和 $b$ 为互质的正整数，或者 $−1$，如果不可能到达。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包含一个整数 $N$。\r\n\r\n下一行包含 $N$ 个空格分隔的整数 $A_1,A_2,\\ldots ,A_N$。\r\n\r\n下一行包含 $N$ 个空格分隔的整数 $Q_1,Q_2,\\ldots ,Q_N$。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $N$ 行，第 $i$ 行包含奶牛 $i$ 的旅程的时间。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n4\r\n3 5 10 2\r\n3 3 2 1\r\n```\r\n#### 样例输出\r\n```plain\r\n7/2\r\n7/2\r\n5/1\r\n-1\r\n```\r\n#### 样例解释\r\n考虑原先在世界 $2$ 的奶牛的答案。在时刻 $2$ 世界 $1$ 和世界 $2$ 同步，所以奶牛可以前往世界 $1$。在时刻 $7/2$ 世界 $1$ 和世界 $3$ 同步，所以奶牛可以前往世界 $3$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部测试点，$2\\le N\\le 2\\cdot 10^5,1\\le A_i\\le 10^9,Q_i\\neq i$。\r\n\r\n测试点 $2,3$ 满足 $N\\le 100$。\r\n\r\n测试点 $4,5$ 满足 $N\\le 2\\cdot 10^3$。\r\n\r\n测试点 $6\\sim 14$ 没有额外限制。"}]}