{"title":"「2017 山东三轮集训 Day5」Fantasy","time_limit":1000,"memory_limit":512,"tags":[],"operation":{"submit":"https://loj.ac/problem/6141#submit_code","submissions":"https://loj.ac/submissions?problem_id=6141","statistics":"https://loj.ac/problem/6141/statistics/fastest","testdata":"https://loj.ac/problem/6141/testdata","discussion":"https://loj.ac/discussion/problem/6141"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"JOHNKRAM 收到了一个字符串 $ S $，但他不喜欢这个串，他决定把它变成 $ T $。\r\n\r\nJOHNKRAM 最近学习了一些后缀数据结构，他相信通过替换后缀可以实现一切操作。他有 $ m $ 种替换方式，每种替换方式包含两个等长的字符串 $ u $ 和 $ v $，如果当前 $ u $ 是 $ S $ 的后缀，则可以将 $ S $ 的后缀 $ u $ 替换成 $ v $。\r\n\r\n现在 JOHNKRAM 希望你能帮他计算出，最少需要替换多少次才能将 $ S $ 变成 $ T $。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"一个测试点包含多组数据。  \r\n每组数据第一行包含两个字符串 $ S $ 和 $ T $ 以及一个整数 $ n $，意思如题所示。  \r\n接下来 $ n $ 行每行两个字符串 $ u $ 和 $ v $，表示一种替换方式。  \r\n输入文件以一个 `.` 结束。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每一组数据，输出该组数据编号以及最小步数，如果无解输出 `No Solution`。格式参见样例。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\nAA BB 4\r\nA B\r\nAB BA\r\nAA CC\r\nCC BB\r\nA B 3\r\nA C\r\nB C\r\nc B\r\n.\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nCase 1: 2\r\nCase 2: No solution\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 30\\% $ 的数据，字符串长度 $ \\leq 1 $；  \r\n对于 $ 45\\% $ 的数据，字符串长度 $ \\leq 5 $；  \r\n对于 $ 100\\% $ 的数据，字符串长度 $ \\leq 20, 1 \\leq n \\leq 100 $，字符集为大小写字母。\r\n"}]}