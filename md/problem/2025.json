{"title":"「JLOI / SHOI2016」方","time_limit":2000,"memory_limit":256,"tags":["2016","SHOI","三分","容斥原理","组合计数","数学"],"operation":{"submit":"https://loj.ac/problem/2025#submit_code","submissions":"https://loj.ac/submissions?problem_id=2025","statistics":"https://loj.ac/problem/2025/statistics/fastest","testdata":"https://loj.ac/problem/2025/testdata","discussion":"https://loj.ac/discussion/problem/2025"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"上帝说，不要圆，要方，于是便有了这道题。\r\n\r\n由于我们应该方，而且最好能够尽量方，所以上帝派我们来找正方形。上帝把我们派到了一个有 $N$ 行 $M$ 列的方格图上，图上一共有 $(N + 1) \\times (M + 1)$ 个格点，我们需要做的就是找出这些格点形成了多少个正方形（换句话说，正方形的四个顶点都是格点）。\r\n\r\n但是这个问题对于我们来说太难了，因为点数太多了，所以上帝删掉了这 $(N + 1) \\times (M + 1)$ 中的 $K$ 个点。既然点变少了，问题也就变简单了，那么这个时候这些格点组成了多少个正方形呢？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包含三个整数 $N$，$M$，$K$，代表棋盘的行数、列数和不能选取的顶点个数。 保证 $N, M \\geq 1$，$K \\leq (N + 1) \\times (M + 1)$。  \r\n接下来 $K$ 行，每行包含两个正整数 $X$，$Y$，代表第 $X$ 行第 $Y$ 列的格点被删掉了。保证 $0 \\leq X \\leq N, 0 \\leq Y \\leq M$，且不会出现重复的格点。约定每行的格点从上到下依次用整数 $0$ 到 $N$ 编号，每列的格点依次用 $0$ 到 $M$ 编号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个正整数，代表正方形个数对 $100\\,000\\,007$（$10^8 + 7$）取模之后的数值。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n2 2 4\r\n1 0\r\n1 2\r\n0 1\r\n2 1\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例解释 1\r\n如图所示，我们删掉了其中的四个格点，那么剩下的唯一的正方形便是最大的 $2 \\times 2$ 的正方形了。\r\n\r\n![square-sample1.png](https://ooo.0o0.ooo/2017/04/19/58f6ad4cf3133.png)\r\n\r\n#### 样例输入 2\r\n```plain\r\n7 10 5\r\n2 3\r\n1 5\r\n6 2\r\n3 5\r\n2 6\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n429\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n2 2 4\r\n0 0\r\n2 2\r\n0 2\r\n2 0\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n1\r\n```\r\n\r\n#### 样例解释 3\r\n还剩下一个边长为 $\\sqrt 2$ 的正方形。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"| Case # | $N, M$ | $K$ |\r\n|:------:|:------:|:---:|\r\n| 1, 2   | $\\leq 5$    | $\\leq 25$ |\r\n| 3, 4   | $\\leq 50$   | $\\leq 50$ |\r\n| 5, 6   | $\\leq 10^6$ | $= 0$ |\r\n| 7, 8   | $\\leq 10^6$ | $\\leq 50$ |\r\n| 9, 10  | $\\leq 10^6$ | $\\leq 200$ |\r\n| 11, 12 | $\\leq 10^3$ | $\\leq 2 \\times 10^3$ |\r\n| 13 ~ 20 | $\\leq 10^6$ | $\\leq 2 \\times 10^3$ |"}]}