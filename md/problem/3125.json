{"title":"「COCI 2018.10」Strah","time_limit":1000,"memory_limit":256,"tags":["2018","COCI","单调栈"],"operation":{"submit":"https://loj.ac/problem/3125#submit_code","submissions":"https://loj.ac/submissions?problem_id=3125","statistics":"https://loj.ac/problem/3125/statistics/fastest","testdata":"https://loj.ac/problem/3125/testdata","discussion":"https://loj.ac/discussion/problem/3125"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [COCI 2018/2019 Contest #1](https://hsin.hr/coci/archive/2018_2019/) T4「[Strah](https://hsin.hr/coci/archive/2018_2019/contest1_tasks.pdf)」**\r\n\r\n对于 Mirko 来说，他最害怕的事情就是找位置种草莓。Mirko 有 $N \\times M$ 块田地，有的位置适合种草莓而有的不适合，因为有杂草。一个合适矩形是指这个矩形中的每一块田地都是适合种草莓的。Mirko 对每一块田地的潜力值很感兴趣。一块田地的潜力值是有多少个合适矩形覆盖它。\r\n\r\n请你帮助 Mirko 算出所有田地潜力值的和。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入两个正整数 $N, M$。\r\n\r\n接下来 $N$ 行，每行一个长为 $M$ 的字符串，只由 `.` 和 `#` 组成，`.` 表示这块田地适合种草莓，`#` 表示这块田地不适合。\r\n"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行输出一个整数，表示所有田地的潜力值之和。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n\r\n```plain\r\n2 3\r\n.#.\r\n..#\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n8\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n每块土地的潜力值如下所示：\r\n\r\n```plain\r\n2 0 1\r\n3 2 0\r\n```\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n3 3\r\n...\r\n...\r\n...\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n100\r\n```\r\n\r\n#### 样例输入 3\r\n\r\n```plain\r\n3 4\r\n..#.\r\n#...\r\n...#\r\n```\r\n\r\n#### 样例输出 3\r\n\r\n```plain\r\n40\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据，保证 $N, M \\le 10$。\r\n\r\n对于 $50\\%$ 的数据，保证 $N, M \\le 300$。\r\n\r\n对于 $100\\%$ 的数据，保证 $1\\le N, M \\le 2 \\times 10^3$。\r\n"}]}