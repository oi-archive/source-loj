{"title":"「ICPC PacNW 2017 Div.1」David 的旅程","time_limit":3000,"memory_limit":256,"tags":["2017","ICPC","斜率优化","DP"],"operation":{"submit":"https://loj.ac/problem/6520#submit_code","submissions":"https://loj.ac/submissions?problem_id=6520","statistics":"https://loj.ac/problem/6520/statistics/fastest","testdata":"https://loj.ac/problem/6520/testdata","discussion":"https://loj.ac/discussion/problem/6520"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 ICPC PacificNW 2017 H [Avoiding Airports](http://codeforces.com/gym/101615/attachments/download/6308/20172018-acmicpc-pacific-northwest-regional-contest-div-1-en.pdf)**\r\n\r\nDavid 要完成一个旅行计划，这个计划要在 $n$ 个城市中选择一个乘坐飞机的方案。他在时刻 0 从第 $1$ 个城市出发，最后到达 $n$ 号城市。  \r\n城市分别编号为 $1\\dots n$。城市之间由 $m$ 条航班线路相连。   \r\nDavid 已经查看了这些航班的时刻表，第 $i$ 个航班将从城市 $u_i$ 飞往城市 $v_i$，在时刻 $s_i$ 起飞，时刻 $e_i$ 到达。  \r\nDavid 是一个很讨厌等待的人，他在等待过长时间后会有挫败感。如果他**在机场**等待了 $t$ 的时间，他将感到 $t^2$ 的挫败感。  \r\n请帮助 David 规划一个挫败感之和最小的路线，不一定花的时间最短，只需要最让他舒服就行了（他真的很讨厌等待！）。  \r\n\r\n保证不存在两个航班起飞时间相同，保证不存在两个航班到达时间相同。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n$，$m$ 分别表示城市的数目，航班的数目。  \r\n接下来 $m$ 行是航班的信息，第 $i + 1$ 行四个整数，$u_i,$ $v_i,$ $s_i,$ $e_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"一行一个数，答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5 8\r\n1 2 1 10\r\n2 4 11 16\r\n2 1 9 12\r\n3 5 28 100\r\n1 2 3 8\r\n4 3 20 21\r\n1 3 13 27\r\n3 5 23 24\r\n```\r\n#### 样例输出 1\r\n```plain\r\n12\r\n```\r\n\r\n#### 样例说明 1\r\n\r\n* 航班 5：城市 1 →城市 2，3 时刻起飞，8 时刻到达。 等待时间是 3 - 0 = 3，所以挫败感为 9。  \r\n* 航班 3：城市 2 →城市 1，9 时刻起飞，12 时刻到达。等待时间是 9 - 8 = 1，所以挫败感为 1。  \r\n* 航班 7：城市 1 →城市 3，13 时刻起飞，27 时刻到达。等待时间是 13 - 12 = 1，所以挫败感为 1。  \r\n* 航班 8：城市 3 →城市 5， 28 时刻起飞，100 时刻到达。等待时间是 28 - 27 = 1，所以挫败感为 1。\r\n\r\n挫败感之和为 12。可以证明这是最优解。\r\n\r\n\r\n#### 样例输入 2\r\n```plain\r\n3 5\r\n1 1 10 20\r\n1 2 30 40\r\n1 2 50 60\r\n1 2 70 80\r\n2 3 90 95\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n1900\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$2 \\leq n \\leq 2\\times 10^5,$ $1 \\leq m \\leq 2\\times 10^5,$ $1 \\leq u_i,v_i \\leq n,$ $0 \\leq s_i , e_i \\leq 10^6$。\r\n\r\n数据保证不存在两个航班起飞时间相同，保证不存在两个航班到达时间相同。"}]}