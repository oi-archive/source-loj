{"title":"「2017 山东一轮集训 Day3」第二题","time_limit":1000,"memory_limit":512,"tags":["2017","山东省队集训","标签待整理"],"operation":{"submit":"https://loj.ac/problem/6066#submit_code","submissions":"https://loj.ac/submissions?problem_id=6066","statistics":"https://loj.ac/problem/6066/statistics/fastest","testdata":"https://loj.ac/problem/6066/testdata","discussion":"https://loj.ac/discussion/problem/6066"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"对于一棵有根树，定义一个点 $ u $ 的 $ k \\text{ −} $ 子树为 $ u $ 的子树中距离 $ u $ 不超过 $ k $ 的部分。注意，假如 $ u $ 的子树中不存在距离 $ u $ 为 $ k $ 的点，则 $ u $ 的 $ k \\text{ −} $ 子树是不存在的。\r\n\r\n定义两棵子树是相同的，当且仅当不考虑点的标号时，他们的形态是相同的（儿子的顺序也需要考虑）。给定一棵 $ n $ 个点，点的标号在 $ [1, n] $，以 $ 1 $ 为根的有根树。问最大的 $ k $，使得存在两个点 $ u \\neq v $，满足 $ u $ 的 $ k \\text{ −} $ 子树与 $ v $ 的 $ k \\text{ −} $ 子树相同。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入一个正整数 $ n $。  \r\n接下来读入 $ n $ 个部分，第 $ i $ 个部分描述点 $ i $ 的儿子，且以顺序给出。  \r\n每个部分首先读入一个整数 $ x $，代表儿子个数。接下来 $ x $ 个整数，代表从左到右儿子的标号。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数 $ k $，代表最大的合法的 $ k $。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n8\r\n1\r\n2\r\n2\r\n3 4\r\n0\r\n1\r\n5\r\n2\r\n6 7\r\n0\r\n1\r\n8\r\n0\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 20\\% $ 的数据，$ n \\leq 100 $；  \r\n对于 $ 40\\% $ 的数据，$ n \\leq 2000 $；  \r\n对于 $ 60\\% $ 的数据，$ n \\leq 30000 $；  \r\n对于 $ 100\\% $ 的数据，$ n \\leq 100000 $，保证给出的树是合法的。"}]}