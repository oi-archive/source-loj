{"title":"「雅礼集训 2018 Day1」图","time_limit":2000,"memory_limit":512,"tags":["雅礼集训","2018","组合计数","DP"],"operation":{"submit":"https://loj.ac/problem/6497#submit_code","submissions":"https://loj.ac/submissions?problem_id=6497","statistics":"https://loj.ac/problem/6497/statistics/fastest","testdata":"https://loj.ac/problem/6497/testdata","discussion":"https://loj.ac/discussion/problem/6497"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有一张 $n$ 个点的图，每个点可以是黑色或者白色，其中一些点已经确定了颜色。\r\n\r\n图中一开始没有边，对于每对 $i < j$，你可以从 $i$ 向 $j$ 连一条有向边，也可以不连。\r\n\r\n定义交错路为相邻点颜色不同的有向路径，求有多少种情况图中的交错路有奇数或偶数条。两种情况不同当且仅当有节点颜色不同或者有一条边的存在性不同。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行包括两个正整数 $n, p$。 若 $p = 0$ 表示要求交错路为偶数条，若 $p = 1$ 表示要求交错路为奇数条。\r\n\r\n第二行 $n$ 个整数，第 $i$ 个整数若为 $0$，节点 $i$ 为白，若为 $1$，节点\r\n $i$ 为黑，若为 $-1$，节点 $i$ 颜色不确定。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个非负整数，表示答案对 $998244353$ 取模后的结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n3 1\r\n-1 0 1\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n6\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于全部数据， $1 \\leq n \\leq 2×10^5$。\r\n\r\n- 子任务 $\\rm 1(points: 10)$：$n \\leq 5$\r\n- 子任务 $\\rm 2(points: 30)$：$n \\leq 50$\r\n- 子任务 $\\rm 3(points: 10)$：$n \\leq 150$\r\n- 子任务 $\\rm 4(points: 15)$：$n \\leq 500$\r\n- 子任务 $\\rm 5(points: 15)$：$n \\leq 5000$\r\n- 子任务 $\\rm 6(points: 20)$：无特殊限制"}]}