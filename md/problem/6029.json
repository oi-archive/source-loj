{"title":"「雅礼集训 2017 Day1」市场","time_limit":2000,"memory_limit":256,"tags":["2017","雅礼集训","线段树","数据结构"],"operation":{"submit":"https://loj.ac/problem/6029#submit_code","submissions":"https://loj.ac/submissions?problem_id=6029","statistics":"https://loj.ac/problem/6029/statistics/fastest","testdata":"https://loj.ac/problem/6029/testdata","discussion":"https://loj.ac/discussion/problem/6029"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"从前有一个贸易市场，在一位执政官到来之前都是非常繁荣的，自从他来了之后，发布了一系列奇怪的政令，导致贸易市场的衰落。\r\n\r\n有 $ n $ 个商贩，从 $ 0 \\sim n - 1 $ 编号，每个商贩的商品有一个价格 $ a_i $，有两种政令；同时，有一个外乡的旅客想要了解贸易市场的信息，有两种询问方式：\r\n\r\n1. （政令）$ l, r, c $，对于 $ i \\in [l, r], a_i \\leftarrow a_i + c $\r\n2. （政令）$ l, r, d $，对于 $ i \\in [l, r], a_i \\leftarrow \\lfloor {a_i}/{d} \\rfloor $\r\n3. （询问）给定 $ l, r $，求 $ \\min_{i \\in [l, r]} a_i $\r\n4. （询问）给定 $ l, r $，求 $ \\sum_{i\\in [l, r]} a_i $"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为两个空格隔开的整数 $ n, q $ 分别表示商贩个数和政令 + 询问个数。  \r\n第二行包含 $ n $ 个由空格隔开的整数 $ a_0 \\sim a_{n - 1} $  \r\n接下来 $ q $ 行，每行表示一个操作，第一个数表示操作编号 $ 1 \\sim 4 $，接下来的输入和问题描述一致。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个 3、4 操作，输出询问答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n10 10\r\n-5 -4 -3 -2 -1 0 1 2 3 4\r\n1 0 4 1\r\n1 5 9 1\r\n2 0 9 3\r\n3 0 9\r\n4 0 9\r\n3 0 1\r\n4 2 3\r\n3 4 5\r\n4 6 7\r\n3 8 9\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n-2\r\n-2\r\n-2\r\n-2\r\n0\r\n1\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 30\\% $ 的数据，$ n, q \\leq 10 ^ 3 $；  \r\n对于 $ 60\\% $ 的数据，保证数据随机；  \r\n对于 $ 100\\% $ 的数据，$ 1 \\leq n, q \\leq 10 ^ 5, 0 \\leq l \\leq r \\leq n - 1, c \\in [-10 ^ {4}, 10 ^ 4], d \\in [2, 10 ^ 9] $"}]}