{"title":"「JXOI2017」颜色","time_limit":200,"memory_limit":512,"tags":["2017","JXOI","并查集","线段树","RMQ","hash"],"operation":{"submit":"https://loj.ac/problem/2275#submit_code","submissions":"https://loj.ac/submissions?problem_id=2275","statistics":"https://loj.ac/problem/2275/statistics/fastest","testdata":"https://loj.ac/problem/2275/testdata","discussion":"https://loj.ac/discussion/problem/2275"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"可怜有一个长度为 $n$ 的正整数序列 $A_i$，其中相同的正整数代表着相同的颜色。  \r\n现在可怜觉得这个序列太长了，于是她决定选择一些颜色把这些颜色的所有位置都删去。  \r\n删除颜色 $i$ 可以定义为把所有满足 $A_j = i$ 的位置 $j$ 都从序列中删去。  \r\n然而有些时候删去之后，整个序列变成了好几段，可怜不喜欢这样，于是她想要知道有多少种删去颜色的方案使得最后剩下来的序列**非空**且连续。  \r\n例如颜色序列 $[1, 2, 3, 4, 5]$，删除颜色 $3$ 后序列变成了 $[1, 2]$ 和 $[4, 5]$ 两段，不满足条件。  \r\n而删除颜色 $1$ 后序列变成了 $[2, 3, 4, 5]$，满足条件。  \r\n两个方案不同当且仅当至少存在一个颜色 $i$ 只在其中一个方案中被删去。  "},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入一个整数 $T$ 表示数据组数。  \r\n每组数据第一行输入一个整数 $n$ 表示数列长度。  \r\n第二行输入 $n$ 个整数描述颜色序列。  "},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组数据输出一个整数表示答案。  "},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n1\r\n5\r\n1 3 2 4 3\r\n```\r\n#### 样例输出\r\n```plain\r\n6\r\n```\r\n#### 样例解释\r\n满足条件的删颜色方案有 $[1],[1, 3],[1, 2, 3],[1, 3, 4],[2, 3, 4],\\varnothing$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据，保证 $1 \\leq ∑n \\leq 20$。  \r\n对于 $40\\%$ 的数据，保证 $1 \\leq ∑n \\leq 500$。  \r\n对于 $60\\%$ 的数据，保证 $1 \\leq ∑n \\leq 10^4$。  \r\n对于 $100\\%$ 的数据，保证 $1 \\leq T, ∑n \\leq 3 \\times 10^5 , 1 \\leq A_i \\leq n$。 "}]}