{"title":"「THUPC 2019」令人难以忘记的题目名称 / game","time_limit":2000,"memory_limit":512,"tags":["THUPC","2019","多项式 / 形式幂级数","博弈论"],"operation":{"submit":"https://loj.ac/problem/6618#submit_code","submissions":"https://loj.ac/submissions?problem_id=6618","statistics":"https://loj.ac/problem/6618/statistics/fastest","testdata":"https://loj.ac/problem/6618/testdata","discussion":"https://loj.ac/discussion/problem/6618"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"现在有一个长度为 $N$ 的整数序列 $S$（下标从 $0$ 开始），Alice 和 Bob 在这个序列上博弈。\r\n\r\n游戏按轮进行，每一轮中：\r\n\r\n* Alice 给出一个长度为 $N$ 的正整数序列 $T$\r\n* Bob 看到 Alice 给出的 $T$，然后选择 $[0, N-1]$ 里的一个整数 $x$\r\n* 之后我们把 $S$ 转化为 $S'$，规则如下：\r\n\r\n$$\r\n{S'}_{i} = S_{i} + T_{\\large(i+x)\\bmod N}\r\n$$\r\n\r\n* 以 $S'$ 作为新的 $S$，结束这一轮。\r\n\r\n如果某一轮结束后，$S$ 中每个数都是一个给定质数 $P$ 的倍数，那么 Alice 胜利。\r\n\r\n给定 $N$ 和初始序列 $S$，请问：Alice 是否能在有限步必胜，如果答案为是，最快可以在几轮内保证胜利。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个非负整数 $N,P$，保证 $P$ 是一个质数。\r\n\r\n接下来一行 $N$ 个空格隔开的整数，描述初始序列 $S$ $(0\\le S_i \\le 10^9)$。\r\n\r\n保证 $N\\le 3\\times 10^5$，$P\\le 200$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，如果 Alice 不能在有限步必胜，输出 $-1$，否则输出一个整数 $x$ 表示 Alice 最快能在几轮内胜利。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"##### 样例输入 1\r\n\r\n```plain\r\n4 2\r\n0 1 0 1\r\n```\r\n\r\n##### 样例输出 1\r\n\r\n```plain\r\n2\r\n```\r\n\r\n##### 样例说明 1\r\n\r\n一种可能的游戏情形是：\r\n\r\n* 第一轮 $T=[1,0,1,0]$，$x=0$，转化后的 $S'=[1,1,1,1]$。\r\n* 第二轮 $T=[1,1,1,1]$，无论 $x$ 取什么，转化后的 $S'=[2,2,2,2]$。\r\n\r\n可以证明 $2$ 轮是最优的。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。\r\n\r\n题解等资源可在 https://github.com/wangyurzee7/THUPC2019 查看。"}]}