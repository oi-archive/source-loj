{"title":"「TJOI / HEOI2016」序列","time_limit":1000,"memory_limit":256,"tags":["2016","TJOI","HEOI","树套树","CDQ 分治","DP"],"operation":{"submit":"https://loj.ac/problem/2056#submit_code","submissions":"https://loj.ac/submissions?problem_id=2056","statistics":"https://loj.ac/problem/2056/statistics/fastest","testdata":"https://loj.ac/problem/2056/testdata","discussion":"https://loj.ac/discussion/problem/2056"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"佳媛姐姐过生日的时候，她的小伙伴从某宝上买了一个有趣的玩具送给他。\r\n\r\n玩具上有一个数列，数列中某些项的值可能会变化，但同一个时刻最多只有一个值发生变化。现在佳媛姐姐已经研究出了所有变化的可能性，她想请教你，能否选出一个子序列，使得在任意一种变化中，这个子序列都是不降的？请你告诉她这个子序列的最长长度即可。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行有两个正整数 $ n, m $，分别表示序列的长度和变化的个数。  \r\n接下来一行有 $ n $ 个数，表示这个数列原始的状态。  \r\n接下来 $ m $ 行，每行有两个数 $ x, y $，表示数列的第 $ x $ 项可以变化成 $ y $ 这个值。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，表示对应的答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n3 4\r\n1 2 3\r\n1 2\r\n2 3\r\n2 1\r\n3 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n3\r\n```\r\n\r\n#### 样例解释\r\n**注意**：每种变化最多只有一个值发生变化。\r\n\r\n在样例输入中，所有的变化是：\r\n\r\n```plain\r\n1 2 3\r\n2 2 3\r\n1 3 3\r\n1 1 3\r\n1 2 4\r\n```\r\n选择子序列为原序列，即在任意一种变化中均为不降子序列。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有的数据，$1 \\leq x \\leq n$，所有数字均为正整数，且小于等于 $100000$。"}]}