{"title":"「SNOI2020」排列","time_limit":1000,"memory_limit":256,"tags":["SNOI","2020","贪心","构造"],"operation":{"submit":"https://loj.ac/problem/3327#submit_code","submissions":"https://loj.ac/submissions?problem_id=3327","statistics":"https://loj.ac/problem/3327/statistics/fastest","testdata":"https://loj.ac/problem/3327/testdata","discussion":"https://loj.ac/discussion/problem/3327"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"有一个 $n$ 阶排列 $p$，其前 $k$ 位 $p_1, p_2, \\dots, p_k$ 已经确定了。\r\n\r\n定义排列 $p$ 中，$[l, r]$ 是一个值域连续段当且仅当：\r\n\r\n$$\r\n\\max(p_l, p_{l+1}, \\dots, p_r) - \\min(p_l, p_{l+1}, \\dots, p_r) = r-l\r\n$$\r\n\r\n$p$ 中值域连续段个数即所有 $1\\le l\\le r\\le n$ 中值域连续段的总数。\r\n\r\n请你求出：所有可能的排列 $p$ 中，值域连续段个数的最大值，以及任意一种方案。\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n,k$，分别表示排列的阶数和以及确定的位数。\r\n\r\n接下来一行由空格分隔的 $k$ 个正整数 $p_1, p_2, \\dots, p_k$，表示排列已知的部分。（$k=0$ 则此行为空）"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出第一行一个整数表示值域连续段个数的最大值。\r\n\r\n第二行 $n$ 个正整数表示任意一种方案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n4 1\r\n2\r\n```\r\n\r\n#### 样例输出\r\n\r\n```\r\n8\r\n2 1 3 4\r\n```\r\n\r\n#### 样例解释\r\n\r\n最优解为 $2,1,3,4$，有 $8$ 个值域连续段（$[1], [2], [3], [4], [1,2], [3,4], [1,3], [1,4]$）。$2, 3, 4, 1$ 为另一个最优解。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1\\le n\\le 2\\times 10^5, 0\\le k\\le n$。\r\n\r\n- 对于 $10\\%$ 的数据，$n\\le 10$；\r\n- 对于另外 $20\\%$ 的数据，$n\\le 22$；\r\n- 对于另外 $10\\%$ 的数据，$k\\le 1$；\r\n- 对于另外 $20\\%$ 的数据，$k = n$；\r\n- 对于余下 $40\\%$ 的数据，无特殊限制。\r\n"}]}