{"title":"「THUPC2018」城市地铁规划 / City","time_limit":1000,"memory_limit":512,"tags":["2018","THUPC","倍增","背包 DP","Prüfer 序列","图论","DP","构造"],"operation":{"submit":"https://loj.ac/problem/6395#submit_code","submissions":"https://loj.ac/submissions?problem_id=6395","statistics":"https://loj.ac/problem/6395/statistics/fastest","testdata":"https://loj.ac/problem/6395/testdata","discussion":"https://loj.ac/discussion/problem/6395"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"经过选拔，Kiana 成为了可乐城的市长，为了兑现选举承诺，她决定在可乐城的 $n$ 个重要地标之间修建地铁。\r\n\r\n可乐城的交通状况并不复杂，在任意两个地标之间修建一条地铁轨道都是可行的，但是地铁轨道并不是越多越好，如果有太多地铁从一个地标处经过，该地标的拥堵程度将大幅增加。为此，Kiana 决定给每个地标一个便利度来衡量拥堵程度，如果有 $d$ 条地铁轨道经过了某个地标，那么该地标的便利度为 $f(d)\\mod 59393$，其中 $f(x)=\\sum_{i=0}^{k}a_ix^i$ 是 Kiana 指定的一个 $k$ 次多项式。\r\n\r\n因为修建地铁有一定的成本，所以 Kiana 希望新建的地铁轨道尽可能少，但任意两座地标之间都需要能通过地铁相互到达。Kiana 想知道在给定的条件下，什么样的修建方案可以使得地标的便利度之和最大。由于她不会做，所以希望你来告诉她答案。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入第一行包含两个正整数 $n$ 和 $k$，分别表示可乐城的地标总数和 Kiana 指定的多项式次数，地标的编号依次为 $1$ 至 $n$，数据保证 $n\\leq 3000$ 且 $k\\leq 10$。\r\n\r\n输入第二行包含 $k+1$ 个非负整数 $a_0\\sim a_k$，即 Kiana 指定的多项式的系数，数据保证所有的 $a_i\\leq 50$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出由若干行组成，第一行包含两个用空格隔开的正整数 $m$ 和 $S$，分别表示你的方案中修建的地铁轨道数量与最终的便利度之和。\r\n\r\n接下来 $m$ 行，每行包含两个用空格隔开的正整数 $u$ 和 $v$，表示在第 $u$ 和第 $v$ 个地标之间修建了一条地铁轨道。\r\n\r\n本题将采用 Special Judge，如果有多种方案使得地标的便利度之和最大，输出其中任意一种即可。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例 1 输入\r\n```plain\r\n4 2\r\n0 0 1\r\n```\r\n\r\n#### 样例 1 输出\r\n```plain\r\n3 12\r\n1 2\r\n1 3\r\n1 4\r\n```\r\n\r\n#### 样例 2 输入\r\n```plain\r\n10 9\r\n10 9 8 7 6 5 4 3 2 1\r\n```\r\n\r\n#### 样例 2 输出\r\n```plain\r\n9 177454\r\n4 5\r\n4 6\r\n3 4\r\n3 7\r\n2 3\r\n2 8\r\n1 2\r\n1 9\r\n1 10\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"来自 2018 清华大学学生程序设计竞赛暨高校邀请赛（THUPC2018），感谢 Pony.ai 对此次比赛的支持。\r\n\r\n题解等资源可在 https://github.com/wangyurzee7/THUPC2018 查看。"}]}