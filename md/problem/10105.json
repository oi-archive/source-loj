{"title":"「一本通 3.7 例 1」欧拉回路","time_limit":1000,"memory_limit":256,"tags":["模板","欧拉回路","图论"],"operation":{"submit":"https://loj.ac/problem/10105#submit_code","submissions":"https://loj.ac/submissions?problem_id=10105","statistics":"https://loj.ac/problem/10105/statistics/fastest","testdata":"https://loj.ac/problem/10105/testdata","discussion":"https://loj.ac/discussion/problem/10105"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**原题来自：[UOJ #117](http://uoj.ac/problem/117)**\r\n\r\n有一天一位灵魂画师画了一张图，现在要你找出欧拉回路，即在图中找一个环使得每条边都在环上出现恰好一次。\r\n\r\n一共两个子任务：\r\n\r\n1. 这张图是无向图。（$50$ 分）\r\n\r\n2. 这张图是有向图。（$50$ 分）"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $t$，表示子任务编号。$t \\in \\{1, 2\\}$，如果 $t = 1$ 则表示处理无向图的情况，如果 $t = 2$ 则表示处理有向图的情况。\r\n\r\n第二行两个整数 $n, m$，表示图的结点数和边数。\r\n\r\n接下来 $m$ 行中，第 $i$ 行两个整数 $v_i, u_i$，表示第 $i$ 条边（从 $1$ 开始编号）。保证 $1 \\leq v_i, u_i \\leq n$。\r\n\r\n1. 如果 $t = 1$ 则表示 $v_i$ 到 $u_i$ 有一条无向边。\r\n\r\n2. 如果 $t = 2$ 则表示 $v_i$ 到 $u_i$ 有一条有向边。\r\n\r\n图中可能有重边也可能有自环。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果不可以一笔画，输出一行 `NO`。\r\n\r\n否则，输出一行 `YES`，接下来一行输出一组方案。\r\n\r\n1. 如果 $t = 1$，输出 $m$ 个整数 $p_1, p_2, \\dots, p_m$。令 $e = \\lvert p_i \\rvert$，那么 $e$ 表示经过的第 $i$ 条边的编号。如果 $p_i$ 为正数表示从 $v_e$ 走到 $u_e$，否则表示从 $u_e$ 走到 $v_e$。\r\n\r\n2. 如果 $t = 2$，输出 $m$ 个整数 $p_1, p_2, \\dots, p_m$。其中 $p_i$ 表示经过的第 $i$ 条边的编号。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n1\r\n3 3\r\n1 2\r\n2 3\r\n1 3\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\nYES\r\n1 2 -3\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n2\r\n5 6\r\n2 3\r\n2 5\r\n3 4\r\n1 2\r\n4 2\r\n5 1\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\nYES\r\n4 1 3 5 2 6\r\n\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1 \\leq n \\leq 10^5, 0 \\leq m \\leq 2 \\times 10^5$"}]}