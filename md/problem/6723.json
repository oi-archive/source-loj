{"title":"「CodePlus #7」教科书般的亵渎","time_limit":3000,"memory_limit":512,"tags":["CodePlus","2020","数据结构"],"operation":{"submit":"https://loj.ac/problem/6723#submit_code","submissions":"https://loj.ac/submissions?problem_id=6723","statistics":"https://loj.ac/problem/6723/statistics/fastest","testdata":"https://loj.ac/problem/6723/testdata","discussion":"https://loj.ac/discussion/problem/6723"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"qwqwq。\r\n\r\n蓝龙亵渎打几点伤害？\r\n\r\n-------\r\n\r\nqwq 在玩炉石传说的时候总是打不出教科书般的亵渎，于是他重新写了一个『炉石传说』，并且将亵渎的描述改为：「等概率随机在 $[L,R]$ 中选出一个整数作为伤害值 $d$，对所有随从造成 $d$ 点伤害，如果有随从死亡，则再次施放该法术，但伤害值不重新随机；如果没有随从死亡，则停止释放」，还去掉了场面上随从上限和亵渎最多触发 $14$ 次的限制。qwq 不知道这个改版亵渎的效果怎么样，于是他打算进行一些测试，其中共进行 $m$ 次如下类型的操作：\r\n\r\n1. 在场面上加入一个血量为 $h$ 的随从，这里随从的血量都不能超过 $n$；\r\n\r\n2. 给定 $[L,R]$，询问亵渎期望触发多少次；qwq 只会做操作 $1$，于是他就把操作 $2$ 交给你啦。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个由空格分隔的整数 $n\\ m$；接下来 $m$ 行，每行表示一次操作，操作 $1$ 表示为 $1\\ h$，操作 $2$ 表示为 $2\\ L\\ R$；"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"为避免输出小数，对每次操作 $2$，输出一个整数表示期望值与 $(R-L+1)$ 的乘积。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n10 10\r\n2 7 9\r\n1 6\r\n2 7 10\r\n1 10\r\n1 7\r\n2 7 10\r\n1 7\r\n1 1\r\n2 6 7\r\n1 4\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n3\r\n8\r\n11\r\n6\r\n```\r\n"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于其中 $19\\%$ 的数据，$n,m\\le 10^3$。\r\n\r\n对于另外 $19\\%$ 的数据，每次的 $2$ 操作满足 $L = R$。\r\n\r\n对于另外 $19\\%$ 的数据，所有 $2$ 操作都在 $1$ 操作后。\r\n\r\n对于另外 $19\\%$ 的数据，$m\\le10^5$。\r\n\r\n对于 $100\\%$ 的数据，保证：$1\\le n\\le 10^5$，每次 $1$ 操作有 $1\\le h\\le n$，每次 $2$ 操作有 $1\\le L\\le R\\le n, 1\\le m\\le 10^6$；以上所有数值均为整数。"}]}