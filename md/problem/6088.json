{"title":"可持久化最长不降子序列","time_limit":500,"memory_limit":256,"tags":["原创","数据结构","DP"],"operation":{"submit":"https://loj.ac/problem/6088#submit_code","submissions":"https://loj.ac/submissions?problem_id=6088","statistics":"https://loj.ac/problem/6088/statistics/fastest","testdata":"https://loj.ac/problem/6088/testdata","discussion":"https://loj.ac/discussion/problem/6088"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"现给出两个操作: \r\n\r\n 1.  $add$ 操作: 在序列末尾加上一个非负整数 $x$ \r\n\r\n 2.  $back$ 操作: 给出 $x$ ，回到第 $x$ 次 $add$ 操作之后的版本 ，将第 $ x $ 次 $ add $ 操作之后的版本全部删除\r\n\r\n给出 $n$，表示操作的总次数\r\n\r\n每一次操作后，输出当前版本的最长不降子序列的长度 $len$ \r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行一个整数 $ n $。  \r\n\r\n之后的 $ n $ 行，每行 $ 2 $ 个整数，表示 $ opt $、$ x $。  \r\n\r\n当 $ opt $ 为 $ 0 $ 时 ，表示 $ add $ 操作    \r\n\r\n当 $ opt $ 为 $ 1 $ 时 ，表示 $ back $ 操作"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"共 $ n $ 行，表示每一次操作后的最长不降子序列的长度 $ len $  "},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n5\r\n0 2\r\n0 0\r\n1 0\r\n1 0\r\n0 5\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1\r\n1\r\n0\r\n0\r\n1\r\n```\r\n\r\n#### 样例解释 1\r\n第一次操作后，序列为[2] \r\n\r\n第二次操作后，序列为[2,0] \r\n\r\n第三次操作后，序列为[空] \r\n\r\n第四次操作后，序列为[空]\r\n\r\n第五次操作后，序列为[5]"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于数据点编号 $1-4$ ，$ n = 1000 $；  \r\n\r\n对于数据点编号 $5-6$ ，$ n = 10000, x_i \\le 10000$；\r\n\r\n对于数据点编号 $7-10$ ，$ n = 499998 $；\r\n\r\n对于数据点编号 $10-11$ ，$ n = 499999 $，保证仅有 $ add $ 操作；\r\n\r\n对于数据点编号 $12-20$ ，$ n = 500000 $；\r\n\r\n对于 $ 100\\% $ 的数据，满足 $ x_i \\le 10000000 $ \r\n\r\n数据保证对于每一次 $ back $ 操作的 $ x_i $，当前版本 $ k $ 均满足 $ x_i \\le k $ \r\n\r\n"}]}