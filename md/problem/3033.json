{"title":"「JOISC 2019 Day2」两个天线","time_limit":3000,"memory_limit":512,"tags":["JOISC","2019","线段树"],"operation":{"submit":"https://loj.ac/problem/3033#submit_code","submissions":"https://loj.ac/submissions?problem_id=3033","statistics":"https://loj.ac/problem/3033/statistics/fastest","testdata":"https://loj.ac/problem/3033/testdata","discussion":"https://loj.ac/discussion/problem/3033"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**题目译自 [JOISC 2019](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/index.html) Day2 T1「[ふたつのアンテナ](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/day2/antennas.pdf) / [Two Antennas](https://www.ioi-jp.org/camp/2019/2019-sp-tasks/day2/antennas-en.pdf)」**\r\n\r\n有 $N$ 个天线排成一行，编号分别为 $1$ 到 $N$，相邻两个天线之间的距离都是 $1$。天线 $i$ 的高度为 $H_i$。天线 $i$ 可以向天线 $j$ 发送信息，当且仅当他们之间的距离 $D_{i,j} \\in [A_i, B_i]$。如果一对天线 $i$ 和 $j$ 可以互相发消息，那么我们定义他们之间的通信成本为 $\\lvert H_i - H_j \\rvert$。\r\n\r\nJOI 共和国总理 K 先生收到了 $Q$ 件通信故障的投诉，对于第 $j$ 件投诉，你需要确定天线 $L_j, L_j+1, \\ldots , R_j​$ 中是否存在一对天线可以互相发消息，如果存在，输出最大的通信成本。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"从标准输入中读取数据。\r\n\r\n第一行一个整数 $N$。\r\n\r\n接下来 $N$ 行，第 $i$ 行三个整数 $H_i, A_i, B_i$ 。\r\n\r\n接下来一行一个整数 $Q$。\r\n\r\n接下来 $Q$ 行，第 $j$ 行两个整数 $L_j, R_j$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出数据到标准输出中。\r\n\r\n输出 $Q$ 行，第 $j$ 行一个整数，表示第 $j$ 件投诉的最大通信成本，如果不存在可以互相发消息的天线，输出 `-1`。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"##### 样例输入 1\r\n\r\n```plain\r\n5\r\n10 2 4\r\n1 1 1\r\n2 1 3\r\n1 1 1\r\n100 1 1\r\n5\r\n1 2\r\n2 3\r\n1 3\r\n1 4\r\n1 5\r\n```\r\n\r\n##### 样例输出 1\r\n\r\n```plain\r\n-1\r\n1\r\n8\r\n8\r\n99\r\n```\r\n\r\n##### 样例说明 1\r\n\r\n天线 $1$ 和天线 $2$ 无法互相发消息，因此第一个询问答案为 `-1`。\r\n\r\n对于第 $2, 3, 4, 5$ 个询问，能产生最大通信成本的天线对分别为 $(2, 3), (1, 3), (1,3), (4, 5)$。\r\n\r\n##### 样例输入 2\r\n\r\n```plain\r\n20\r\n260055884 2 15\r\n737689751 5 5\r\n575359903 1 15\r\n341907415 14 14\r\n162026576 9 19\r\n55126745 10 19\r\n95712405 11 14\r\n416027186 8 13\r\n370819848 11 14\r\n629309664 4 13\r\n822713895 5 15\r\n390716905 13 17\r\n577166133 8 19\r\n195931195 10 17\r\n377030463 14 17\r\n968486685 11 19\r\n963040581 4 10\r\n566835557 1 12\r\n586336111 6 16\r\n385865831 8 9\r\n1\r\n1 20\r\n```\r\n\r\n##### 样例输出 2\r\n\r\n```plain\r\n806460109\r\n```\r\n\r\n##### 样例说明 2\r\n\r\n这组样例满足子任务 `3` 的限制。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"|Subtask #|分值| 数据规模 |\r\n|-|-|-|\r\n|1|2| $N,Q \\le 300$ |\r\n|2|11|$N \\le 2 000$|\r\n|3|22|$Q = 1, L_1 = 1, R_1 = N$|\r\n|4|65| 无特殊限制 |\r\n\r\n对于所有输入数据，有  \r\n$\r\n2 \\le N \\le 200 000, \\\\\r\n1 \\le H_i \\le 10^9 (1 \\le i \\le N), \\\\\r\n1 \\le A_i \\le B_i \\le N-1 (1 \\le i \\le N), \\\\\r\n1 \\le Q \\le 200 000, \\\\\r\n1 \\le L_j \\le R_j \\le N (1 \\le j \\le Q).\r\n$"}]}