{"title":"「网络流 24 题」深海机器人问题","time_limit":1000,"memory_limit":256,"tags":["网络流 24 题","网络流"],"operation":{"submit":"https://loj.ac/problem/6224#submit_code","submissions":"https://loj.ac/submissions?problem_id=6224","statistics":"https://loj.ac/problem/6224/statistics/fastest","testdata":"https://loj.ac/problem/6224/testdata","discussion":"https://loj.ac/discussion/problem/6224"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"深海资源考察探险队的潜艇将到达深海的海底进行科学考察。\r\n\r\n潜艇内有多个深海机器人。潜艇到达深海海底后，深海机器人将离开潜艇向预定目标移动。\r\n\r\n深海机器人在移动中还必须沿途采集海底生物标本。沿途生物标本由最先遇到它的深海机器人完成采集。\r\n\r\n每条预定路径上的生物标本的价值是已知的，而且生物标本只能被采集一次。\r\n\r\n本题限定深海机器人只能从其出发位置沿着向北或向东的方向移动，而且多个深海机器人可以在同一时间占据同一位置。\r\n\r\n用一个 $\\text{P} \\times \\text{Q}$ 网格表示深海机器人的可移动位置。西南角的坐标为 $(0,0)$ ，东北角的坐标为 $(Q,P)$ 。\r\n\r\n给定每个深海机器人的出发位置和目标位置，以及每条网格边上生物标本的价值。\r\n\r\n计算深海机器人的最优移动方案， 使深海机器人到达目的地后，采集到的生物标本的总价值最高。\r\n\r\n![robot.png](https://loj-img.upyun.menci.memset0.cn/2020/08/02/5f26a0c02c82c.png)"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"文件的第 $1$ 行为深海机器人的出发位置数 a,和目的地数 $\\text{b}$ 。\r\n\r\n第 $2$ 行为 $\\text{P}$ 和 $\\text{Q}$ 的值。\r\n\r\n接下来的 $\\text{P} +1$ 行,每行有 $\\text{Q}$ 个正整数,表示向东移动路径上生物标本的价值,行数据依从南到北方向排列。\r\n\r\n再接下来的 $\\text{Q} +1 $ 行,每行有 $\\text{P}$ 个正整数,表示向北移动路径上生物标本的价值,行数据依从西到东方向排列。\r\n\r\n接下来的 $\\text{a}$ 行,每行有 $3$ 个正整数 $\\text{k,x,y}$,表示有 $\\text{k}$ 个深海机器人从 $(\\text{x,y})$位置坐标出发。\r\n\r\n再接下来的 $\\text{b}$ 行,每行有 $3$ 个正整数 $\\text{r,x,y}$ ,表示有 $\\text{r}$ 个深海机器人可选择 $(\\text{x,y})$ 位置坐标作为目的地。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出采集到的生物标本的最高总价值."},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n1 1\r\n2 2\r\n1 2\r\n3 4\r\n5 6\r\n7 2\r\n8 10\r\n9 3\r\n2 0 0\r\n2 2 2\r\n```\r\n#### 样例输出\r\n```plain\r\n42\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"$1\\leq P,Q\\leq15$\r\n\r\n$ 1\\leq a\\leq 4$\r\n\r\n$1\\leq b\\leq 6$"}]}