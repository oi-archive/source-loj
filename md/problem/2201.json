{"title":"「ZJOI2014」星系调查","time_limit":1000,"memory_limit":256,"tags":["ZJOI","2014","标签待整理","数据待检查"],"operation":{"submit":"https://loj.ac/problem/2201#submit_code","submissions":"https://loj.ac/submissions?problem_id=2201","statistics":"https://loj.ac/problem/2201/statistics/fastest","testdata":"https://loj.ac/problem/2201/testdata","discussion":"https://loj.ac/discussion/problem/2201"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"银河历 59451 年，在银河系有许许多多已被人类殖民的星系。如果想要在行星系间往来，大家一般使用连接两个行星系的跳跃星门。  \r\n一个跳跃星门可以把物质在它所连接的两个行星系中互相传送。\r\n\r\n露露、花花和萱萱被银河系星际联盟调查局任命调查商业巨擘 ZeusLeague+ 的不正当商业行为。\r\n\r\n在银河系有 $N$ 个已被 ZeusLeague+ 成功打入市场的行星系，不妨标号为 $1,2,\\ldots,N$。而 ZeusLeague+ 在这 $N$ 个行星系之间还拥有自己的 $M$ 个跳跃星门。使用这些跳跃星门，ZeusLeague+ 的物资就可以在这 $N$ 个行星系中两两任意互相传输。由于经费问题，跳跃星门的个数不会超过行星系的个数。露露在颇费周折之后得到了 ZeusLeague+ 在这 $N$ 个行星系中的各自的贸易总额 $C_i\\ (i=1,2,\\ldots,N)$。\r\n\r\n萱萱设计了一个经济学特征指标 $D_i$ 来度量这 $N$ 个行星系的经济学特征。于是，我们可以用二元组 $(C_i,D_i)$ 来表示第 $i$ 个行星系的 XP (Xuan's Position)。现在假设我们有 $k$ 个行星系的 XPs，把它们放置在二维平面上，然后我们用一条直线去拟合这些 XPs。定义一条直线与 XPs 的相斥度为这条直线到各个 XP 的 Euclid距离的平方之和。再令 XPs 的线性假设相斥度为所有直线与 XPs 的相斥度中的最小者。那么，这个值越小，ZeusLeague+ 在这 $k$ 个行星系中的相互贸易活动就越可疑，从而值得进一步调查。\r\n\r\n花花负责计算许多行星系对 $(u,v)$ 的非可疑度。一条跳跃星门航线的非可疑度被定义为它经过的所有行星系（包括起点和终点）的 XPs 的线性假设相斥度。而一个行星系对 $(u,v)$ 的非可疑度则被定义为所有以 $u$ 为起点，$v$ 为终点的跳跃星门航线的非可疑度中的最小值。一条跳跃星门航线是指从某个行星系开始，通过跳跃星门依次到达某些行星系，然后终止，并且中途不重复经过行星系，这样的一个过程。\r\n\r\n在花花数天夜以继日的工作之后，平行调查组的你——大名鼎鼎的计算机科学家 Hcceleration.Gerk.Gounce 不忍心看到她这样不眠不休，于是你在完成了手头的工作之后决定帮一帮她。\r\n\r\n（无关吐槽：Acceleration 即加速度，jerk 即加速度的导数/位移的三阶导数，jounce 即位移的四阶导数，这名字取得呀…）"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行是两个正整数 $N$，$M$，分别表示这个银河系内的行星系的个数以及跳跃星门的个数。  \r\n接下来 $N$ 行，每行两个正整数 $C_i, D_i$，表示第 $i$ 个行星系的 XP (Xuan's Position)。  \r\n接下来的 $M$ 行来描述跳跃星门，每行两个正整数 $u_i,v_i$，表示有一个连接着行星系 $u_i$ 和 $v_i$ 的跳跃星门。注意这个连接是无向的。不会存在自己连向自\r\n己的情况。也不会存在重复连接的情况。  \r\n接下来的一行，有一个正整数 $Q$，表示花花需要计算的非可疑度的行星对数。  \r\n接下来的 $Q$ 行，每行两个正整数 $s_i, t_i$，表示花花需要计算从 $s_i$ 到 $t_i$ 的非可疑度。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"总共 $Q$ 行，每一行一个实数，表示花花第 $i$ 次需要计算的答案。你的答案需要和标准答案的差不超过 $0.01$ 才能得分。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n6 6 \r\n3 4 \r\n5 6 \r\n1 3 \r\n4 4 \r\n3 3 \r\n2 4 \r\n1 2 \r\n1 3 \r\n2 3 \r\n2 4 \r\n3 5 \r\n5 6 \r\n3 \r\n3 6 \r\n2 4 \r\n4 6\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n0.66667 \r\n0.00000 \r\n1.67544\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于所有数据，$1 \\leq N,Q \\leq 10^5,\\ M \\leq N,\\ 0 \\leq C_i, D_i \\leq 97$。"}]}