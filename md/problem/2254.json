{"title":"「SNOI2017」一个简单的询问","time_limit":2800,"memory_limit":512,"tags":["2017","SNOI","分块及按大小分类","莫队","数据结构"],"operation":{"submit":"https://loj.ac/problem/2254#submit_code","submissions":"https://loj.ac/submissions?problem_id=2254","statistics":"https://loj.ac/problem/2254/statistics/fastest","testdata":"https://loj.ac/problem/2254/testdata","discussion":"https://loj.ac/discussion/problem/2254"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给你一个长度为 $N$ 的序列 $a_i$，$1\\leq i\\leq N$，和 $q$ 组询问，每组询问读入 $l_1,r_1,l_2,r_2$，需输出\r\n\r\n$$\r\n\\sum\\limits_{x=0}^\\infty \\text{get}(l_1,r_1,x)\\cdot \\text{get}(l_2,r_2,x)\r\n$$\r\n\r\n$ \\text{get}(l,r,x)$ 表示计算区间 $[l,r]$ 中，数字 $x$ 出现了多少次。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行，一个数字 $N$，表示序列长度。  \r\n第二行，$N$ 个数字，表示 $a_1\\sim a_N$。  \r\n第三行，一个数字 $Q$，表示询问个数。  \r\n第 $4\\sim Q+3$ 行，每行四个数字 $l_1,r_1,l_2,r_2$，表示询问。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组询问，输出一行一个数字，表示答案。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n5\r\n1 1 1 1 1\r\n2\r\n1 2 3 4\r\n1 1 4 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n4\r\n1\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $20\\%$ 的数据，$1\\leq N,Q\\leq 1000$；  \r\n对于另外 $30\\%$ 的数据，$1\\leq a_i\\leq 50$；  \r\n对于 $100\\%$ 的数据，$N,Q\\leq 50000$，$1\\leq a_i\\leq N$，$1\\leq l_1\\leq r_1\\leq N$，$1\\leq l_2\\leq r_2\\leq N$。\r\n\r\n数据范围与原题相同，但测试数据由本站会员自制，并非原数据。  \r\n时限已按照评测机速度调整，原题时限为 2000 ms，省选评测时调整为 4000 ms，这里按 4000 ms 调整。\r\n\r\n**注意**：答案有可能超过 `int` 的最大值。"}]}