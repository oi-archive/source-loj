{"title":"「JOI 2015 Final」城墙","time_limit":10000,"memory_limit":512,"tags":["2015","JOI","组合计数","树状数组"],"operation":{"submit":"https://loj.ac/problem/2728#submit_code","submissions":"https://loj.ac/submissions?problem_id=2728","statistics":"https://loj.ac/problem/2728/statistics/fastest","testdata":"https://loj.ac/problem/2728/testdata","discussion":"https://loj.ac/discussion/problem/2728"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"**译自 [JOI 2015 Final](https://www.ioi-jp.org/joi/2014/2015-ho/index.html) T5「[城壁](https://www.ioi-jp.org/joi/2014/2015-ho/2015-ho.pdf)」**\r\n\r\n历史学家 JOI 教授对曾经存在过的 IOI 王国进行了研究。\r\n\r\n根据过去的调查，IOI 王国的形状为由 $H$ 行，$W$ 列的格子组成的长方形。IOI 王国的首都为了防卫外敌入侵而修筑了一座城墙。\r\n\r\n围住 IOI 王国首都的城墙形状如以下叙述：城墙形状由**城墙的大小**决定。大小为 $s(s\\ge 3)$ 的城墙，指 $s\\times s$ 的正方形的最外一圈，也就是除去此正方形中心 $(s-2)\\times (s-2)$ 的小正方形剩下的区域。\r\n\r\n据调查，围住首都的城墙的大小在 $L$ 或以上。而且已知 IOI 王国中的一些格子不存在城墙。\r\n\r\nJOI 教授为了进一步研究，想要知道城墙有多少种可能的情况。\r\n\r\n#### 任务\r\n给出 IOI 王国的大小，城墙的大小的最小值，和一些已知不存在城墙的格子，请编写程序求出城墙可能的情况数。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入标准如下：\r\n- 第一行为四个以空格分开的整数 $H,W,L,P$。分别表示 IOI 王国的形状为纵 $H$ 行横 $W$ 行的由格子构成的长方形，城墙的大小在 $L$ 或以上，已知不存在城墙的格子有 $P$ 个；  \r\n- 接下来 $P$ 行中第 $i$ 行 $(1\\le i\\le P)$ 为两个以空格分开的整数 $A_i,B_i$。表示已知 IOI 王国从上数第 $A_i$ 行，从左数第 $B_i$ 行的格子不存在城墙。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一行：表示城墙情况总数的一个整数。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 输入样例 1\r\n```plain\r\n5 5 3 2\r\n2 2\r\n4 3\r\n\r\n```\r\n#### 输出样例 1\r\n```plain\r\n4\r\n```\r\n#### 样例说明 1\r\n在样例 $1$ 的情况下，城墙有以下 $4$ 种情况。画 $\\times$ 的格子表示已知不存在城墙的格子。\r\n\r\n![09a21403b6ad516667cf908bd6d5dbb2.png](https://www.z4a.net/images/2018/08/03/09a21403b6ad516667cf908bd6d5dbb2.png)\r\n\r\n#### 输入样例 2\r\n```plain\r\n7 8 4 3\r\n2 2\r\n3 7\r\n6 5\r\n```\r\n#### 输出样例 2\r\n```plain\r\n13\r\n```\r\n#### 输入样例 3\r\n```plain\r\n4000 4000 1234 4\r\n1161 3028\r\n596 1892\r\n3731 2606\r\n702 1530\r\n```\r\n#### 输出样例 3\r\n```plain\r\n7050792912\r\n\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $4\\%$ 的分值：\r\n- $H\\le 500$\r\n- $W\\le 500$\r\n\r\n对于另 $16\\%$ 的分值：\r\n- $0\\le P\\le 10$\r\n\r\n对于 $100\\%$ 的数据，所有输入满足以下条件：\r\n- $1\\le H\\le 4000$\r\n- $1\\le W\\le 4000$\r\n- $3\\le L\\le H$ 且 $3\\le L\\le W$\r\n- $0\\le P\\le 10^5$\r\n- $1\\le A_i\\le H(1\\le i\\le P)$\r\n- $1\\le B_i\\le W(1\\le i\\le P)$\r\n- $(A_i,B_i)\\not =(A_j,B_j)(1\\le i\\lt j\\le P)$\r\n\r\n"}]}