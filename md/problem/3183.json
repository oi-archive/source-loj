{"title":"「CEOI2018」全球气候变暖","time_limit":1000,"memory_limit":256,"tags":["2018","CEOI"],"operation":{"submit":"https://loj.ac/problem/3183#submit_code","submissions":"https://loj.ac/submissions?problem_id=3183","statistics":"https://loj.ac/problem/3183/statistics/fastest","testdata":"https://loj.ac/problem/3183/testdata","discussion":"https://loj.ac/discussion/problem/3183"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"译自 CEOI2018 Day1 T2. *[Global Warming](https://ceoi2018.pl/wp-content/uploads/2018/08/glo.pdf)*\r\n\r\n全球气候变暖是一个非常严峻的问题，Johnny 对此深有体会。他决定对历史温度数据进行分析，找到温度严格上升的子序列。他想借此说服那些不相信全球气候变暖的人！\r\n\r\nJohnny 找到了连续 $n$ 天的历史数据，第 $i$ 天的气温为 $t_i$。\r\n\r\n为了让温度最长严格上升子序列变得更长一些，他决定对原始数据做点手脚。在找出一个非空区间 $[l,r]$ 和一个整数 $d\\ (-x \\leq d \\leq x)$ 后，他将会把 $t_l,t_{l+1},\\ldots ,t_r$ 全部加上 $d$（$d=0$ 也是允许的）。\r\n\r\n在经过这样一次修改操作后，整个序列的最长严格上升子序列的最大可能长度是多少？"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $n,x$，分别代表数据包含的天数和允许改变温度的限值。\r\n\r\n第二行 $n$ 个整数 $t_1,t_2,\\ldots ,t_n$，即原始的温度数列。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出一个整数，即经过修改操作后最长严格上升子序列的最大可能长度。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n8 10\r\n7 3 5 12 2 7 3 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n5\r\n```\r\n\r\n#### 样例解释\r\n将 $[2,3]$ 中的所有数同时加上 $-5$ 之后，得到的新序列为 $7,−2,0,12,2,7,3,4$，该序列的最长上升子序列为 $−2,0,2,3,4$，长度为 $5$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"所有数据均满足 $1 \\leq n \\leq 200\\,000$，$0 \\leq x \\leq 10^9$，$1 \\leq t_i \\leq 10^9$。\r\n\r\n| 子任务编号 |             约束             | 分值 |\r\n| :--------: | :--------------------------: | :--: |\r\n|    $1$     |        $n,x \\leq 10$         | $5$  |\r\n|    $2$     |        $n,x \\leq 50$         | $10$ |\r\n|    $3$     |       $n \\leq 1\\,000$        | $13$ |\r\n|    $4$     |            $x=0$             | $10$ |\r\n|    $5$     | $x \\leq 5$，$n \\leq 50\\,000$ | $20$ |\r\n|    $6$     |           $x=10^9$           | $17$ |\r\n|    $7$     |          无附加限制          | $25$ |"}]}