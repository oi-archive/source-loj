{"title":"相似序列","time_limit":2000,"memory_limit":256,"tags":["RMQ","hash","数学"],"operation":{"submit":"https://loj.ac/problem/6169#submit_code","submissions":"https://loj.ac/submissions?problem_id=6169","statistics":"https://loj.ac/problem/6169/statistics/fastest","testdata":"https://loj.ac/problem/6169/testdata","discussion":"https://loj.ac/discussion/problem/6169"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"给定长度为 $n$ 的整数序列 $A$，你需要回答 $q$ 个询问。询问给定两个子串 $[a, b]$ 和 $[c, d]$，要求你判断两个子串是否相似。  \r\n\r\n如果两个序列在各自排序后，除最多一个位置外，其他所有位置上的元素对应相等，那么我们认为两个序列相似。    \r\n\r\n请注意，给定的子串可以有公共部分，但不会互相影响。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"输入的第一行包含一个整数 $T$ ，代表测试数据的组数。接下来是 $T$ 组数据。  \r\n每组数据的第一行包含两个整数 $n$ 和 $q$，分别代表序列长度和询问数。  \r\n接下来一行包含 $n$ 个由空格分隔的整数 $A_1, A_2, \\dots , A_n$。    \r\n接下来 Q 行，每行描述一个询问。询问以四个整数 $a, b, c, d$ 表示，其中 $a$ 和 $b$ 为第一个子串的左右端点，$c$ 和 $d$ 为第二个子串的左右端点。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每个询问，判断两个子串是否相似，并相应输出一行 `YES` 或者 `NO` 。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n1\r\n6 3\r\n1 3 4 2 3 4\r\n1 3 4 6\r\n1 2 5 6\r\n3 5 2 4\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nYES\r\nNO\r\nYES\r\n```\r\n\r\n#### 样例解释\r\n在第一个询问中，第一个子串在排序后为 $[1, 3, 4]$，第二个子串在排序后为 $[2, 3, 4]$。除第 $1$ 个位置上的元素外，两个子串对应相等，故相似。  \r\n在第二个询问中，第一个子串在排序后为 $[1, 3]$，第二个子串在排序后为 $[3, 4]$。两个位置上的元素均不相等，故不相似。  \r\n在第三个询问中，第一个子串在排序后为 $[2, 3, 4]$，第二个子串在排序后为 $[2, 3, 4]$。两个子串对应位置完全相等，故相似。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"- 所有数据满足：  \r\n    * $ 1 \\leq a \\leq b \\leq n $\r\n    * $ 1 \\leq c \\leq d \\leq n $\r\n    * $ b − a = d − c $\r\n\r\n\r\n- 子任务 1（10 分）\r\n    * $ 1 \\leq T \\leq 3 $\r\n    * $ 1 \\leq  n,q \\leq 10 ^ 3 $\r\n    * $ 1 \\leq  A[i] \\leq 10 ^ 3 $\r\n\r\n\r\n- 子任务 2（20 分）\r\n    * $ 1 \\leq T \\leq 3 $\r\n    * $ 1 \\leq  n \\leq 10 ^ 5 $\r\n    * $ 1 \\leq  q \\leq 10 ^ 4 $\r\n    * $ 1 \\leq  A_i \\leq 10 ^ 5 $\r\n\r\n\r\n- 子任务 3（70 分）\r\n    * $ 1 \\leq T \\leq 3 $\r\n    * $ 1 \\leq  n,q \\leq 10 ^ 5 $\r\n    * $ 1 \\leq  A_i \\leq 10 ^ 5 $\r\n"}]}