{"title":"烂柯","time_limit":1000,"memory_limit":256,"tags":["原创","博弈论"],"operation":{"submit":"https://loj.ac/problem/6364#submit_code","submissions":"https://loj.ac/submissions?problem_id=6364","statistics":"https://loj.ac/problem/6364/statistics/fastest","testdata":"https://loj.ac/problem/6364/testdata","discussion":"https://loj.ac/discussion/problem/6364"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":"一介樵夫 zory 到山上砍柴，见二仙人 woker 和 min 于柿子树上推柿子，这棵大树最多只有两个叉，可以看作有 $n$ 个节点，其中 $m$ 个节点上有柿子（显然不会很多）。\r\n\r\n游戏规则是这样的：\r\n\r\n两人都无限神仙而不会犯错误，woker 先手，轮流操作，每次可以选择一个节点，两人都可以把节点上面至少一个柿子推到相邻节点，或者选择一个距离节点 $k$ 为奇数且度 = 1 的节点将上面至少一个柿子删除；如果不能动就输了。\r\n\r\n如果选择的是移动操作（$x\\rightarrow y$，即从 $x$ 移动到 $y$），则要求柿子旧颜色不是 $y$（这里 $y$ 是一个数字），然后把颜色 $x$（这里 $x$ 是一个数字）染上去并覆盖旧颜色，初始没有颜色。\r\n\r\n然而 zory 听说过烂柯的传说，所以他只看了 woker 操作前的局面就匆匆下山了，但他很好奇最后谁会赢，或者两人永远无法分出胜负。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行为数据组数 $T$，每组数据的第一行输入三个正数 $n$、$m$、$k$，第二行 $n-1$ 个正数表示 $2 \\sim n$ 每个节点的父亲，接下来$m$行每行两个正数表示有柿子的节点的位置 $p_i$ 及数量 $a_i$。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"如果 min 胜利输出 $\\tt win$，败北输出 $\\tt gg$，平手输出 $\\tt dead heat$ （区分大小写）"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n```plain\r\n1\r\n4 1 1\r\n1 2 3\r\n1 1\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\nwin\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $ 20\\% $ 的数据，保证 $n \\le 10,m=1$；  \r\n对于 $ 60\\% $ 的数据，保证 $n \\le 20,m \\leq 10$；  \r\n对于另外 $20\\% $ 的数据，保证是一条链；  \r\n对于 $ 100\\% $ 的数据，$T \\le 10，n,a_i \\leq100 ，m\\le 18$。"}]}