{"title":"「CCO 2020」旅行商问题","time_limit":7000,"memory_limit":512,"tags":["CCO","2020","构造","Special Judge"],"operation":{"submit":"https://loj.ac/problem/3320#submit_code","submissions":"https://loj.ac/submissions?problem_id=3320","statistics":"https://loj.ac/problem/3320/statistics/fastest","testdata":"https://loj.ac/problem/3320/testdata","discussion":"https://loj.ac/discussion/problem/3320"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [CCO 2020](https://cemc.math.uwaterloo.ca/contests/computing/2020/index.html) Day2 T1「[Travelling Salesperson](https://cemc.math.uwaterloo.ca/contests/computing/2020/cco/day2.pdf)」**，翻译者：[EntropyIncreaser](/user/3532)。\r\n\r\n---\r\n\r\n给一个 $N$ 个点的完全无向图，每条边是红色或者蓝色。请你对于每个顶点 $u$，找出一条尽量短的路径，经过每个节点，并且按顺序经过的边之颜色交替最多一次。\r\n\r\n"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行输入一个正整数 $N$，表示顶点数量。\r\n\r\n接下来 $N-1$ 行，第 $i$ 行是长为 $i-1$ 的，只出现 `R` 和 `B` 的字符串，依次表示 $i$ 节点与 $1, 2, \\dots, i-1$ 这些节点间边的颜色。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"输出 $2N$ 行，第 $2i-1$ 行输出一个整数 $M_i$，表示 $i$ 节点起始路径的经过节点数量。\r\n\r\n第 $2i$ 行输出 $M_i$ 个整数，表示这条路径依次经过的节点，以 $i$ 起始。\r\n"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入\r\n\r\n```plain\r\n4\r\nR\r\nRR\r\nBRB\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n5\r\n1 4 2 1 3\r\n6\r\n2 3 1 2 3 4\r\n5\r\n3 1 2 3 4\r\n4\r\n4 3 1 2\r\n```\r\n\r\n#### 样例解释\r\n\r\n根据评分方式（见下），该输出以 $3$ 为起点的路径实际上存在一组长为 $4$ 的解（$3,2,1,4$），故在该路径上的得分是 $4\\times \\lfloor 8 + 8\\times \\frac{2\\times 4 - 5}{4-1} \\rfloor = 64$，故得分不会超过 $64$。"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $100 \\%$ 的数据，$2 \\le N \\le 2000$。\r\n\r\n#### 评分方式\r\n\r\n令 $K_i$ 是以 $i$ 为起点的最优解的长度。如果存在一组 $M_i > 2K_i$，你的答案会得到 $0$ 分并判为 `Wrong Answer`。\r\n\r\n如果你得到的均为最优解，你获得满分。\r\n\r\n否则，你的得分将是 $4\\times \\lfloor 8 + 8\\times \\frac{2K_i - M_i}{K_i-1} \\rfloor$ 的最小值。"}]}