{"title":"「COCI 2009.10」ALADIN","time_limit":6000,"memory_limit":64,"tags":["早于 2010","COCI"],"operation":{"submit":"https://loj.ac/problem/2958#submit_code","submissions":"https://loj.ac/submissions?problem_id=2958","statistics":"https://loj.ac/problem/2958/statistics/fastest","testdata":"https://loj.ac/problem/2958/testdata","discussion":"https://loj.ac/discussion/problem/2958"},"statement":[{"title":"题目描述","type":"description","format":"markdown","require":["katex"],"content":" **译自 [COCI 2009.10](http://hsin.hr/coci/archive/2009_2010/) T6.** ***[ALADIN](http://hsin.hr/coci/archive/2009_2010/contest1_tasks.pdf)***\r\n\r\n有一个长度为 $N$ 的数组 $a_1,$ $a_2,$ $\\ldots,$ $a_N$，开始时这 $N$ 个数均为 0。  \r\n接下来对它有 $Q$ 次操作，操作分为两类：\r\n\r\n- $\\texttt{1 L R A B}$，修改操作，`a[L] = A%B;` `a[L+1] = (2*A)%B;` `a[L+2] = (3*A)%B;` ... `a[R] = ((R-L+1)*A)%B;`\r\n- $\\texttt{2 L R}$，查询操作，请输出 `a[L]+a[L+1]+...+a[R]`。"},{"title":"输入格式","type":"input_format","format":"markdown","require":["katex"],"content":"第一行两个整数 $N,Q$。  \r\n接下来 $Q$ 行，每行一组操作。"},{"title":"输出格式","type":"output_format","format":"markdown","require":["katex"],"content":"对于每组查询操作，输出一行结果。"},{"title":"样例","type":"example","format":"markdown","require":["katex"],"content":"#### 样例输入 1\r\n```plain\r\n6 3\r\n2 1 6\r\n1 1 5 1 2\r\n2 1 6\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n0\r\n3\r\n```\r\n\r\n#### 样例输入 2\r\n```plain\r\n4 5\r\n1 1 4 3 4\r\n2 1 1\r\n2 2 2\r\n2 3 3\r\n2 4 4\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n3\r\n2\r\n1\r\n0\r\n```\r\n\r\n#### 样例输入 3\r\n```plain\r\n4 4\r\n1 1 4 7 9\r\n2 1 4\r\n1 1 4 1 1\r\n2 1 4\r\n```\r\n\r\n#### 样例输出 3\r\n```plain\r\n16\r\n0\r\n```"},{"title":"数据范围与提示","type":"limit_and_hint","format":"markdown","require":["katex"],"content":"对于 $30\\%$ 的数据，$N, Q\\le 1000$。  \r\n对于 $70\\%$ 的数据，$Q\\le 1000$。  \r\n对于所有数据，$1\\le N\\le 10^9,$ $1\\le Q\\le 5\\times 10^4,$ $1≤ A, B ≤ 10^6$。"}]}